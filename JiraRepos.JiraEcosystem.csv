_id,id,fields.timeestimate,fields.description
61d4219ff4d395ee22ffebb7,134767,14400,"Encountered this plugin within the ecosystem.atlassian.net/projects, Looks like a very (!) usefull addon, but we're already using Jira 7.x so we can't install/use it."
61d4219ff4d395ee22ffec87,70685,1800,"Reference to ${req.contextPath} in the files view-voters.vm and view-watchers.vm is no longer valid, and causes a Velocity error.  This reference should be replaced by ${requestContext.baseUrl} instead; see JIRA-11669 for details."
61d4219ff4d395ee22fff765,41030,14400,"This test started failing when UPM-1020 was implemented. I looked into why but could not for the life of me figure it out.\nThrough manual testing I verified that the functionality is working as expected. But the test still reports otherwise.\n\nThe collapse all & expand all buttons, according to the tests, do nothing for search results.\n\nI'm ignore the test now so that we can at least get a baseline green build for the rest of the tests."
61d4219ff4d395ee22fff766,40983,7200,"I verified in PAC that Atlassian Connector for Eclipse version 3.0.0 does not have a binary URL.\n\nLoading it's plugin details in PAC shows me the following:\n!https://img.skitch.com/20110721-bru7ycqu5aq969r37rumgut1q3.jpg!\n\nThe logs have the following stacktrace:\n{noformat}\n2011-07-21 09:48:37,700 INFO [http-3990-6] [AccessLogFilter] admin GET http://localhost:3990/upm/rest/plugins/1.0/available/com.atlassian.ide.plugins.eclipse.jira-key?_=1311266917669 51135kb\nJul 21, 2011 9:48:38 AM com.sun.jersey.server.impl.application.WebApplicationImpl onException\nSEVERE: Internal server error\njava.lang.NullPointerException\n	at java.net.URI$Parser.parse(URI.java:3003)\n	at java.net.URI.<init>(URI.java:578)\n	at java.net.URI.create(URI.java:840)\n	at com.atlassian.upm.rest.representations.AvailablePluginRepresentation.<init>(AvailablePluginRepresentation.java:109)\n	at com.atlassian.upm.rest.representations.RepresentationFactoryImpl.createAvailablePluginRepresentation(RepresentationFactoryImpl.java:145)\n	at com.atlassian.upm.rest.resources.AvailablePluginResource.get(AvailablePluginResource.java:48)\n	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n	at java.lang.reflect.Method.invoke(Method.java:597)\n	at com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper$ResponseOutInvoker$1.invoke(DispatchProviderHelper.java:206)\n	at com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper$1.intercept(DispatchProviderHelper.java:90)\n	at com.atlassian.plugins.rest.common.interceptor.impl.DefaultMethodInvocation.invoke(DefaultMethodInvocation.java:61)\n	at com.atlassian.plugins.rest.common.expand.interceptor.ExpandInterceptor.intercept(ExpandInterceptor.java:38)\n	at com.atlassian.plugins.rest.common.interceptor.impl.DefaultMethodInvocation.invoke(DefaultMethodInvocation.java:61)\n	at com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper.invokeMethodWithInterceptors(DispatchProviderHelper.java:98)\n	at com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper.access$100(DispatchProviderHelper.java:28)\n	at com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper$ResponseOutInvoker._dispatch(DispatchProviderHelper.java:202)\n	at com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:67)\n	at com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:163)\n	at com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:71)\n	at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:111)\n	at com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:63)\n	at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:654)\n	at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:612)\n	at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:603)\n	at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:309)\n	at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:425)\n	at com.atlassian.plugins.rest.module.RestDelegatingServletFilter$JerseyOsgiServletContainer.doFilter(RestDelegatingServletFilter.java:128)\n	at com.sun.jersey.spi.container.servlet.ServletContainer.doFilter(ServletContainer.java:689)\n	at com.atlassian.plugins.rest.module.RestDelegatingServletFilter.doFilter(RestDelegatingServletFilter.java:62)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n	at com.atlassian.plugins.rest.module.servlet.RestServletUtilsUpdaterFilter.doFilterInternal(RestServletUtilsUpdaterFilter.java:26)\n	at com.atlassian.plugins.rest.module.servlet.RestServletUtilsUpdaterFilter.doFilter(RestServletUtilsUpdaterFilter.java:40)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n	at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:25)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n	at com.atlassian.labs.httpservice.resource.ResourceFilter.doFilter(ResourceFilter.java:59)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.bamboo.filter.AccessLogFilter.doFilter(AccessLogFilter.java:66)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:265)\n	at org.acegisecurity.providers.anonymous.AnonymousProcessingFilter.doFilter(AnonymousProcessingFilter.java:125)\n	at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:275)\n	at com.atlassian.bamboo.filter.SeraphLoginFilter.doFilter(SeraphLoginFilter.java:74)\n	at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:275)\n	at org.acegisecurity.util.FilterChainProxy.doFilter(FilterChainProxy.java:149)\n	at org.acegisecurity.util.FilterToBeanProxy.doFilter(FilterToBeanProxy.java:98)\n	at com.atlassian.bamboo.filter.BambooAcegiProxyFilter.doFilter(BambooAcegiProxyFilter.java:25)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.bamboo.filter.LicenseFilter.doFilter(LicenseFilter.java:73)\n	at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.johnson.filters.AbstractJohnsonFilter.doFilter(AbstractJohnsonFilter.java:71)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.seraph.filter.SecurityFilter.doFilter(SecurityFilter.java:211)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.seraph.filter.BaseLoginFilter.doFilter(BaseLoginFilter.java:150)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n	at com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:71)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n	at com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:98)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n	at com.atlassian.plugins.rest.module.servlet.RestSeraphFilter.doFilter(RestSeraphFilter.java:40)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at org.springframework.orm.hibernate.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:170)\n	at com.atlassian.bamboo.persistence.BambooSessionInViewFilter.doFilterInternal(BambooSessionInViewFilter.java:31)\n	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:75)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:96)\n	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:75)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\n	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\n	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)\n	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\n	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:567)\n	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293)\n	at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:849)\n	at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583)\n	at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:454)\n	at java.lang.Thread.run(Thread.java:637)\n{noformat}"
61d4219ff4d395ee22fff769,40932,7200,"This means that if you start on a tab, switch to another tab, then refresh the page, you will be redirected back to the original tab."
61d4219ff4d395ee22fff76a,40493,36000,It's often desirable to install OSGi bundles that are not actually Atlassian plugins through the UPM. This is not difficult to do; but the UPM currently doesn't support it. 
61d4219ff4d395ee22fff76e,40064,21600,"Let's say you have a disabled plugin that you have a new version of. Upload a new version (in my case I was uploading from a local jar file) which I would expect to install and then remain disabled because the existing/previous version was disabled. But instead of getting a message saying ""plugin was installed and remains as disabled"" I get a message saying it couldn't be enabled for some unknown reason and to check the logs.\n"
61d4219ff4d395ee22fff77e,39226,21600,"We need to determine which versions of products were affected by UPM-1111 and maybe propose a fix on PAC, in the form of a UPM download.\nDon't forget that BTF users can't upload local plugins (such as he new UPM plugin we provide), so can they install plugins on the command line ?"
61d4219ff4d395ee22fff7ae,35531,10800,"When we run the latest version of UPM with Bamboo, the startup fails: ""Could not load bootstrap from environment	 java.lang.IllegalStateException: Unable to bootstrap Bamboo: Failed to run pre-bootstrap upgrade tasks.""\nThe reason is: UPM (plugin/pom.xml) uses an outdated version of the Product Data.\n\nSteps to reproduce:\n\nsvn co https://studio.atlassian.com/svn/UPM/trunk upm\ncd upm\nmvn clean install\ncd plugin\n\nmvn -DskipTests -product=bamboo clean amps:run -Dproduct.version=3.1-SNAPSHOT"
61d4219ff4d395ee22fff7e8,32494,21600,"When uploading a plugin (presumably after my session had expired), I had the upload plugin dialog spinning forever. This exception was in the logs:\n\n{code}\nSEVERE: Internal server error\ncom.atlassian.upm.token.TokenException: Unable to match and invalidate token for user admin\n	at com.atlassian.upm.token.TokenManagerImpl.attemptToMatchAndInvalidateToken(TokenManagerImpl.java:78)\n	at com.atlassian.upm.rest.resources.InstalledPluginCollectionResource.checkValidToken(InstalledPluginCollectionResource.java:207)\n	at com.atlassian.upm.rest.resources.InstalledPluginCollectionResource.installFromFileSystem(InstalledPluginCollectionResource.java:180)\n	...\nCaused by: java.lang.NullPointerException\n	at com.atlassian.upm.token.TokenManagerImpl$2.call(TokenManagerImpl.java:66)\n	at com.atlassian.upm.token.TokenManagerImpl$2.call(TokenManagerImpl.java:62)\n	at com.atlassian.util.concurrent.ManagedLocks$ManagedLockImpl.withLock(ManagedLocks.java:313)\n	at com.atlassian.upm.token.TokenManagerImpl.attemptToMatchAndInvalidateToken(TokenManagerImpl.java:61)\n	... 133 more\n{code}\n\nThe relevant code is in TokenManagerImpl:\n\n{code:java}\n// ...\nToken storedToken = tokenStore.get(username);\nif (tokenValue.equals(storedToken.getValue()))\n// ...\n{code}\n\nIn the case where the storedToken does not exist, this throws NullPointerException on the request thread. Then this error response is not handled properly by the JS code, so the dialog sits there spinning forever.\n\nThe error message itself also went to stderr instead of stdout, and was formatted using the default log4j settings instead of Confluence's configuration. This would mean that the application log in standalone wouldn't actually include this error -- it would spit out in the app server's log file.\n\nI think a few fixes are required to resolve this issue:\n\n- proper null handling in TokenManagerImpl\n- proper error and timeout handling in the AJAX code for the upload plugin dialog\n- ensure exception logging goes through slf4j/log4j correctly in Confluence.\n"
61d4219ff4d395ee22fff7ea,32489,64800,"I'm trying to test the usage tracking plugin, which is on PAC, while developing Confluence 3.5. It turns out that trying to install a plugin via UPM isn't possible in Confluence 3.5-SNAPSHOT. I get the message:\n\nbq. No plugins matching your search criteria are available for install in your Confluence instance.\n\nTurns out that the current process for testing plugins via the UPM is not easy for product developers at all. Here's what I've gleaned:\n\n- make sure you start in plugin dev mode (not the norm during product dev)\n- use a REST resource [only documented here|https://studio.atlassian.com/wiki/display/UPM/Blitz+Test+UPM+1.2-SNAPSHOT+bundled] to override the product version\n- work out the correct arguments for curl to actually send the necessary request\n- get error message about 'A specified precondition has failed for this request' without any logs to indicate what the problem is\n- give up and download the plugin JAR manually from PAC and install it into Confluence.\n\nI'd like to propose some improvements to make it seamless for product developers to test plugins with UPM/PAC:\n\n- PAC should support a 'latest' version for the product which responds with all the latest versions of plugins for that product\n- when the product has a -SNAPSHOT version, UPM should request the plugins with the 'latest' version instead of the actual version\n\nI think this would cater for all the plugin testing we need to do in development, which is a very important use case for PAC if we don't want to see plugins break with every upgrade.\n\n_Update_: since I got around to trying it, the build number REST resource doesn't actually seem to work in Confluence even when started in dev mode. Not sure why because the error isn't logged. Perhaps I'm using curl incorrectly - here is my attempt at a PUT request:\n\nbq. {{curl -T build-number.txt -u admin:admin -H 'Content-Type: application/vnd.atl.plugin' 'http://localhost:8080/confluence/rest/plugins/1.0/build-number'}}\n\nThe response is just 'A specified precondition has failed for this request', in an HTML page (not JSON). :(\n"
61d4219ff4d395ee22fff7eb,32454,7200,"this will be useful for support, who was already asking about this"
61d4219ff4d395ee22fff7f5,31393,14400,"A screenshot is attached showing how a border is missing for the left and top of the ""uploading plugin"" message box.  \n"
61d4219ff4d395ee22fff7f9,31287,14400,"The {{ServiceTracker}} opened up in the {{PermissionEnforcer}} is never closed. It probably should be, for example when the bundle is uninstalled."
61d4219ff4d395ee22fff7ff,30856,3600,There are UPM tests that exclude Confluence that should be re-enabled once CONFDEV-400 is fixed.
61d4219ff4d395ee22fff821,30457,3600,"These are the AJS.params entries that do not have matching entries in the i18n file\n\n{code}\n<input type=""hidden"" value=""upm.auditLog.install.plugin"" id=""upm.auditLog.install.plugin"" name=""upm.auditLog.install.plugin"">\n<input type=""hidden"" value=""upm.auditLog.uninstall.plugin"" id=""upm.auditLog.uninstall.plugin"" name=""upm.auditLog.uninstall.plugin"">\n<input type=""hidden"" value=""upm.auditLog.disable.plugin"" id=""upm.auditLog.disable.plugin"" name=""upm.auditLog.disable.plugin"">\n<input type=""hidden"" value=""upm.auditLog.disabled.plugin.failure"" id=""upm.auditLog.disabled.plugin.failure"" name=""upm.auditLog.disabled.plugin.failure"">\n<input type=""hidden"" value=""upm.auditLog.enable.plugin"" id=""upm.auditLog.enable.plugin"" name=""upm.auditLog.enable.plugin"">\n<input type=""hidden"" value=""upm.auditLog.enable.plugin.module"" id=""upm.auditLog.enable.plugin.module"" name=""upm.auditLog.enable.plugin.module"">\n<input type=""hidden"" value=""upm.auditLog.disable.plugin.module"" id=""upm.auditLog.disable.plugin.module"" name=""upm.auditLog.disable.plugin.module"">\n<input type=""hidden"" value=""upm.auditLog.safeMode.enter"" id=""upm.auditLog.safeMode.enter"" name=""upm.auditLog.safeMode.enter"">\n<input type=""hidden"" value=""upm.auditLog.safeMode.exit"" id=""upm.auditLog.safeMode.exit"" name=""upm.auditLog.safeMode.exit"">\n{code}"
61d4219ff4d395ee22fff845,30257,7200,"The progress popup is full width, in JIRA on IE7 only.\n\nThis might be an AUI bug, but warrants further investigation."
61d4219ff4d395ee22fff846,30253,7200,Confluence 3.3 is shipping with a version of REST that has the bug with not exposing REST resources after a plugin has been disabled. This means that we can not do the tests in PermissionServiceIntegrationTest until we move to a newer version of Confluence.\n\nIt was suggested that we try to override the version of REST that conf ships with but that seemed to kill confluence.\n\nI tried to move the build to use conf-3.4-m3 but we have tests that hang there. Once we fix this issue we should be able to move to the 3.4 builds.
61d4219ff4d395ee22fff847,30248,21600,"seeing this in jira (on branch r106833) for a couple plugins incl greenhopper and the tempo plugin:\n* when faking the version 522 to get some available plugins, and installing one of these plugins,\n* the install popup comes up but then returns and the ""install now"" button is not grayed out and there is no message in the plugin ui.\n* however, if you do a hard refresh, the plugin is removed from the install tab, shows up in the waiting for restart banner, and shows up grayed-out in the manage existing tab, which is what should have happened originally. not sure if the install is actually ok"
61d4219ff4d395ee22fff848,30247,21600,"talking about cancelling of something that requires restart. if you have just installed the plugins, they still have messages in them that say they'll be installed on restart. these messages need to be removed if the install is cancelled"
61d4219ff4d395ee22fff84c,30190,3600,"Pete's blitz test page:  https://extranet.atlassian.com/display/QA/2010-08-19+-+Confluence+-+3.4-m3+-+UPM+Blitz+Test+-+Pete+de+Zwart\n\n\n{code}\n2010-08-19 00:07:58,225 ERROR [pool-7-thread-2] [com.atlassian.upm.PluginInstaller] execute File '' is not a valid plugin: Could not open the file as a jar\n{code}"
61d4219ff4d395ee22fff84d,30189,14400,"Pete's blitz test page: https://extranet.atlassian.com/display/QA/2010-08-19+-+Confluence+-+3.4-m3+-+UPM+Blitz+Test+-+Pete+de+Zwart\n\n{code}\n2010-08-19 00:06:09,439 ERROR [pool-7-thread-1] [rest.resources.install.InstallFromUriTask] download Failed to install plugin\n -- referer: https://qa-eac.atlassian.com/plugins/servlet/upm | url: /rest/plugins/1.0/ | userName: pdzwart\njava.lang.IllegalStateException: unsupported protocol: 'file'\n        at org.apache.commons.httpclient.protocol.Protocol.lazyRegisterProtocol(Protocol.java:149)\n        at org.apache.commons.httpclient.protocol.Protocol.getProtocol(Protocol.java:117)\n        at org.apache.commons.httpclient.HttpHost.<init>(HttpHost.java:107)\n        at org.apache.commons.httpclient.HttpMethodBase.setURI(HttpMethodBase.java:280)\n        at org.apache.commons.httpclient.HttpMethodBase.<init>(HttpMethodBase.java:220)\n        at org.apache.commons.httpclient.methods.GetMethod.<init>(GetMethod.java:89)\n        at com.sun.jersey.client.apache.ApacheHttpClientHandler.getHttpMethod(ApacheHttpClientHandler.java:211)\n        at com.sun.jersey.client.apache.ApacheHttpClientHandler.handle(ApacheHttpClientHandler.java:129)\n        at com.sun.jersey.api.client.Client.handle(Client.java:365)\n        at com.sun.jersey.api.client.WebResource.handle(WebResource.java:556)\n        at com.sun.jersey.api.client.WebResource.access$300(WebResource.java:68)\n        at com.sun.jersey.api.client.WebResource$Builder.get(WebResource.java:450)\n        at com.atlassian.upm.impl.PluginDownloadServiceImpl.get(PluginDownloadServiceImpl.java:116)\n        at com.atlassian.upm.impl.PluginDownloadServiceImpl.downloadPlugin(PluginDownloadServiceImpl.java:100)\n        at com.atlassian.upm.rest.resources.install.InstallFromUriTask.download(InstallFromUriTask.java:69)\n        at com.atlassian.upm.rest.resources.install.InstallFromUriTask.executeTask(InstallFromUriTask.java:51)\n        at com.atlassian.upm.rest.resources.install.InstallTask.call(InstallTask.java:29)\n        at com.atlassian.upm.rest.resources.install.InstallTask.call(InstallTask.java:14)\n        at com.atlassian.upm.rest.async.AsynchronousTaskManager$1.call(AsynchronousTaskManager.java:63)\n        at com.atlassian.upm.rest.async.AsynchronousTaskManager$1.call(AsynchronousTaskManager.java:57)\n        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:138)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n        at java.lang.Thread.run(Thread.java:619)\n{code}"
61d4219ff4d395ee22fff84f,30187,3600,The right-alignment of the purge policy text field feels wrong. Any reason for the alignment? \n\nPenny's blitz page: https://extranet.atlassian.com/display/QA/Penny%27s+IE7+UPM+Blitz+Results
61d4219ff4d395ee22fff851,30185,3600,"If you enter an invalid value into the Purge Policy text field, it shows you an error but still saves the value. If you return to the audit log page, the log is broken and does not display. \n\nPenny's blitz test results: https://extranet.atlassian.com/display/QA/Penny%27s+IE7+UPM+Blitz+Results\n\n"
61d4219ff4d395ee22fff853,30183,32400,"In IE7, the manage plugins page is completely unusable. It is so slow that it takes minutes to load and frequently hangs the browser. \n\nPenny's blitz test page:  https://extranet.atlassian.com/display/QA/Penny%27s+IE7+UPM+Blitz+Results"
61d4219ff4d395ee22fff854,30182,3600,UI is unclear after plugin is uninstalled\n\nAfter uninstalling a plugin....what is the expected UI?
61d4219ff4d395ee22fff856,30180,3600,Error message refers to 'downloading' when trying to 'upload' a plugin\n\njac issue: http://jira.atlassian.com/browse/CONF-20621\n\nblitz page: https://extranet.atlassian.com/display/QA/2010-08-19+-+Confluence+-+3.4-m3+-+UPM+Blitz+Test
61d4219ff4d395ee22fff858,30178,7200,"After uninstalling a plugin, the UI still suggests the plugin modules can be managed.\n\njac issue: http://jira.atlassian.com/browse/CONF-20623\n\nblitz page:  https://extranet.atlassian.com/display/QA/2010-08-19+-+Confluence+-+3.4-m3+-+UPM+Blitz+Test"
61d4219ff4d395ee22fff85c,30174,21600,After installing a plugin the upm should autoscroll to the added plugin accordion.\n\nFrom Andrew Prentice's blitz test results.\n\njac issue:\nhttp://jira.atlassian.com/browse/CONF-20628
61d4219ff4d395ee22fff861,30166,14400,https://studio.atlassian.com/wiki/display/UPM/Blitz+Test+UPM+1.2-SNAPSHOT+bundled
61d4219ff4d395ee22fff863,30164,3600,"If you install the last plugin on the install tab and collapse the plugin, the ""No matching plugins"" text is not shown.\nhttps://studio.atlassian.com/wiki/display/UPM/Blitz+Test+UPM+1.2-SNAPSHOT+bundled"
61d4219ff4d395ee22fff86a,30154,28800,"installed 6 plugins, went to uninstall 3 of them and each gave the message that ""This plugin will be uninstalled when the application is restarted."" Then clicked on show details in the ""There are changes"" banner and only the removal of the last plugin was displayed. On page refresh all three are displayed.\n\nhttps://studio.atlassian.com/wiki/display/UPM/Blitz+Test+UPM+1.2-SNAPSHOT+bundled"
61d4219ff4d395ee22fff86d,30151,14400,"If you have the calendar plugin installed and you do an upgrade that requires restart and before you restart you do an upgrade check then you are told you should upgrade the calendar puling and are presented with an ""upgrade now"" button\n\n    * install calendar plugin\n    * Change JIRA to version 519\n    * upgrade calendar plugin, do not restart\n    * go to upgrade check and check, you are shown calendar plugin\n"
61d4219ff4d395ee22fff86f,30148,21600,upgrade all for a reloadable plugin does not show messages about requiring restart. Steps to reproduce:\n\n    * install all plugins by putting them into installed-plugins directory.\n    * Change JIRA version to 519.\n    * click upgrade all\n\nhttps://studio.atlassian.com/wiki/display/UPM/Blitz+Test+UPM+1.2-SNAPSHOT+bundled
61d4219ff4d395ee22fff870,30147,7200,"Do not show upm-plugin-description area (or whatever div is the upper part of the plugin details) if a plugin has no description and no image. Was produced with ""ABAP Code-Formatter"" in Confluence. Just looks kinda silly with a big empty area all reserved for our generic image.\n\nhttps://studio.atlassian.com/wiki/display/UPM/Blitz+Test+UPM+1.2-SNAPSHOT+bundled"
61d4219ff4d395ee22fff871,30146,7200,"https://studio.atlassian.com/wiki/display/UPM/Blitz+Test+UPM+1.2-SNAPSHOT+bundled\n\n""Compatible if upgraded"" plugins have a ""plugin version"" attribute, but it isn't clear if that is the installed version or the compatible version. would be clear if both were listed, similar to what is done on the Upgrade tab."
61d4219ff4d395ee22fff875,30142,10800,"https://studio.atlassian.com/wiki/display/UPM/Blitz+Test+UPM+1.2-SNAPSHOT+bundled\n\nPlugin Details link on Manage tab goes to the most recent version on PAC instead of the installed version's page on PAC\n\n    * Install an older version of a plugin\n    * Go to the manage tab and click the plugin details link\n    * should be on the PAC page for the installed version, instead is of the latest version\n"
61d4219ff4d395ee22fff889,29674,64800,"I think this includes all the fixes from my fork, so we should be able to upgrade to it pretty easily - knock on wood.\n\nRich\n\n> ---------- Forwarded message ----------\n> From: ""Marc Guillemot"" <mguillemot@yahoo.fr>\n> Date: Aug 5, 2010 2:11 AM\n> Subject: [Htmlunit-user] [ANN] HtmlUnit 2.8 released\n> To: <htmlunit-user@lists.sourceforge.net>\n>\n> The HtmlUnit team is pleased to announce the release of HtmlUnit 2.8.\n> This release brings major improvements and a very large number of bug\n> fixes (92 entries in change log).\n>\n> Here is an extract of the change log:\n> - single thread for background JS execution\n> - migration to HttpClient 4\n> - initial support for FF3.6 simulation\n> - support for SOCKS proxy\n> - initial support for GoogleAppEngine\n> - support for large (binary) download\n> - ...\n>\n> Have a look at the change log for more details.\n> Changes: http://htmlunit.sourceforge.net/changes-report.html\n> Download: https://sourceforge.net/projects/htmlunit/files/\n>\n> Thanks to everyone who contributed to this release.\n>\n> The maven package should be soon available in the central maven repository.\n>\n> And as always, don't hesitate to blogvertise it!\n>\n> Enjoy!\n>\n> The HtmlUnit Development Team\n> http://htmlunit.sourceforge.net/\n>\n> ------------------------------------------------------------------------------\n> The Palm PDK Hot Apps Program offers developers who use the\n> Plug-In Development Kit to bring their C/C++ apps to Palm for a share\n> of $1 Million in cash or HP Products. Visit us here for more details:\n> http://p.sf.net/sfu/dev2dev-palm\n> _______________________________________________\n> Htmlunit-user mailing list\n> Htmlunit-user@lists.sourceforge.net\n> https://lists.sourceforge.net/lists/listinfo/htmlunit-user\n\n"
61d4219ff4d395ee22fff89d,29484,3600,Seems fine in Confluence.
61d4219ff4d395ee22fff8b2,29373,28800,"I installed the test-plugin-v2-installable-requires-restart plugin and the UPM showed an install success message, though the one and only module was mysteriously disabled. Looking at it from the old Plugins administration page (http://localhost:3990/upm/admin/viewplugins.action), I saw this error:\n{panel}\nThere were errors loading this plugin. There is more information in the logs.\nCause:\nPlugin requires a restart of the application due to the following modules: \[some-module\] \n{panel}\nWe should find this source of error messages and include it in UPM.\n\nYes, this particular case should result in a requires restart message and it doesn't (UPM-758), but it just shows that there are some errors we aren't finding. Didn't find where Confluence is getting the errors from by looking at their viewplugins etc actions and associated Java and Velocity, though maybe if someone dug into that it could be found.\n\nAnother case that has an error on install that is only shown through the old Confluence interface: \n* Start Confluence without the bundled atlassian-universal-plugin-manager-test-plugin-v2-not-reloadable (remove from pom) \n* Install test-plugin-v2-installable-requires-restart (which will include a module that isn't defined, because it is in the plugin above)\n* See success message in UPM install (but module disabled)\n* Error in old Confluence plugins page on module ""Error:  Support for this module is not currently installed.""\n"
61d4219ff4d395ee22fff8b9,29339,43200,"we previously upgraded refapp, but our test structure then made it harder to have tests for only some projects. now we should have the tests running in refapp"
61d4219ff4d395ee22fff8cb,29198,43200,the test part was formerly UPM-694 but it made sense to break it up by product now that our tests can easily run in only some products
61d4219ff4d395ee22fff8e8,28996,7200,"Probably due to spacing style differences, the upload plugin window requires a scrollbar when in FishEye and Confluence at least sometimes.\nAlso, (super minor) but it looks like the module description div isn't centered anymore. Haven't yet noticed any other discrepencies."
61d4219ff4d395ee22fff8e9,28993,14400,"In order to avoid having to construct urls, we're going to have to switch to using plugin keys to create unique ids (currently we use the plugin resource url).\n\nCurrently the plugin key does not appear to be returned in _any_ of the plugin collection resources.  The key for each returned plugin will have to be added to the representations for the following resources:\n * / (root)\n * /upgrades\n * /available/\* (featured, popular, supported, all available)"
61d4219ff4d395ee22fff8ea,28992,14400,"When installing a plugin that requires restart into Confluence, the requires restart message doesn't show. In JIRA and Refapp it does. This may be expected behavior, perhaps because of the products current Plugins library versions. Need to investigate"
61d4219ff4d395ee22fff8f0,28890,14400,Two classes are licensed under GPLv2 or CDDL licenses. The classes are com.sun.jersey.core.util.Base64 and com.sun.jersey.api.client.filter.HTTPBasicAuthFilter both in the test package. However  most (if not all) classes lack licensing information in the source files. 
61d4219ff4d395ee22fff8f1,28881,14400,"when john got back from vacation, he suggested i self-wire the atlassian concurrency stuff. so that's the first part of this issue.\n\nwhen i was doing that, i noticed that the com.atlassian.plugin bundle still was using version=""2.4"". after some discussion in chat, it was decided that we should bump up that version.\n"
61d4219ff4d395ee22fff8f4,28874,14400,"Passing an absolute filename causes com.atlassian.upm.PluginManagerPdkUsurperFilter to fail, as it can not create the file. This causes problems for our integration tests that uses html unit to upload file via the old pluginmanager. It fails on line 251."
61d4219ff4d395ee22fff900,28774,21600,It would be nice if the UPM stored which tab the user was viewing in a cookie and could restore the tab you were last on when browsing the UPM.\n\nIf I am doing plugin management in JIRA it is a little annoying that every time I browse to the UPM via the admin link I need to click again for the installed tab.
61d4219ff4d395ee22fff918,28519,43200,While trying to convert JIRA to using the UPM I found a few places where in messages displayed to the users we check to see if a plugin is disabled and if so we provide a message that they need to enable the plugin with a specific link to the plugin manager to do so.\n\nIt would be nice if you could specify a plugin key in the url such that UPM will display the installed plugin that matches the key.
61d4219ff4d395ee22fff91c,28494,7200,"Audit log shows the first author as the author for all rows, regardless if this is correct or not."
61d4219ff4d395ee22fff920,28446,14400,https://extranet.atlassian.com/display/INTEGRATION/Retrospective+June+2010+-+San+Francisco
61d4219ff4d395ee22fff92a,28382,7200,"When it is possible to put the system back to its original state after installing a plugin that requires restart, unignore tests that need that. Some of these tests are marked as waiting on AMPS-277, but an alternative to uninstalling the plugin would be to use the new (in Plugins 2.5.0) requires restart change cancellation functionality. Actually this functionality doesn't work until Plugins 2.5.2 (see old comment below).\n\nThere is also a test for the @CannotBeDisabled annotation which requires Plugins 2.5.0+.\n\n"
61d4219ff4d395ee22fff930,28344,7200,"I suggest a simple explanation of why this problem happens, with links to the product specific documentation for each supported product."
61d4219ff4d395ee22fff934,28340,14400,"Can't reproduce it right now, but saw it in my logs. Was the following plugin while accessing plugin details (PluginResource getter)\n\njava.lang.UnsupportedOperationException: Cannot unescape: test-plugin-v2-user-installed-with-modules\n        at com.atlassian.upm.rest.UpmUriEscaper.unescape(UpmUriEscaper.java:24)\n        at com.atlassian.upm.rest.resources.PluginResource.get(PluginResource.java:61)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n"
61d4219ff4d395ee22fff944,28197,259200,"jonathan via email:\nThere's one other thing we could work on, that I haven't written down yet anywhere. But it came out of a conversation with Mike. He's really excited about it, and I don't think it would be too hard to do. The Upgrade Checker is the thing that most admins at Summit were so excited about. However, most admins at summit are running versions that are too early to take advantage of it yet. But what if we wrote a super-simple, plugins1 plugin for JIRA and Confluence that could send the upgrade check REST call and then present the results. No further interaction, just a report for the admin to handle manually. Does that sound possible in a few days' work?\n"
61d4219ff4d395ee22fff9b8,27771,1800,"""Atlassian Plugin Exchange"" links should open in a new tab or window."
61d4219ff4d395ee22fff9ec,27657,14400,"Convention is to use links for pagination, but the audit log currently uses buttons.  While I'm in there I'm hoping to snazz up the styles a bit, and change the way the pagination data is stored."
61d4219ff4d395ee22fff9f5,27646,3600,The enable/disable buttons that appear on hover for module management ride a little high in their containers.  They should be vertically centered.
61d4219ff4d395ee22fff9f7,27642,43200,"Tried uploading both atlassian-universal-plugin-manager-test-plugin-v2-installable-requires-restart.jar (from fakepac) or the downloaded Balsamiq jar from https://plugins.atlassian.com/plugin/details/5161, uploading them both from my computer in Bamboo. \nIt works in refapp and jira. I cannot get it working correctly in confluence, but I don't see the following stacktrace (or any), so it might be something else. More investigation has to go on to figure out what the message below means.\n\nI got the following stacktrace in my log:\n\n[WARNING] [talledLocalContainer] May 24, 2010 1:12:53 PM com.sun.jersey.server.impl.application.WebApplicationImpl onException\n[WARNING] [talledLocalContainer] SEVERE: Internal server error\n[WARNING] [talledLocalContainer] java.lang.RuntimeException: balsdjlas\n[WARNING] [talledLocalContainer] 	at com.atlassian.plugins.rest.common.multipart.fileupload.CommonsFileUploadMultipartHandler.getFilePart(CommonsFileUploadMultipartHandler.java:42)\n[WARNING] [talledLocalContainer] 	at com.atlassian.upm.rest.resources.InstalledPluginCollectionResource.installFromFileSystem(InstalledPluginCollectionResource.java:130)\n[WARNING] [talledLocalContainer] 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[WARNING] [talledLocalContainer] 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n[WARNING] [talledLocalContainer] 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n[WARNING] [talledLocalContainer] 	at java.lang.reflect.Method.invoke(Method.java:597)\n[WARNING] [talledLocalContainer] 	at com.sun.jersey.server.impl.model.method.dispatch.AbstractResourceMethodDispatchProvider$ResponseOutInvoker._dispatch(AbstractResourceMethodDispatchProvider.java:175)\n[WARNING] [talledLocalContainer] 	at com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:67)\n[WARNING] [talledLocalContainer] 	at com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:163)\n[WARNING] [talledLocalContainer] 	at com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:71)\n[WARNING] [talledLocalContainer] 	at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:111)\n[WARNING] [talledLocalContainer] 	at com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:63)\n[WARNING] [talledLocalContainer] 	at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:654)\n[WARNING] [talledLocalContainer] 	at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:612)\n[WARNING] [talledLocalContainer] 	at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:603)\n[WARNING] [talledLocalContainer] 	at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:309)\n[WARNING] [talledLocalContainer] 	at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:425)\n[WARNING] [talledLocalContainer] 	at com.atlassian.plugins.rest.module.RestDelegatingServletFilter$JerseyOsgiServletContainer.doFilter(RestDelegatingServletFilter.java:198)\n[WARNING] [talledLocalContainer] 	at com.sun.jersey.spi.container.servlet.ServletContainer.doFilter(ServletContainer.java:689)\n[WARNING] [talledLocalContainer] 	at com.atlassian.plugins.rest.module.RestDelegatingServletFilter.doFilter(RestDelegatingServletFilter.java:112)\n[WARNING] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n[WARNING] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n[WARNING] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55)\n[WARNING] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:41)\n[WARNING] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n[WARNING] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n[WARNING] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n[WARNING] [talledLocalContainer] 	at com.atlassian.plugins.rest.module.servlet.RestServletUtilsUpdaterFilter.doFilterInternal(RestServletUtilsUpdaterFilter.java:26)\n[WARNING] [talledLocalContainer] 	at com.atlassian.plugins.rest.module.servlet.RestServletUtilsUpdaterFilter.doFilter(RestServletUtilsUpdaterFilter.java:40)\n[WARNING] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n[WARNING] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n[WARNING] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n[WARNING] [talledLocalContainer] 	at com.atlassian.labs.httpservice.resource.ResourceFilter.doFilter(ResourceFilter.java:59)\n[WARNING] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n[WARNING] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n[WARNING] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55)\n[WARNING] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:41)\n[WARNING] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n[WARNING] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n[WARNING] [talledLocalContainer] 	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)\n[WARNING] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n[WARNING] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n[WARNING] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\n[WARNING] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55)\n[WARNING] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:41)\n[WARNING] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n[WARNING] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n[WARNING] [talledLocalContainer] 	at com.atlassian.bamboo.filter.AccessLogFilter.doFilter(AccessLogFilter.java:66)\n[WARNING] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n[WARNING] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n[WARNING] [talledLocalContainer] 	at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:265)\n[WARNING] [talledLocalContainer] 	at org.acegisecurity.providers.anonymous.AnonymousProcessingFilter.doFilter(AnonymousProcessingFilter.java:125)\n[WARNING] [talledLocalContainer] 	at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:275)\n[WARNING] [talledLocalContainer] 	at com.atlassian.bamboo.filter.SeraphLoginFilter.doFilter(SeraphLoginFilter.java:66)\n[WARNING] [talledLocalContainer] 	at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:275)\n[WARNING] [talledLocalContainer] 	at org.acegisecurity.util.FilterChainProxy.doFilter(FilterChainProxy.java:149)\n[WARNING] [talledLocalContainer] 	at org.acegisecurity.util.FilterToBeanProxy.doFilter(FilterToBeanProxy.java:98)\n[WARNING] [talledLocalContainer] 	at com.atlassian.bamboo.filter.BambooAcegiProxyFilter.doFilter(BambooAcegiProxyFilter.java:25)\n[WARNING] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n[WARNING] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n[WARNING] [talledLocalContainer] 	at com.atlassian.bamboo.filter.LicenseFilter.doFilter(LicenseFilter.java:73)\n[WARNING] [talledLocalContainer] 	at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31)\n[WARNING] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n[WARNING] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n[WARNING] [talledLocalContainer] 	at com.atlassian.johnson.filters.AbstractJohnsonFilter.doFilter(AbstractJohnsonFilter.java:72)\n[WARNING] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n[WARNING] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n[WARNING] [talledLocalContainer] 	at com.atlassian.seraph.filter.SecurityFilter.doFilter(SecurityFilter.java:206)\n[WARNING] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n[WARNING] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n[WARNING] [talledLocalContainer] 	at com.atlassian.seraph.filter.BaseLoginFilter.doFilter(BaseLoginFilter.java:133)\n[WARNING] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n[WARNING] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n[WARNING] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\n[WARNING] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n[WARNING] [talledLocalContainer] 	at com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:69)\n[WARNING] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n[WARNING] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n[WARNING] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55)\n[WARNING] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:41)\n[WARNING] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n[WARNING] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n[WARNING] [talledLocalContainer] 	at org.springframework.orm.hibernate.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:170)\n[WARNING] [talledLocalContainer] 	at com.atlassian.bamboo.persistence.BambooSessionInViewFilter.doFilterInternal(BambooSessionInViewFilter.java:34)\n[WARNING] [talledLocalContainer] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:75)\n[WARNING] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n[WARNING] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n[WARNING] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\n[WARNING] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55)\n[WARNING] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:41)\n[WARNING] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n[WARNING] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n[WARNING] [talledLocalContainer] 	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:96)\n[WARNING] [talledLocalContainer] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:75)\n[WARNING] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n[WARNING] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n[WARNING] [talledLocalContainer] 	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\n[WARNING] [talledLocalContainer] 	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\n[WARNING] [talledLocalContainer] 	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)\n[WARNING] [talledLocalContainer] 	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\n[WARNING] [talledLocalContainer] 	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:567)\n[WARNING] [talledLocalContainer] 	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n[WARNING] [talledLocalContainer] 	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293)\n[WARNING] [talledLocalContainer] 	at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:849)\n[WARNING] [talledLocalContainer] 	at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583)\n[WARNING] [talledLocalContainer] 	at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:454)\n[WARNING] [talledLocalContainer] 	at java.lang.Thread.run(Thread.java:637)\n["
61d4219ff4d395ee22fff9fb,27635,14400,didn't get to this at the end of last iteration: https://studio.atlassian.com/source/cru/CR-UPM-271#c16477
61d4219ff4d395ee22fffa01,27582,14400,HtmlUnit 2.7 should contain fixes for the PUT method problem.\n\nhttp://sourceforge.net/tracker/index.php?func=detail&aid=2903679&group_id=47038&atid=448266\n\nThis issue should include unignoring tests in {{ManageExistingTabUiIntegrationTest}}
61d4219ff4d395ee22fffa1a,27464,21600,"https://studio.atlassian.com/source/cru/CR-UPM-216#c15858\n\nSo all links should be in a Map<String, URI> called links. And the self link should always be called ""self"", and not ""uri"".\n\nThe reason for the Map<String, URI> even in this case is because we may want to add additional links later. Changing the representation from a single link to a map of links means making backward incompatible changes for clients. But if we have a map of links, we can add more whenever we have the need."
61d4219ff4d395ee22fffa33,27269,7200,"The infamous 5th category, in which a plugin is compatible with a newer version if upgraded, but that upgrade is not compatible with the current version."
61d4219ff4d395ee22fffa37,27265,3600,"There appear to be some stray xhtml elements (eg trailing /), which should be removed."
61d4219ff4d395ee22fffa48,27212,7200,Not all of the error messages that the back end is capable of returning are being made available to the UI.  Any possible message text needs to be accessible via {{AJS.params.\{subcode\}}}
61d4219ff4d395ee22fffa4c,27189,7200,"[Mockups|https://studio.atlassian.com/wiki/display/UPM/Func+Spec+for+Bundled+1.0] have the top-most title changing, but we can't do that, so we need to change the h2 when we switch tabs.  Right now the h2 always says ""Plugin Exchange Manager"""
61d4219ff4d395ee22fffa4d,27186,3600,"Currently if a plugin on the Install tab doesn't have an icon, we just don't show any image.  Jonathan has requested a ""No icon"" icon so that there's always something there."
61d4219ff4d395ee22fffa4e,27185,14400,Should show plugin details like on other tabs.
61d4219ff4d395ee22fffa4f,27184,14400,"* -Make default state on Install 'Featured Plugins'.-\n* -Need a refresh button on Install tab.-\n* -Change ""Plugin Exchange"" to ""Atlassian Plugin Exchange"" in body text, but not in title.-\n* -The h2. titles should change as you change tabs. See mockups. Otherwise, they're just duplicating the main title.- (UPM-404)\n* -Compat check plugin elements are labeled with the key, not the title, of the plugin.- [Known issue|https://studio.atlassian.com/source/browse/UPM/trunk/plugin/src/main/java/com/atlassian/upm/rest/representations/ProductUpgradePluginCompatibilityRepresentation.java?r=59332#l69]\n* -Compat check tab doesn't have details folddown. Why not?- UPM-402\n* -What's the ""compatible with"" field supposed to show on the Upgrade and Install tab? Always seems to be ""unknown.""-\n* -In plugin details on Installed tab, show: version, key, Developer (with URL if available), description. All that's available right now in the first call. There might be more we can add later. No need to make a second call.-\n* -<li>s in plugin descriptions are fucked up. Look at Gliffy plugin in Confluence for an example.-\n* -Can we limit the size of the icons? See the Confluence Custom Space User Management plugin as a bad example.-\n* -Can we put a ""no icon"" icon there when it's missing?- UPM-403"
61d4219ff4d395ee22fffa57,27175,7200,"Currently the back end is returning an empty response in specific instances (UPM-392).  The UI should handle this case in some fashion, and inform the user that the task has completed but there was an unknown error."
61d4219ff4d395ee22fffa5a,27172,3600,"Error is:\n{code}\nhtml4 is not defined\n[Break on this error] eflags = html4.ELEMENTS.hasOwnProperty(tagName) \n{code}\n\nThis appears to be caused by the html-sanitizer.js file requiring an html4 object that is not provided.  Looks like Google auto-generates this file, which can be found here:\nhttp://www.google.com/codesearch/p?hl=en#wBZsFl6bRv8/trunk/experimental/jquery/test/caja/html4-defs.js&q=html4%20package:http://google-caja\.googlecode\.com&sa=N&cd=1&ct=rc\n\nIt's probably satisfactory for us to just include the html4 object in the html-sanitizer file. "
61d4219ff4d395ee22fffa5e,27158,7200, * Tabs are floating above their bottom border\n * There are some hasLayout bugs with the plugin lists\n * There's also some JS errors:\n ** Audit log entries are not being retrieved properly\n ** Something is going wrong when building plugin lists
61d4219ff4d395ee22fffa5f,27157,3600,"eg, {{container.trigger('panel:loaded');}}\n\nWe'll need to use 'panelLoaded' or something similar instead."
61d4219ff4d395ee22fffa60,27153,7200,"When running in JIRA, the UPM styles are off -- specifically, the font sizes are all really small and there are some alignment issues."
61d4219ff4d395ee22fffa69,27036,7200,"The input boxes used for filtering plugins are bound to the keyup event, which means that interacting with the box via the mouse does nothing.  We'll probably need to either bind to the click event as well, or bind to the change event (can you do this for non-select elements?)"
61d4219ff4d395ee22fffa6e,26996,7200,It's not immediately clear what the drop down on the Install tab does.  Dave/Ted have requested a title or some other explanatory element next to/above the drop down.
61d4219ff4d395ee22fffa70,26994,7200,"I believe that the puzzle piece icons are meant to convey currently installed plugins, but Ted and Dave think it's confusing and have requested that the icon (or some variation of it) be included for all plugin elements."
61d4219ff4d395ee22fffa71,26993,7200,"Currently if a category is empty on the Compatibility Check page, we just display some text that says no matching plugins were found.  DOF has requested that we instead hide any such empty categories."
61d4219ff4d395ee22fffa72,26992,7200,"We should show a confirmation dialog after a user clicks on the ""Enter support mode"" link, but before we actually start the support mode process."
61d4219ff4d395ee22fffa73,26989,7200,"Currently, the js does a call to the root resource _just_ to get the uri for whatever resource it actually wants (which is only sometimes, and not by default, the root resource).  Rich was saying we could just put the required uris into the velocity file to avoid this extra call."
61d4219ff4d395ee22fffa74,26988,14400,"Currently the UI handles single asynchronous tasks.  But if there are queued tasks, it doesn't do anything to notify the user that the next task in the queue is being run once the first is done."
61d4219ff4d395ee22fffa75,26984,43200,"Using real PAC, hopefully."
61d4219ff4d395ee22fffa83,26961,3600,"Jonathan has requested that the plugin message container take up the full-width, and the ratings element be pushed down below it."
61d4219ff4d395ee22fffa91,26947,1800,JS error is being thrown when you do a compatibility check.  Looks like the createHash() fn isn't getting any actual input.
61d4219ff4d395ee22fffa92,26946,14400,"For complex async tasks (like upgrade all), the async resource response contains information on the current state.  The progress popup should update itself with this information, rather than showing a static message throughout the duration of the task."
61d4219ff4d395ee22fffa93,26945,14400,"The response when the ""Upgrade all"" task has completed has lots of fun information what what succeeded, what failed, why, and so on and so forth.  But the UI isn't doing all that it could do with this information.  We need to parse out the response and display a list of successes and failures to the user."
61d4219ff4d395ee22fffa9a,26912,14400,"When you click on a plugin in the UI to expand its details, there is a delay while the details are retrieved from the backend, but there is no indication that anything is happening.  Ideally, I think we would want to show a throbber in the plugin container element while the details are being retrieved."
61d4219ff4d395ee22fffa9b,26911,7200,"When the UPM is initially loaded, it makes a call to the root resource to get all of the resource URIs, before attempting to load the selected tab.  While this call is being made, there is no indication that anything is happening.  We should show a throbber or some other indication of progress while this initial call is being made, not just when the call to load the tab happens."
61d4219ff4d395ee22fffa9f,26874,14400,"On the compatibility check tab we get a list of future versions of the app that the user can check plugin compatibility against, and stuff them into a drop down.  If the user's app is rather old we might end up with a lot of such versions.  We should probably figure out a good way to deal with, say, more than ten or so future versions."
61d4219ff4d395ee22fffaa1,26870,7200,A pingAfter property has been added to the asynchronous progress representation.  We should use that instead of hard-coding the delay.
61d4219ff4d395ee22fffaa3,26868,21600,"Back button functionality was fixed for some browsers (UPM-313), but for it to work in all browsers we'll need to either poll the location.hash property or use a plugin like http://benalman.com/projects/jquery-hashchange-plugin/"
61d4219ff4d395ee22fffaa4,26867,7200,"Some event queuing functionality was built into the UI for things like upgrade all, but all of this will be handled on the back end.  It seems that there is no need for the queueing functionality in the front-end, so it should be removed."
61d4219ff4d395ee22fffaa7,26852,3600,"We're already storing the selected tab value in the hash, but the back button doesn't work.  For browsers that support 'onhashchange' (FF 3.6+, IE8+, Chrome 5+), we can just use that event.  To support it in other browsers we'd have to implement some polling of the location.hash property, or use a plugin like http://benalman.com/projects/jquery-hashchange-plugin/\n\nFor now, I'm going to assume it's not worth supporting in browsers without onhashchange."
61d4219ff4d395ee22fffab0,26822,14400,"I just recently added some functionality to mark a plugin for removal once it is collapsed (eg, if you install a plugin from the ""Install"" tab, it gives you a success message in that plugin, and removes it when you collapse it or switch tabs).\n\nIt would be clearer what was happening if the plugin was allowed to collapse, then faded out before being removed."
61d4219ff4d395ee22fffab1,26821,7200,"It would be nice if, after installing a plugin from a specified uri, when the manage tab is loaded we auto-expanded the plugin that was just installed."
61d4219ff4d395ee22fffac5,26754,7200,"Each plugin in the ""Available upgrades"" section on the ""Upgrade"" tab should have an ""Upgrade"" button that, well, upgrades the plugin.  Currently these buttons aren't hooked up to any actual functionality.  Once the back end for this exists, we'll need to hook the buttons up."
61d4219ff4d395ee22fffac6,26753,7200,"On the ""Install"" tab, if details for a plugin image are provided in the representation, we need to show that image.  Currently, we're just ignoring those details."
61d4219ff4d395ee22fffac7,26752,21600,"The ""Compatibility"" tab currently shows a static set of plugins.  We need to retrieve the actual list of plugins and their compatibility category from the backend, based on a passed product and version number."
61d4219ff4d395ee22fffac8,26751,14400,"On the compatibility tab, there's a version drop down that is currently hard-coded.  We need to retrieve a list of versions from the back end and build the select accordingly.\n\nWe may also want/need to figure out how to deal with a large number of available versions (eg, if you have a rather old version, showing all future versions may be more than is appropriate for a single drop down)."
61d4219ff4d395ee22fffac9,26750,7200,"In the mockup for the ""Manage existing"" tab, there's a ""Configure"" link.  I'm not entirely sure what this is supposed to do, but we'll need to get the appropriate change(s) made on the back end, and then fill in the details in the JS."
61d4219ff4d395ee22fffaca,26749,7200,"The ""License"" and ""Compatible with"" sections of the plugin details for the ""Install"" and ""Manage"" tabs are currently blank for all plugins.  We need to investigate the feasibility of providing this information (mainly the compatibility) and proceed accordingly.  This will require a change to the representation(s) on the backend."
61d4219ff4d395ee22fffacb,26748,7200,"There is a ""Release notes"" link in the mockups for the upgrade and install tabs.  We need to figure out if this information is easily accessible for some or all cases (eg would it require an extra call to PAC for upgradeable plugins?) and proceed accordingly.  This will require a change to the representation(s) on the backend."
61d4219ff4d395ee22fffacc,26747,7200,"Backend functionality doesn't exist yet, but once it does we'll need to hook the ""upgrade all"" button in the UI up to the relevant resource."
61d4219ff4d395ee22fffacd,26746,7200,"The ""Upgrade"" tab is still pulling the plugin list(s) from a static file.  Once this resource is available on the back end, we need to hook the UI up to it and make sure it's working properly."
61d4219ff4d395ee22ffface,26745,43200,"There's a search box on the ""Install"" tab that is currently hooked up to work as a filter for the displayed plugins.  However, this box is intended to allow the user to search plugins in PAC.  We'll need this functionality built out on the back end first."
61d4219ff4d395ee22fffadb,26699,21600,"There's an ""Upload Plugin"" link in the UI that should allow the user to upload a plugin from a local file or url.  Right now it's not hooked up to any back-end functionality."
61d4219ff4d395ee22fffade,26682,14400,"Now that we have asynchronous tasks, we should check to see if there are any pending tasks on page load, and display an appropriate message/lightbox if there are."
61d4219ff4d395ee22fffae0,26667,21600,Requests from the UI currently expect a synchronous response.  We need to take advantage of John's asynchronous request work.
61d4219ff4d395ee22fffae2,26660,900,"Currently, the root resource returns the uri(s) for either:\n * 'safe-mode', if the app is not in safe mode; or,\n * 'exit-safe-mode-restore' and 'exit-safe-mode-keep', if the app is in safe mode\n\nIf safe mode is then toggled with a PUT to the respective resource, only the enabled flag is returned.  Therefore we have no way to get the resource we need to enable/disable safe mode again without making another (seemingly unnecessary) call to the root resource.\n\nI would think we should either return all three resource uris in the root resource, or return the uris we don't have in the response to the safe mode PUT."
61d4219ff4d395ee22fffae3,26657,21600,"Per Lachlan's request, plugin-specific messages should be displayed in the plugin details container, not at the top of the page like it is currently."
61d4219ff4d395ee22fffae4,26655,21600,"Safe mode is now working on the back end, so we need to hook the UI up to it."
61d4219ff4d395ee22fffae5,26654,600,"Currently we return the /available resource uri with the root resource.  But I think we're going to want to show the featured plugins (/available/featured) by default on the Install tab.  We need to either return the featured uri instead of the available uri in the root resource, or (preferable for me) return all three /available/* uris with the root resource."
61d4219ff4d395ee22fffae6,26643,14400,"Back end for plugin install and uninstall should both be working, and now that we've got the ""Install"" tab pulling in actual (fake) data, we should be able to hook up the install and uninstall buttons in the UI."
61d4219ff4d395ee22fffae7,26620,7200,Rich was kind enough to make the /available resource work.  Hook the UI up to that instead of fake data.  /available/featured and /available/popular to follow shortly.
61d4219ff4d395ee22fffae8,26616,3600,"In the current installed plugins representation, the plugins array is identified as 'pluginEntries'.  In the available plugins representation, it's 'plugins'.  The front-end would appreciate it if there was some commonality here.  Consensus in chat seems to be to change the installed representation to 'plugins'."
61d4219ff4d395ee22fffae9,26614,7200,"(11:06:26 AM) jkodumal_: any objection to moving the plugin configuration to the plugin submodule pom?\n(11:06:36 AM) rich: nope, that's fine\n(11:06:39 AM) jkodumal_: was there an advantage to having it in the root?\n(11:06:50 AM) rich: i don't think so\n(11:06:54 AM) jkodumal_: kk\n(11:06:55 AM) rich: i almost moved it myself\n...\n(11:08:15 AM) jkodumal_: hey cheryl, would you mind moving the plugin configuration to the submodule pom?\n"
61d4219ff4d395ee22fffaf2,26594,7200,Only the root resource should be hardcoded into the js.  All other necessary links should be returned in the root resource representation.
61d4219ff4d395ee22fffaf3,26593,21600,"We may want to expose a button in the UI to allow the user to purge the audit log (that functionality is already available as a REST resource). \n\nWe may also want to consider allowing the admin to configure auto-purge, which is currently set to purge entries older than one month."
61d4219ff4d395ee22fffaf4,26579,7200,"According to John, the ""Plugin Details"" URI is now being returned in the representation, and so we should be able to hook it up on the front-end."
61d4219ff4d395ee22fffaf6,26577,14400,"On the manage tab, Enable/Disable, Uninstall, and Configure buttons/links are shown for system and bundled plugins, even though those actions are not allowed.  Unusable buttons and links should not be shown."
61d4219ff4d395ee22fffaf9,26574,14400,Audit log is currently only retrieved once per page load.  We should allow the user to refresh the log at will.
61d4219ff4d395ee22fffafb,26525,7200,"Ryan recently added a flag to the plugins representation that differentiates user-installed plugins from system plugins.  Use this functionality to correctly place plugins on the ""Manage"" screen."
61d4219ff4d395ee22fffafe,26516,43200,SAL-108
61d4219ff4d395ee22fffb2d,26327,21600,"UI currently has do-nothing buttons for enabling/disabling plugins.  The back-end for this should be in place now, so hook the UI up to the actual functionality."
61d4219ff4d395ee22fffb31,26321,21600,"Add a new ""Audit Log"" or ""Log"" tab that will display the last 50 items in the audit log."
61d4219ff4d395ee22fffb32,26320,14400,"There are many instances where we'll want to be able to display messages to users from the UPM UI:\n * ""Plugin X was successfully installed/uninstalled/enabled/disabled/upgraded""\n * ""A restart is required to complete change X""\n * etc, etc\n\nMy initial thinking is that these messages will all appear above the tabs, and will therefore persist across tab changes.  Messages will not disappear automatically, they will require user intervention to be dismissed (but they will be non-intrusive to the user experience)."
61d4219ff4d395ee22fffb33,26319,21600,"There are instances where we could potentially have hundreds of plugins to display at a single time.  For scalability, we'll want the ability to paginate these results."
61d4219ff4d395ee22fffb35,26290,21600,see:\nhttps://studio.atlassian.com/source/cru/CR-UPM-16#c13599\nhttps://studio.atlassian.com/source/cru/CR-UPM-18#c13561\n
61d4219ff4d395ee22fffb41,26260,21600,"While we are installing, upgrading, disabling, etc, etc plugins through the UPM UI, we will need to have some indication of status/progress.  Eventually we may move to a non-blocking UI with Bamboo-like progress updates, but as a first cut we need to block the UI with some sort of lightbox/throbber combination."
61d4219ff4d395ee22fffb42,26259,14400,"There are 3 ""filter"" boxes (text inputs that will filter a list of plugins) in the UPM UI.  Currently, they do nothing.  Hook them up to the magic javascript and make them do things."
61d4219ff4d395ee22fffb43,26241,21600,"(02:02:27 PM) cheryl: why does throwing an exception from a post method make an error about status \[""org.codehaus.jackson.map.JsonMappingException: No serializer found for class com.atlassian.plugins.rest.common.Status and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationConfig.Feature.FAIL_ON_EMPTY_BEANS) )""\] instead of just some generic 500? can we set something up differently to change that?\n(02:02:47 PM) rwallace: nope, that's something they setup in the rest module afaik\n(02:02:56 PM) rwallace: a custom exception handler\n(02:03:44 PM) cheryl: custom handler that always gives the same not helpful message? on purpose or because it isn't working correctly?\n(02:03:59 PM) rwallace: it's not working with jackson correctly\n(02:04:26 PM) cheryl: ah. need a jackson flag for the rest module or something\n(02:06:14 PM) cheryl: for now, how should we deal with this? always catch Exception at the end of rest methods?\n(02:07:10 PM) bspeakmon: you should be able to do custom ExceptionMappers\n(02:07:53 PM) cheryl: then make our own custom exception mapper that gives a 500 if it is reached?\n(02:08:31 PM) bspeakmon: right\n(02:08:35 PM) rwallace: either that or we could add a custom mapping to our JsonProvider to properly serialize the REST modules Status obj\n(02:08:44 PM) bspeakmon: and have the mapper do the logging/whatever\n(02:08:56 PM) bspeakmon: or that\n(02:09:06 PM) cheryl: yeah, so what do we prefer?\n(02:09:27 PM) rwallace: i'd say the custom object mapping\n(02:09:51 PM) rwallace: it's less magic\n\nnote that it is easy to throw an unexpected exception, such as the ""java.lang.IllegalArgumentException: host parameter is null"" from org.apache.commons.httpclient.HttpConnection i was seeing in the case discussed above. (well, not seeing because of this problem)"
61d4219ff4d395ee22fffb44,26240,43200,"Currently, the prototype UI for UPM has static html in vm files.  Next step in moving forward would be to switch to ajax calls to fake data, to mock out what will happen when we can actually hit the REST web services."
61d4219ff4d395ee22fffb46,26238,21600,https://studio.atlassian.com/source/cru/CR-UPM-11/#c13294
61d4219ff4d395ee22fffb47,26237,14400,https://studio.atlassian.com/source/cru/CR-UPM-11/#c13256
61d4219ff4d395ee22fffb48,26236,7200,see https://studio.atlassian.com/source/cru/CR-UPM-11 for specific requests
61d4219ff4d395ee22fffb4a,26233,14400,https://studio.atlassian.com/source/cru/CR-UPM-11#c13250
61d4219ff4d395ee22fffb4c,26182,43200,"UPM needs a class that logs external interactions and is visible from the UI (separate tab?) \n\nLog entries should contain the name of the user that performed the action, as well as a readable description of what the action was. If you want to get fancy you can link the log entries to the appropriate UI elements. \n\nI would suggest that we do this cleanly by creating a component that wraps PluginAccessor and PluginController and exposes a clean API for other UPM components to include. Invariant should be that this new component is what we inject everywhere instead of PluginAccessor and PluginController.\n\nBy doing this, we can inject this new audit logger component in one place, and ensure that everything is logged consistently.\n\nShould also expose a new REST resource for the UI to access."
61d4219ff4d395ee22fffb4d,26177,14400,suggested in https://studio.atlassian.com/source/cru/CR-UPM-11#c13252
61d4219ff4d395ee22fffb4e,26171,21600,"right now it only contains a link to itself, but it needs much more"
61d4219ff4d395ee22fffb51,26131,43200,"Create base .vm, .css, and .js files needed for the UPM.  Use static data for now."
61d4219ff4d395ee22fffb5c,26088,7200,We need to set up a bamboo build
61d4219ff4d395ee22fffbe5,77348,57600,"Hi there,\r\nI found the TOC plugin is not compatible with latest version of Riki.\r\n\r\nCan you please provide an udpate on this? when can it release the plugin version which is compatible with new confluence version\r\n\r\nwe are in a process of an upgrade confluence 4.2.2 to 5.1.3\r\n\r\nThanks in advance!"
61d4219ff4d395ee22fffc46,73000,3600,"I downloaded 0.10.3 and found, that the list of jar's in lib folder is different to list of jar's mentioned in README.txt.\n\nInstead of lib/javasvn-*.jar and lib/ganymed.jar there are lib/svnkit-1.1.6.jar and lib/trilead-ssh2-build211.jar, which should be moved to JIRA's WEB-INF/lib.\n"
61d4219ff4d395ee22fffc6c,73091,28800,"There are few Issues in which Subversion commit panel is not being generated at all. Image attached\nwhen I see log it is showing some Null pointer exception\nI am using latest Subversion plugin available for 3.12, this problem is with only one project others are fine.\n\n2008-01-10 10:12:07,229 TP-Processor6 ERROR [subversion.issuetabpanels.changes.SubversionRevisionsTabPanel] Error retrieving actions for : TC-1\njava.lang.NullPointerException\nat com.atlassian.jira.plugin.ext.subversion.revisions.RevisionIndexer.getLogEntriesByRepository(RevisionIndexer.java:484)\nat com.atlassian.jira.plugin.ext.subversion.issuetabpanels.changes.SubversionRevisionsTabPanel.getActions(SubversionRevisionsTabPanel.java:36)\nat com.atlassian.jira.plugin.issuetabpanel.IssueTabPanelModuleDescriptor.getActions(IssueTabPanelModuleDescriptor.java:99)\nat com.atlassian.jira.web.action.issue.ViewIssue.getActions(ViewIssue.java:400)\nat sun.reflect.GeneratedMethodAccessor386.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat webwork.util.InjectionUtils$DefaultInjectionImpl.invoke(InjectionUtils.java:61)\nat webwork.util.InjectionUtils.invoke(InjectionUtils.java:52)\nat webwork.util.ValueStack.findValue(ValueStack.java:346)\nat webwork.util.ValueStack.findValue(ValueStack.java:175)\nat webwork.view.taglib.WebWorkBodyTagSupport.findValue(WebWorkBodyTagSupport.java:61)\nat webwork.view.taglib.BasicPropertyTag.doStartTag(BasicPropertyTag.java:54)\nat org.apache.jsp.includes.panels.issue.actions_jsp._jspService(actions_jsp.java:254)\nat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:98)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\nat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:331)\nat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:329)\nat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:265)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:691)\nat org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:594)\nat org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:505)\nat org.apache.jasper.runtime.JspRuntimeLibrary.include(JspRuntimeLibrary.java:965)\nat org.apache.jsp.secure.views.issue.viewissue_jsp._jspService(viewissue_jsp.java:321)\nat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:98)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\nat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:331)\nat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:329)\nat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:265)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:691)\nat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:469)\nat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:403)\nat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:301)\nat com.atlassian.jira.web.dispatcher.JiraServletDispatcher.service(JiraServletDispatcher.java:281)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:691)\nat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:469)\nat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:403)\nat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:301)\nat com.atlassian.jira.servlet.QuickLinkServlet.service(QuickLinkServlet.java:58)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.jira.web.filters.AccessLogFilter.doFilter(AccessLogFilter.java:73)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:119)\nat com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:55)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.seraph.filter.SecurityFilter.doFilter(SecurityFilter.java:192)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.seraph.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:114)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.seraph.filter.BaseLoginFilter.doFilter(BaseLoginFilter.java:110)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.util.profiling.filters.ProfilingFilter.doFilter(ProfilingFilter.java:132)\nat com.atlassian.jira.web.filters.JIRAProfilingFilter.doFilter(JIRAProfilingFilter.java:16)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.jira.web.filters.ActionCleanupDelayFilter.doFilter(ActionCleanupDelayFilter.java:43)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.jira.web.filters.RequestCleanupFilter.doFilter(RequestCleanupFilter.java:50)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.johnson.filters.AbstractJohnsonFilter.doFilter(AbstractJohnsonFilter.java:72)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat org.tuckey.web.filters.urlrewrite.UrlRewriteFilter.doFilter(UrlRewriteFilter.java:350)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.gzipfilter.GzipFilter.doFilter(GzipFilter.java:89)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.core.filters.AbstractEncodingFilter.doFilter(AbstractEncodingFilter.java:37)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.jira.appconsistency.db.DatabaseCompatibilityEnforcerFilter.doFilter(DatabaseCompatibilityEnforcerFilter.java:39)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:174)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:117)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:108)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:151)\nat org.apache.jk.server.JkCoyoteHandler.invoke(JkCoyoteHandler.java:200)\nat org.apache.jk.common.HandlerRequest.invoke(HandlerRequest.java:283)\nat org.apache.jk.common.ChannelSocket.invoke(ChannelSocket.java:773)\nat org.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java:703)\nat org.apache.jk.common.ChannelSocket$SocketConnection.runIt(ChannelSocket.java:895)\nat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:689)\nat java.lang.Thread.run(Unknown Source)\n2008-01-10 10:12:13,323 TP-Processor6 ERROR [subversion.issuetabpanels.changes.SubversionRevisionsTabPanel] Error retrieving actions for : TC-1\njava.lang.NullPointerException\nat com.atlassian.jira.plugin.ext.subversion.revisions.RevisionIndexer.getLogEntriesByRepository(RevisionIndexer.java:484)\nat com.atlassian.jira.plugin.ext.subversion.issuetabpanels.changes.SubversionRevisionsTabPanel.getActions(SubversionRevisionsTabPanel.java:36)\nat com.atlassian.jira.plugin.issuetabpanel.IssueTabPanelModuleDescriptor.getActions(IssueTabPanelModuleDescriptor.java:99)\nat com.atlassian.jira.web.action.issue.ViewIssue.getActions(ViewIssue.java:400)\nat sun.reflect.GeneratedMethodAccessor386.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat webwork.util.InjectionUtils$DefaultInjectionImpl.invoke(InjectionUtils.java:61)\nat webwork.util.InjectionUtils.invoke(InjectionUtils.java:52)\nat webwork.util.ValueStack.findValue(ValueStack.java:346)\nat webwork.util.ValueStack.findValue(ValueStack.java:175)\nat webwork.view.taglib.WebWorkBodyTagSupport.findValue(WebWorkBodyTagSupport.java:61)\nat webwork.view.taglib.BasicPropertyTag.doStartTag(BasicPropertyTag.java:54)\nat org.apache.jsp.includes.panels.issue.actions_jsp._jspService(actions_jsp.java:254)\nat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:98)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\nat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:331)\nat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:329)\nat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:265)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:691)\nat org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:594)\nat org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:505)\nat org.apache.jasper.runtime.JspRuntimeLibrary.include(JspRuntimeLibrary.java:965)\nat org.apache.jsp.secure.views.issue.viewissue_jsp._jspService(viewissue_jsp.java:321)\nat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:98)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\nat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:331)\nat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:329)\nat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:265)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:691)\nat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:469)\nat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:403)\nat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:301)\nat com.atlassian.jira.web.dispatcher.JiraServletDispatcher.service(JiraServletDispatcher.java:281)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:691)\nat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:469)\nat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:403)\nat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:301)\nat com.atlassian.jira.servlet.QuickLinkServlet.service(QuickLinkServlet.java:58)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.jira.web.filters.AccessLogFilter.doFilter(AccessLogFilter.java:73)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:119)\nat com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:55)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.seraph.filter.SecurityFilter.doFilter(SecurityFilter.java:192)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.seraph.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:114)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.seraph.filter.BaseLoginFilter.doFilter(BaseLoginFilter.java:110)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.util.profiling.filters.ProfilingFilter.doFilter(ProfilingFilter.java:132)\nat com.atlassian.jira.web.filters.JIRAProfilingFilter.doFilter(JIRAProfilingFilter.java:16)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.jira.web.filters.ActionCleanupDelayFilter.doFilter(ActionCleanupDelayFilter.java:43)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.jira.web.filters.RequestCleanupFilter.doFilter(RequestCleanupFilter.java:50)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.johnson.filters.AbstractJohnsonFilter.doFilter(AbstractJohnsonFilter.java:72)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat org.tuckey.web.filters.urlrewrite.UrlRewriteFilter.doFilter(UrlRewriteFilter.java:350)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.gzipfilter.GzipFilter.doFilter(GzipFilter.java:89)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.core.filters.AbstractEncodingFilter.doFilter(AbstractEncodingFilter.java:37)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.jira.appconsistency.db.DatabaseCompatibilityEnforcerFilter.doFilter(DatabaseCompatibilityEnforcerFilter.java:39)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:174)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:117)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:108)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:151)\nat org.apache.jk.server.JkCoyoteHandler.invoke(JkCoyoteHandler.java:200)\nat org.apache.jk.common.HandlerRequest.invoke(HandlerRequest.java:283)\nat org.apache.jk.common.ChannelSocket.invoke(ChannelSocket.java:773)\nat org.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java:703)\nat org.apache.jk.common.ChannelSocket$SocketConnection.runIt(ChannelSocket.java:895)\nat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:689)\nat java.lang.Thread.run(Unknown Source)\n2008-01-10 10:12:21,370 TP-Processor6 ERROR [subversion.issuetabpanels.changes.SubversionRevisionsTabPanel] Error retrieving actions for : TC-1\njava.lang.NullPointerException\nat com.atlassian.jira.plugin.ext.subversion.revisions.RevisionIndexer.getLogEntriesByRepository(RevisionIndexer.java:484)\nat com.atlassian.jira.plugin.ext.subversion.issuetabpanels.changes.SubversionRevisionsTabPanel.getActions(SubversionRevisionsTabPanel.java:36)\nat com.atlassian.jira.plugin.issuetabpanel.IssueTabPanelModuleDescriptor.getActions(IssueTabPanelModuleDescriptor.java:99)\nat com.atlassian.jira.web.action.issue.ViewIssue.getActions(ViewIssue.java:400)\nat sun.reflect.GeneratedMethodAccessor386.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat webwork.util.InjectionUtils$DefaultInjectionImpl.invoke(InjectionUtils.java:61)\nat webwork.util.InjectionUtils.invoke(InjectionUtils.java:52)\nat webwork.util.ValueStack.findValue(ValueStack.java:346)\nat webwork.util.ValueStack.findValue(ValueStack.java:175)\nat webwork.view.taglib.WebWorkBodyTagSupport.findValue(WebWorkBodyTagSupport.java:61)\nat webwork.view.taglib.BasicPropertyTag.doStartTag(BasicPropertyTag.java:54)\nat org.apache.jsp.includes.panels.issue.actions_jsp._jspService(actions_jsp.java:254)\nat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:98)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\nat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:331)\nat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:329)\nat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:265)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:691)\nat org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:594)\nat org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:505)\nat org.apache.jasper.runtime.JspRuntimeLibrary.include(JspRuntimeLibrary.java:965)\nat org.apache.jsp.secure.views.issue.viewissue_jsp._jspService(viewissue_jsp.java:321)\nat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:98)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\nat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:331)\nat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:329)\nat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:265)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:691)\nat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:469)\nat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:403)\nat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:301)\nat com.atlassian.jira.web.dispatcher.JiraServletDispatcher.service(JiraServletDispatcher.java:281)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:691)\nat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:469)\nat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:403)\nat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:301)\nat com.atlassian.jira.servlet.QuickLinkServlet.service(QuickLinkServlet.java:58)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.jira.web.filters.AccessLogFilter.doFilter(AccessLogFilter.java:73)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:119)\nat com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:55)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.seraph.filter.SecurityFilter.doFilter(SecurityFilter.java:192)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.seraph.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:114)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.seraph.filter.BaseLoginFilter.doFilter(BaseLoginFilter.java:110)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.util.profiling.filters.ProfilingFilter.doFilter(ProfilingFilter.java:132)\nat com.atlassian.jira.web.filters.JIRAProfilingFilter.doFilter(JIRAProfilingFilter.java:16)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.jira.web.filters.ActionCleanupDelayFilter.doFilter(ActionCleanupDelayFilter.java:43)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.jira.web.filters.RequestCleanupFilter.doFilter(RequestCleanupFilter.java:50)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.johnson.filters.AbstractJohnsonFilter.doFilter(AbstractJohnsonFilter.java:72)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat org.tuckey.web.filters.urlrewrite.UrlRewriteFilter.doFilter(UrlRewriteFilter.java:350)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.gzipfilter.GzipFilter.doFilter(GzipFilter.java:89)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.core.filters.AbstractEncodingFilter.doFilter(AbstractEncodingFilter.java:37)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.jira.appconsistency.db.DatabaseCompatibilityEnforcerFilter.doFilter(DatabaseCompatibilityEnforcerFilter.java:39)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:174)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:117)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:108)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:151)\nat org.apache.jk.server.JkCoyoteHandler.invoke(JkCoyoteHandler.java:200)\nat org.apache.jk.common.HandlerRequest.invoke(HandlerRequest.java:283)\nat org.apache.jk.common.ChannelSocket.invoke(ChannelSocket.java:773)\nat org.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java:703)\nat org.apache.jk.common.ChannelSocket$SocketConnection.runIt(ChannelSocket.java:895)\nat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:689)\nat java.lang.Thread.run(Unknown Source)\n2008-01-10 10:13:33,857 TP-Processor6 ERROR [ext.subversion.projecttabpanels.SubversionProjectTabPanel] Error retrieving actions for project\njava.lang.NullPointerException\nat com.atlassian.jira.plugin.ext.subversion.revisions.RevisionIndexer.getLogEntriesByProject(RevisionIndexer.java:624)\nat com.atlassian.jira.plugin.ext.subversion.projecttabpanels.SubversionProjectTabPanel.getRecentCommits(SubversionProjectTabPanel.java:159)\nat com.atlassian.jira.plugin.ext.subversion.projecttabpanels.SubversionProjectTabPanel.getHtml(SubversionProjectTabPanel.java:126)\nat com.atlassian.jira.web.action.browser.Browser.getProjectTabHtml(Browser.java:366)\nat sun.reflect.GeneratedMethodAccessor784.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat webwork.util.InjectionUtils$DefaultInjectionImpl.invoke(InjectionUtils.java:61)\nat webwork.util.InjectionUtils.invoke(InjectionUtils.java:52)\nat webwork.util.ValueStack.findValue(ValueStack.java:426)\nat webwork.util.ValueStack.findValue(ValueStack.java:175)\nat webwork.view.taglib.WebWorkBodyTagSupport.findValue(WebWorkBodyTagSupport.java:61)\nat webwork.view.taglib.BasicPropertyTag.doStartTag(BasicPropertyTag.java:54)\nat org.apache.jsp.includes.panels.browser.tabpanels_jsp._jspx_meth_webwork_005fproperty_005f7(tabpanels_jsp.java:801)\nat org.apache.jsp.includes.panels.browser.tabpanels_jsp._jspx_meth_webwork_005felse_005f3(tabpanels_jsp.java:774)\nat org.apache.jsp.includes.panels.browser.tabpanels_jsp._jspService(tabpanels_jsp.java:306)\nat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:98)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\nat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:331)\nat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:329)\nat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:265)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:691)\nat org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:594)\nat org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:505)\nat org.apache.jasper.runtime.JspRuntimeLibrary.include(JspRuntimeLibrary.java:965)\nat org.apache.jsp.secure.views.browser.browseproject_jsp._jspService(browseproject_jsp.java:191)\nat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:98)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\nat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:331)\nat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:329)\nat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:265)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:691)\nat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:469)\nat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:403)\nat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:301)\nat com.atlassian.jira.web.dispatcher.JiraServletDispatcher.service(JiraServletDispatcher.java:281)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.jira.web.filters.AccessLogFilter.doFilter(AccessLogFilter.java:73)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:119)\nat com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:55)\nat com.atlassian.jira.web.filters.SitemeshExcludePathFilter.doFilter(SitemeshExcludePathFilter.java:38)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.seraph.filter.SecurityFilter.doFilter(SecurityFilter.java:192)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.seraph.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:114)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.seraph.filter.BaseLoginFilter.doFilter(BaseLoginFilter.java:110)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.util.profiling.filters.ProfilingFilter.doFilter(ProfilingFilter.java:132)\nat com.atlassian.jira.web.filters.JIRAProfilingFilter.doFilter(JIRAProfilingFilter.java:16)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.jira.web.filters.ActionCleanupDelayFilter.doFilter(ActionCleanupDelayFilter.java:43)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.jira.web.filters.RequestCleanupFilter.doFilter(RequestCleanupFilter.java:50)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.johnson.filters.AbstractJohnsonFilter.doFilter(AbstractJohnsonFilter.java:72)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat org.tuckey.web.filters.urlrewrite.UrlRewriteFilter.doFilter(UrlRewriteFilter.java:350)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.gzipfilter.GzipFilter.doFilter(GzipFilter.java:89)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.core.filters.AbstractEncodingFilter.doFilter(AbstractEncodingFilter.java:37)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.jira.appconsistency.db.DatabaseCompatibilityEnforcerFilter.doFilter(DatabaseCompatibilityEnforcerFilter.java:39)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:174)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:117)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:108)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:151)\nat org.apache.jk.server.JkCoyoteHandler.invoke(JkCoyoteHandler.java:200)\nat org.apache.jk.common.HandlerRequest.invoke(HandlerRequest.java:283)\nat org.apache.jk.common.ChannelSocket.invoke(ChannelSocket.java:773)\nat org.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java:703)\nat org.apache.jk.common.ChannelSocket$SocketConnection.runIt(ChannelSocket.java:895)\nat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:689)\nat java.lang.Thread.run(Unknown Source)\n2008-01-10 10:13:40,857 TP-Processor6 ERROR [subversion.issuetabpanels.changes.SubversionRevisionsTabPanel] Error retrieving actions for : TC-2\njava.lang.NullPointerException\nat com.atlassian.jira.plugin.ext.subversion.revisions.RevisionIndexer.getLogEntriesByRepository(RevisionIndexer.java:484)\nat com.atlassian.jira.plugin.ext.subversion.issuetabpanels.changes.SubversionRevisionsTabPanel.getActions(SubversionRevisionsTabPanel.java:36)\nat com.atlassian.jira.plugin.issuetabpanel.IssueTabPanelModuleDescriptor.getActions(IssueTabPanelModuleDescriptor.java:99)\nat com.atlassian.jira.web.action.issue.ViewIssue.getActions(ViewIssue.java:400)\nat sun.reflect.GeneratedMethodAccessor386.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat webwork.util.InjectionUtils$DefaultInjectionImpl.invoke(InjectionUtils.java:61)\nat webwork.util.InjectionUtils.invoke(InjectionUtils.java:52)\nat webwork.util.ValueStack.findValue(ValueStack.java:346)\nat webwork.util.ValueStack.findValue(ValueStack.java:175)\nat webwork.view.taglib.WebWorkBodyTagSupport.findValue(WebWorkBodyTagSupport.java:61)\nat webwork.view.taglib.BasicPropertyTag.doStartTag(BasicPropertyTag.java:54)\nat org.apache.jsp.includes.panels.issue.actions_jsp._jspService(actions_jsp.java:254)\nat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:98)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\nat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:331)\nat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:329)\nat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:265)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:691)\nat org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:594)\nat org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:505)\nat org.apache.jasper.runtime.JspRuntimeLibrary.include(JspRuntimeLibrary.java:965)\nat org.apache.jsp.secure.views.issue.viewissue_jsp._jspService(viewissue_jsp.java:321)\nat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:98)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\nat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:331)\nat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:329)\nat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:265)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:691)\nat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:469)\nat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:403)\nat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:301)\nat com.atlassian.jira.web.dispatcher.JiraServletDispatcher.service(JiraServletDispatcher.java:281)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:691)\nat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:469)\nat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:403)\nat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:301)\nat com.atlassian.jira.servlet.QuickLinkServlet.service(QuickLinkServlet.java:58)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.jira.web.filters.AccessLogFilter.doFilter(AccessLogFilter.java:73)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:119)\nat com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:55)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.seraph.filter.SecurityFilter.doFilter(SecurityFilter.java:192)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.seraph.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:114)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.seraph.filter.BaseLoginFilter.doFilter(BaseLoginFilter.java:110)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.util.profiling.filters.ProfilingFilter.doFilter(ProfilingFilter.java:132)\nat com.atlassian.jira.web.filters.JIRAProfilingFilter.doFilter(JIRAProfilingFilter.java:16)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.jira.web.filters.ActionCleanupDelayFilter.doFilter(ActionCleanupDelayFilter.java:43)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.jira.web.filters.RequestCleanupFilter.doFilter(RequestCleanupFilter.java:50)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.johnson.filters.AbstractJohnsonFilter.doFilter(AbstractJohnsonFilter.java:72)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat org.tuckey.web.filters.urlrewrite.UrlRewriteFilter.doFilter(UrlRewriteFilter.java:350)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.gzipfilter.GzipFilter.doFilter(GzipFilter.java:89)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.core.filters.AbstractEncodingFilter.doFilter(AbstractEncodingFilter.java:37)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat com.atlassian.jira.appconsistency.db.DatabaseCompatibilityEnforcerFilter.doFilter(DatabaseCompatibilityEnforcerFilter.java:39)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:174)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:117)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:108)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:151)\nat org.apache.jk.server.JkCoyoteHandler.invoke(JkCoyoteHandler.java:200)\nat org.apache.jk.common.HandlerRequest.invoke(HandlerRequest.java:283)\nat org.apache.jk.common.ChannelSocket.invoke(ChannelSocket.java:773)\nat org.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java:703)\nat org.apache.jk.common.ChannelSocket$SocketConnection.runIt(ChannelSocket.java:895)\nat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:689)\nat java.lang.Thread.run(Unknown Source)"
61d4219ff4d395ee22fffc71,72943,86400,Unit tests must cover at least 50% (measured using Clover) of the plugin code.
61d4219ff4d395ee22fffc7a,72891,14400,"When one repository is temporarily unreachable, repositories defined later in the config are not indexed. Repositories' indexes are updated unless all repositories defined before them in the config file can be successfully indexed. \n\nBecause of the way the RevisionIndexer fails to handle SVNException inside updateIndex(), if one of the repositories is temporarily unreachable, and therefore one of the methods called on SVNRepository throws SVNException, the loop over each repository is terminated and updateIndex throws the exception. "
61d4219ff4d395ee22fffc88,73105,14400,The revision link is not working. The problem is the path variable is not being resolved. However the files changed path does get resolved so I know things are set up correctly.\n\nI am using Jira 3.9 and ViewVC 1.0.3.\n\nIn my subversion-jira-plugin.properties file I have the following information configured. I determined that this was the variable that gets used for the revision:\n\n#---------------------------------\n# ViewVC 1.0.1\n#---------------------------------\nlinkformat.changeset=http://gluttony/viewvc/svn${path}/?revision=${rev}&view=markup&pathrev=${rev}\n\nThis is what the Revision link looks like when I roll over it. You can see here that the path variable does not get translated:\nhttp://gluttony/viewvc/svn${path}?revision=1075&view=markup&pathrev=1075\n\nIf the path were to resolve then everything would work correctly.\n
61d4219ff4d395ee22fffc9e,73072,10800,"In the file RevisionIndexer.java, the method updateIndex(), the variable latestIndexedRevision is set to what its name suggests. However, the next time the svn log is parsed, the commit messages that are already known to have no interesting strings are parsed again. For instance, if a log has revision 1 to 200, but the last revision with a Jira key in it is revision 100, then the next time the log is parsed, revisions 101 to 200 will be parsed again, even though they are never going to change. I think you could restart the parsing at revision 200.\n\n{code}\n                try\n                {\n\n                    final IndexReader reader = LuceneUtils.getIndexReader(getIndexPath());\n\n                    try\n                    {\n                        for (Iterator iterator = logEntries.iterator(); iterator.hasNext();)\n                        {\n                            SVNLogEntry logEntry = (SVNLogEntry) iterator.next();\n                            if (TextUtils.stringSet(logEntry.getMessage()) && JiraKeyUtils.isKeyInString(logEntry.getMessage()))\n                            {\n                                if (!hasDocument(repoId, logEntry.getRevision(), reader))\n                                {\n                                    Document doc = getDocument(repoId, logEntry);\n                                    if (log.isDebugEnabled())\n                                    {\n                                        log.debug(""Indexing repository="" + repoId + "", revision: "" + logEntry.getRevision());\n                                    }\n                                    writer.addDocument(doc);\n                                    if (logEntry.getRevision() > latestIndexedRevision)\n                                    {\n                                        latestIndexedRevision = logEntry.getRevision();\n                                        // update the in-memory cache SVN-71\n                                        latestIndexedRevisionTbl.put(repoId, new Long(latestIndexedRevision));\n                                    }\n                                }\n                            }\n                        }\n                    }\n{code}"
61d4219ff4d395ee22fffcad,72952,3600,"Sometimes it is suitable to add whole URL to jira issue into commit message as this is recognised by WebSVN and link is generated. However, if for example there is the string ""http://jira.atlassian.com/browse/SVN-47"" in commit message, SVN plugin does not recognise key ""SVN-47"". "
61d4219ff4d395ee22fffcb7,73144,115200,"It appears that the Subversion plugin first loads the whole SVN log into memory, and then parses it, instead of parsing incrementally as it receives the log.  This means that if you have a few hundred Mb log, you need a lot of memory allocated to avoid crashing JIRA."
61d4219ff4d395ee22fffcbb,73075,57600,"In Subversion (and CVS) it is possible to edit logs from earlier revisions with 'svn propset -revprop'.  JIRA does not pick up these changes, since it only requests revisions it hasn't yet seen.  Hopefully there is some way of querying svn for changed revisions to pick these up.\n\nThe workaround is to periodically delete the Subversion indexes, and let the update service recreate them."
61d4219ff4d395ee22fffcd9,73136,900,"The attached patch adds support for rendering links to WebSVN as an option to ViewCVS. It's not pretty but it does what I need.\n\nSubversionManagerImpl.java is edited with an additional if-block for a property ""websvn.url""\nWebSVNLinkRenderer.java is a new class, which builds URLs that seemed to work with our company websvn.\n\nJust patch and add websvn.url to subversion-jira-plugin.properties"
61d4219ff4d395ee22fffd29,118128,28800,"h3. Original Description\r\n\r\nRecently, [this bug|https://jira.atlassian.com/browse/JRA-28392] was fixed. However, it seems that this bug is still happening in some cases, where Japanese (or Chinese) characters are visible in some gadgets.\r\n\r\nThis problem seems to be intermittent and the same gadgets that sometimes show the characters, sometimes are in English.\r\n\r\nh3. Problem\r\n\r\nThe text for the issue operation links shown per each activity stream item will sometimes be shown in a language different from the current user's locale. At the moment, this issue can not be reliably reproduced so it needs to be further investigated for root cause analysis."
61d4219ff4d395ee22fffd2a,117611,14400,master:\r\nUpdate to the latest plugins\r\nMake it build & pass tests\r\nrelease
61d4219ff4d395ee22fffd2c,117357,28800,"h3. Summary\r\n\r\nWhen trying to watch an issue in the Activity Stream, an error pops up in the UI. It is only triggered when the instance has a context path. \r\n\r\nh3. Environment\r\n* Tested in JIRA 6.4.1\r\n\r\nh3. Steps to Reproduce\r\n# Setup a vanilla instance of 6.4.1 (with a context path)\r\n# Create a project and issues so that the activity stream is filled up (a sample project works fine here)\r\n# Try to watch any one of the issues in the activity stream. An error will occur\r\n\r\nh3. Expected Results\r\n\r\nThe user is successfully added to the list of watchers of the issue\r\n\r\nh3. Actual Results\r\nThe following error will show up in the UI :\r\n\r\n!activitystream.png|thumbnail!\r\n\r\nIn the browser developer tool, it would show this :\r\n\r\n!activitystream2.png|thumbnail!\r\n\r\nh3. Notes\r\n* The user is an admin that is a member of all groups\r\n* Couldn't find much from the logs\r\n* The issue can be watched if done so from the issue itself\r\n\r\nh3. Workaround\r\n\r\nThe problem does not occur if no context path is configured on the instance (the base URL must reflect this as well)."
61d4219ff4d395ee22fffd2d,116633,28800,As described in JRA-43069 fix for STRM-2175 breaks ActivityStream in JIRA.\r\n
61d4219ff4d395ee22fffd33,111040,288000,"This is a solution for STRM-2265. Read [this comment|https://ecosystem.atlassian.net/browse/STRM-2265?focusedCommentId=151644&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-151644].\r\n\r\nIn this approach, we refine the the loading ChangeHistorys as follow.\r\n0. page = 1\r\n1. Loading ChangeHistorys for all issues at one query with paging. An important point is we have to drag some streams filter to the query. Something like bellow:\r\n{code}\r\nchangeHistories = (select from ChangeHistory\r\n                               where issues in (issues)\r\n                                     and <streams query to apply>\r\n                                     and offset = page * 50 and limit 50\r\n                               order by date)\r\n{code}\r\n2. Do things to create StreamEntries from ChangeHistories as it now: create JiraActivityItems, filter, transform...\r\n3. If we have enough StreamEntries, stop. Otherwise, increase the page and go to 1.\r\n\r\nEffective: \r\n   - We almost fetch enough ChangeHistorys as required.\r\n   - Then, the number of queries to process ChangeHistory is reduced to n, with n is  ActivityRequest.maxResult.\r\n\r\nEffort:\r\n   - Restructure the almost all the code of handling ActivityRequest.\r\n   - Have to drag some streams filter to the sql query, e.g inUsers, containsDate, inJiraActivities.\r\n\r\nPros: effective, solve the root root cause of the issue, better design.\r\n\r\nCons: \r\n- Much more effort.\r\n- Risk of regression."
61d4219ff4d395ee22fffd6c,84519,28800,"h3. Summary\r\n\r\nAs implemented in JIRA 6.2, tracked under [JRA-4618|https://jira.atlassian.com/browse/JRA-4618], it is possible to create an issue with a different reporter. This means the creator is different to the reporter, however the Activity Streams report the creator as the reporter (which is not correct).\r\n\r\nh3. Steps to Reproduce\r\n\r\n# Create a new issue with the reporter not the same as the creator.\r\n# View the Activity Stream.\r\n\r\nh3. Expected Results\r\n\r\nThe correct reporter is displayed.\r\n\r\nh3. Actual Results\r\n\r\nThe creator is displayed as the reporter.\r\n"
61d4219ff4d395ee22fffd92,77377,216000,"Streams shouldn't assume all app links are streams providers, as the point of app links is to allow the host application to link to any application anywhere.  While the primary use case has been Atlassian applications, this is definitely not the only type of link.\r\n\r\nThis bug is particularly affecting Remote Apps as it is causing OnDemand to hammer remote apps, which can be an expensive operation on certain PaaS providers.  At a minimum, Streams should look for a streams.disable property on the applink to know not to hammer it."
61d4219ff4d395ee22fffdb4,71731,28800,"Activity stream pane is often blank, or displays an error (""An error occurred while trying to retrieve recent activity."". Reload does not clear this.\r\n\r\nDashboard URL is https://jira.atlassian.com/secure/Dashboard.jspa?selectPageId=33301\r\n\r\nOriginally reported at https://support.atlassian.com/browse/FEEDBACK-118\r\n\r\nInternal ADM is https://extranet.atlassian.com/jira/browse/ADM-32366"
61d4219ff4d395ee22fffdc1,61450,28800,I have an activity stream on my JIRA dashboard\r\n\r\n!streams 414.png!\r\n\r\nLooking at the network tab I can see that streams is making the following request.\r\n\r\n{code}\r\nhttps://jdog.atlassian.net/plugins/servlet/gadgets/ifr?container=atlassian&mid=35740&country=US&lang=en&view=default&view-params=%7B%22writable%22%3A%22true%22%7D&st=atlassian%3AmxTuDOK%2FStvIAWikE1I7ioUv%2BRAZ48AI1kpe1%2Bk4wGyXN1zzezI%2BBhk8qtNkxyGKug7NR6P0XrZvlHeW4T9Fji0VGegroIT7eEmMBwsNnoDbK%2BFfQ%2FjQMizDuIzSEXkUHyf%2FBaf0GMafV5LWigaXL8EkcuOAjxoYnGn%2FuvObcHvQ09QLOZL%2Fe9owAk0Otk9R6pVmzAp3MRMcrmJyeRaoe6XSY4OULFXPl8%2FL6zFn1%2FLPuhaCT4DaTSrl%2F%2BB9u3f9zAHBgUD3OA2VWopT8yVt9jm%2FZS1ASjwDrExwwWW29S7zqc4%2ByH29sDJmcOygJ5qvEvO8Bw2ykDRGpjd1M%2F2%2BQzRUHDQ%3D&up_isConfigured=true&up_isReallyConfigured=true&up_title=Recent%2520JRADEV%2520activity&up_titleRequired=true&up_numofentries=5&up_refresh=false&up_maxProviderLabelCharacters=50&up_rules=%257B%2522providers%2522%253A%255B%257B%2522provider%2522%253A%2522streams%2522%252C%2522rules%2522%253A%255B%257B%2522rule%2522%253A%2522key%2522%252C%2522operator%2522%253A%2522is%2522%252C%2522value%2522%253A%255B%2522JRADEV%2522%255D%252C%2522type%2522%253A%2522select%2522%257D%255D%257D%252C%257B%2522provider%2522%253A%2522issues%2522%252C%2522rules%2522%253A%255B%255D%257D%252C%257B%2522provider%2522%253A%2522tempo-provider%2522%252C%2522rules%2522%253A%255B%255D%252C%2522disabled%2522%253Atrue%257D%252C%257B%2522provider%2522%253A%2522reviews%2540c37fbd42-9b1d-3ae5-ad73-b39eb7f61cf1%2522%252C%2522rules%2522%253A%255B%255D%252C%2522disabled%2522%253Atrue%257D%252C%257B%2522provider%2522%253A%2522source%2540c37fbd42-9b1d-3ae5-ad73-b39eb7f61cf1%2522%252C%2522rules%2522%253A%255B%255D%252C%2522disabled%2522%253Atrue%257D%252C%257B%2522provider%2522%253A%2522builds%254037fc0c54-ee61-32d7-a468-0b2d64b81aa7%2522%252C%2522rules%2522%253A%255B%255D%252C%2522disabled%2522%253Atrue%257D%252C%257B%2522provider%2522%253A%2522builds%25403c41d9a6-f687-3ded-a9d4-381929f3c494%2522%252C%2522rules%2522%253A%255B%255D%252C%2522disabled%2522%253Atrue%257D%252C%257B%2522provider%2522%253A%2522wiki%254030e0c905-dfac-3ca7-80bd-08f20070deef%2522%252C%2522rules%2522%253A%255B%255D%252C%2522disabled%2522%253Atrue%257D%252C%257B%2522provider%2522%253A%2522wiki%2540344ce3fe-d1a2-3d69-975c-7ffc05bbedd0%2522%252C%2522rules%2522%253A%255B%255D%252C%2522disabled%2522%253Atrue%257D%252C%257B%2522provider%2522%253A%2522issues%25401202c5f7-2db8-3476-90b9-79417ee44946%2522%252C%2522rules%2522%253A%255B%255D%252C%2522disabled%2522%253Atrue%257D%252C%257B%2522provider%2522%253A%2522structure-provider%25401202c5f7-2db8-3476-90b9-79417ee44946%2522%252C%2522rules%2522%253A%255B%255D%252C%2522disabled%2522%253Atrue%257D%252C%257B%2522provider%2522%253A%2522issues%254061b6191d-d412-3043-a96c-75b7bceaed1f%2522%252C%2522rules%2522%253A%255B%255D%252C%2522disabled%2522%253Atrue%257D%252C%257B%2522provider%2522%253A%2522tempo-provider%254061b6191d-d412-3043-a96c-75b7bceaed1f%2522%252C%2522rules%2522%253A%255B%255D%252C%2522disabled%2522%253Atrue%257D%252C%257B%2522provider%2522%253A%2522reviews%254081e46815-0ec5-3b6a-b8c8-0751e8a3561a%2522%252C%2522rules%2522%253A%255B%255D%252C%2522disabled%2522%253Atrue%257D%252C%257B%2522provider%2522%253A%2522source%254081e46815-0ec5-3b6a-b8c8-0751e8a3561a%2522%252C%2522rules%2522%253A%255B%255D%252C%2522disabled%2522%253Atrue%257D%252C%257B%2522provider%2522%253A%2522builds%2540ab2dca7f-35a0-32c0-bbb1-53c9e95e8a41%2522%252C%2522rules%2522%253A%255B%255D%252C%2522disabled%2522%253Atrue%257D%252C%257B%2522provider%2522%253A%2522issues%2540b3a20b9c-c537-3539-8789-d7729a4db740%2522%252C%2522rules%2522%253A%255B%255D%252C%2522disabled%2522%253Atrue%257D%252C%257B%2522provider%2522%253A%2522tempo-provider%2540b3a20b9c-c537-3539-8789-d7729a4db740%2522%252C%2522rules%2522%253A%255B%255D%252C%2522disabled%2522%253Atrue%257D%252C%257B%2522provider%2522%253A%2522wiki%2540bf13be6c-926b-318e-95cc-99dc04f8597e%2522%252C%2522rules%2522%253A%255B%255D%252C%2522disabled%2522%253Atrue%257D%252C%257B%2522provider%2522%253A%2522issues%25404bfd3699-074f-3896-8f44-fedc79d0ee71%2522%252C%2522rules%2522%253A%255B%255D%252C%2522disabled%2522%253Atrue%257D%252C%257B%2522provider%2522%253A%2522thirdparty%2522%252C%2522rules%2522%253A%255B%255D%252C%2522disabled%2522%253Atrue%257D%252C%257B%2522provider%2522%253A%2522thirdparty%25401202c5f7-2db8-3476-90b9-79417ee44946%2522%252C%2522rules%2522%253A%255B%255D%252C%2522disabled%2522%253Atrue%257D%252C%257B%2522provider%2522%253A%2522thirdparty%254061b6191d-d412-3043-a96c-75b7bceaed1f%2522%252C%2522rules%2522%253A%255B%255D%252C%2522disabled%2522%253Atrue%257D%252C%257B%2522provider%2522%253A%2522thirdparty%2540b3a20b9c-c537-3539-8789-d7729a4db740%2522%252C%2522rules%2522%253A%255B%255D%252C%2522disabled%2522%253Atrue%257D%252C%257B%2522provider%2522%253A%2522thirdparty%25404bfd3699-074f-3896-8f44-fedc79d0ee71%2522%252C%2522rules%2522%253A%255B%255D%252C%2522disabled%2522%253Atrue%257D%255D%257D&up_renderingContext=&up_keys=&up_itemKeys=&up_username=&url=https%3A%2F%2Fjdog.atlassian.net%2Frest%2Fgadgets%2F1.0%2Fg%2Fcom.atlassian.streams.streams-jira-plugin%3Aactivitystream-gadget%2Fgadgets%2Factivitystream-gadget.xml&libs=auth-refresh#rpctoken=9471048\r\n{code}
61d4219ff4d395ee22fffdef,47341,28800,"See comment thread on https://jira.atlassian.com/browse/JRA-27327\r\n\r\nWe need to check for title length *before* we persist the entity but *after* the html is validated. Also, probably bump the title length up from the [default (255 characters)|https://developer.atlassian.com/display/AO/AO+0.18.x+Upgrade+Guide] as this is not nearly enough when embedded html (e.g. hyperlinks) are present."
61d4219ff4d395ee2200002b,38294,3600,As of 5/24 trunk is on confluence's latest milestone (m25)
61d4219ff4d395ee22000038,38220,21600,"Firebug shows the error ""Invalid Label"", and the stream does not load at all."
61d4219ff4d395ee22000040,38104,216000,"Sorry, this is a bug, not a new feature.  Streams shouldn't assume all app links are streams providers, as the point of app links is to allow the host application to link to any application anywhere.  While the primary use case has been Atlassian applications, this is definitely not the only type of link.\n\nThis bug is particularly affecting Remote Apps as it is causing OnDemand to hammer remote apps, which can be an expensive operation on certain PaaS providers.  At a minimum, Streams should look for a streams.disable property on the applink to know not to hammer it."
61d4219ff4d395ee22000062,37638,64800,Stefan has done a spike of this already-- look at what he's done already.
61d4219ff4d395ee2200008e,37101,43200,See https://studio.atlassian.com/source/cru/CR-STRM-680#c35443 and STRM-1306
61d4219ff4d395ee220000a3,37032,21600,See for example this stream:\n\nhttps://studio.atlassian.com/source/changelog/JST/branches/studio-streams4-upgrade\n\nThis would be an awesome feature--- I wish I had it now while working on the studio streams 4 upgrade branch.
61d4219ff4d395ee22000147,36111,21600,Version 5.0 of streams should have it's requirements updated so that OAuth dialogs are displayed properly and are in line with the changes in the other products.\n\nChanges to the UI need to be made to be inline with the functional spec: https://extranet.atlassian.com/display/INTEGRATION/OAuth+Homogenous+UX+Functional+Spec
61d4219ff4d395ee22000232,35196,43200,"Rich said at https://studio.atlassian.com/source/cru/CR-STRM-473#c31605\nbq. John and I discussed in chat, and I think he discussed this a bit with you yesterday, but just wanted to mention that we think we should move most of the stuff from core into common (anything it exports, the plugin module descriptor, etc.) and rename the core plugin stream-aggregator-plugin.\n\nAlso, be sure to rename the existing {{streams-common}} to {{streams-common-plugin}}."
61d4219ff4d395ee22000294,34683,43200,Make an inline action for watching pages from an activity stream.  \n\nBe sure to follow [Panada's write-up for pluggable actions| https://studio.atlassian.com/wiki/display/STRM/Pluggable+Actions+for+Activity+Streams+4.0].
61d4219ff4d395ee220002fa,34218,43200,"EAC / QA-EAC are on conf 4 now, so this can't happen until 4.1"
61d4219ff4d395ee220002fb,34217,43200,"EAC / QA-EAC are on conf 4 now, so this can't happen until we bump to Conf 4"
61d4219ff4d395ee220002fe,34210,64800,"We should customize the views a little bit for the projects view, issue view, and profile view"
61d4219ff4d395ee22000387,33618,7200,"Currently the throbber doesn't show until the request is dispatched, but we should show it from the get-go, since there's a delay while the filter options are fetched and the ui is built out."
61d4219ff4d395ee220003ae,33372,129600,DTAC has been murdered :(
61d4219ff4d395ee220003b2,33331,21600,"Activity Streams are using methods that are no longer available in Confluence 4.0\n\n{noformat}\n2010-12-16 11:09:22,923 ERROR [http-8080-8] [[Catalina].[localhost].[/confluence].[servlet-module-container-servlet]] log Servlet.service() for servlet servlet-module-container-servlet threw exception\njava.lang.NoSuchMethodError: com.atlassian.confluence.core.ContentEntityObject.getContent()Ljava/lang/String;\n	at com.atlassian.streams.confluence.RemoteChangeReportFactory.addReports(RemoteChangeReportFactory.java:136)\n	at com.atlassian.streams.confluence.RemoteChangeReportFactory.addChangeReports(RemoteChangeReportFactory.java:58)\n	at com.atlassian.streams.confluence.ConfluenceStreamsActivityProvider.buildChangeReports(ConfluenceStreamsActivityProvider.java:111)\n	at com.atlassian.streams.confluence.ConfluenceStreamsActivityProvider.getActivityFeed(ConfluenceStreamsActivityProvider.java:75)\n	at com.atlassian.streams.servlet.StreamsActivityServlet$1.doInTransaction(StreamsActivityServlet.java:118)\n	at com.atlassian.sal.core.transaction.HostContextTransactionTemplate$1.doInTransaction(HostContextTransactionTemplate.java:25)\n	at com.atlassian.sal.spring.component.SpringHostContextAccessor$1.doInTransaction(SpringHostContextAccessor.java:88)\n	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:127)\n{noformat}"
61d4219ff4d395ee22000464,32146,86400,"We're creating a new interface for configuring/filtering your streams gadget, but we need to ensure that it's backwards-compatible with ""old"" gadget prefs so that people don't lose their preferences when they upgrade."
61d4219ff4d395ee2200047d,31907,43200,see https://studio.atlassian.com/source/cru/CR-APL-115. paired with rich on this
61d4219ff4d395ee220004a0,31870,43200,"\nbamboo can't get applinks running because the bamboo applinks plugin uses these packages that bamboo doesn't export (though it does export some other trusted apps stuff):\n\n!! com.atlassian.security.auth.trustedapps.core,version=0.0.0 from - Cannot be resolved\n!! com.atlassian.security.auth.trustedapps.plugin,version=0.0.0 from - Cannot be resolved\n\nso we need to either rewrite the bamboo applinks plugin to not use those packages (e.g. Application and ApplicationRetriever from trusted apps core), or get a version of bamboo that does export those packages\n"
61d4219ff4d395ee220004ff,30468,43200,"I fixed the gadget xml so it now shows up in the gadget directory and can be added to a dashboard, but there are places in JIRA where the old gadget xml url is hard-coded (that's how the project and issue tab streams work).  \n\nWe need to decide how we want to handle this change in url, since it affects not only places that the url is hard-coded in the applications, but also will break any existing instances of a streams gadget that is being consumed by other applications.  For instance, we can see JAC activity on STAC, but if JAC were upgraded to Streams 4 the STAC gadget would still look for the gadget xml in the old location and would break."
61d4219ff4d395ee2200052e,29899,1200,"When a feed errors out, it still includes an invisible 6px box under the error div, adding aesthetic insult to injury."
61d4219ff4d395ee22000536,29892,57600,We could probably use Atom with one or two namespaced extensions for really good interoperability with external tools.
61d4219ff4d395ee22000539,29866,7200,It's hard to figure out what's going on when things go wrong.
61d4219ff4d395ee2200053b,29903,72000,"Right now these two work in almost the same way, with almost the same code. It would be good to refactor and remove duplication. The XML format should be identical between the two products (ideally Atom-based), and we should split the common code into a JAR that could potentially be embedded in other products as well."
61d4219ff4d395ee2200053f,30004,18000,See https://studio.atlassian.com/browse/JST-651 or http://jira.atlassian.com/browse/STUDIO-18 for details.  Adding an issue here to track source changes against a ticket.
61d4219ff4d395ee22000543,29908,3600,"http://www.atomenabled.org/developers/syndication/atom-format-spec.php#rfc.section.4.1.1\n\nbq. atom:feed elements SHOULD contain one atom:link element with a rel attribute value of ""self"". This is the preferred URI for retrieving Atom Feed Documents representing this Atom feed.\n\n"
61d4219ff4d395ee22000545,29995,7200,See http://svn.atlassian.com/fisheye/cru/CR-188 for more details...
61d4219ff4d395ee22000551,29997,14400,"Looks like when a confluence page is edited, the first few lines of the page are included in the activity feed, regardless of what is changed or done. Would prefer this is either the comment that is made with the edit (if one is made), or possibly even the lines that were removed/added (if possible)."
61d4219ff4d395ee22000554,29970,14400,This will allow a single-step build and release process.
61d4219ff4d395ee22000555,29905,14400,"* Move Subversion locations out from /public/atlassian/studio to a more neutral location, maybe in contrib (that directory is no longer used by the Studio team)\n* Consider renaming the projects to jira-stream-plugin, confluence-stream-plugin and crucible-stream-plugin\n* Change package names from com.atlassian.studio.* to something more neutral\n* Change Maven group/artifact IDs if it won't break things (check w/ Don B.)"
61d4219ff4d395ee2200055a,30021,115200,"We should run some tests to see how well this will scale up to lots of activity, lots of users, lots of individual portlets on a page, etc."
61d4219ff4d395ee2200055b,29890,7200,There are some unnecessary dependencies and other cruft in there.
61d4219ff4d395ee22000566,29895,86400,TBD
61d4219ff4d395ee2200056a,29975,10800,"It looks like this is getting the indexed summary, so stop words are removed, leading to strange-looking comments."
61d4219ff4d395ee2200056f,29969,7200,"The JIRA FishEye Plugin's ability to integrate automatically with App Links doesn't seem to be working. For Stream 1.0 I'll just rewrite it to use App Links directly, and we can work out the issues with the FishEye plugin in 1.1."
61d4219ff4d395ee22000589,29973,10800,"This is true for Confluence at least.  If you attach two images to a page in separate requests, you only see the first one in the combined activity item, making it appear to have lost the second update."
61d4219ff4d395ee22000592,29909,14400,"The current situation is that either we restore a clean site from a backup, rendering the test unable to log in, or we don't restore, meaning that the test fails if you run it more than once without cleaning first. I'm going to try to figure out how to get the backup working correctly."
61d4219ff4d395ee22000594,30000,7200,"From Michael Knighten: ""The user activity stream for me shows two recent activities then skips a few months back to December (see screenshot). Obviously I've done a lot in between so not sure why its doing that, but maybe User Stream starts working for new activity but doesn't necessarily pull older data that well?"""
61d4219ff4d395ee2200059e,30005,1200,This should probably be an error instead
61d4219ff4d395ee220005a1,29879,1200,It may not be clear to some people that it's clickable.
61d4219ff4d395ee220005a6,29822,1800,"Doesn't happen on the Mac, but maybe on other browsers. May need to explicitly take focus from the text field to avoid this."
61d4219ff4d395ee220005a9,30003,14400,"Currently the Stream plugin activity providers have a trused app helper constructor injected to help with setting up the request headers for a trusted app connection.  There is a problem when data is imported in JIRA, where the componentmanager is completely reloaded, and the activityproviders end up with a stale trusted app helper that holds on to a stale CurrentApplicationFactory  which breaks trusted app communication.  The easy fix is to just get the CurrentApplicationFactory directly from the ComponentManager every time.\n\n"
61d4219ff4d395ee220005c6,29556,108000,"With the improvements we've made to AMPS for cross-product plugin development and testing, we'd do well to update the project to use the AMPS plugins instead of cargo + bnd + antrun etc."
61d4219ff4d395ee220005d2,24340,57600,When configuring a activity stream gadget it would be awesome if you could specify currentUser for the username input. This would be extremely useful for JIRA when sharing dashboards. 
61d4219ff4d395ee22000958,70053,7200,"If I'm in foo/bar.js and I require ""baz/jim"", it resolves as ""foo/baz/jim""."
61d4219ff4d395ee22000959,70057,3600,"To help admins, change the extension to be speakeasy- for plugins installed into the plugin system."
61d4219ff4d395ee2200095a,69993,7200,Should include:\n* .DS_Store\n* __MACOSX\n* ._FILENAME
61d4219ff4d395ee2200095b,70063,86400,Dependent upon design help
61d4219ff4d395ee2200095c,69994,64800,"Permissions include:\n* Which groups can author (fork, upload, download, edit) extensions\n* Which groups can access Speakeasy extensions\n* Which groups are prohibited from accessing Speakeasy (sysadmin?)"
61d4219ff4d395ee2200095e,70076,7200,"If authors are encouraged to use js/main.js, we need to find a way to deal with that so that other extensions won't conflict"
61d4219ff4d395ee22000962,70062,21600,This may mean forking upm to add the transformation or having our own filter
61d4219ff4d395ee22000965,70068,14400,"Using the plugin descriptor's parameters element, we could support links to other resources like the project home page or their issues."
61d4219ff4d395ee22000966,70069,14400,"Would be nice to support a file named ""readme.wiki"" that, when placed in the root of the extension, would be rendered and displayed in the UI.  This would allow more information than the current ""description"" field."
61d4219ff4d395ee22000967,70067,14400,"Easiest way would be to transform all css files into a commonjs module that when executed, sticks the contents into head"
61d4219ff4d395ee22000968,70060,21600,Tutorial for going from nothing to Speakeasy extension
61d4219ff4d395ee22000969,70059,21600,Should cover:\n* Module descriptors and options\n* Overview of execution process
61d4219ff4d395ee2200097d,136619,28800,I am not aware much about this but can you help me to implement string replace function in soy file
61d4219ff4d395ee22000a02,70184,28800,Allow users to specify the start/end line number they want to include.\n\nfor example: \n{snippet:url=<url>|start=10|end=20}
61d4219ff4d395ee22000a97,58518,7200,If you want to use webdriver core api's you sometimes need to pass in a WebElement but this isn't exposed for WebDriverElements.\nAdding a method like asWebElement should fix this.
61d4219ff4d395ee22000ac3,58449,43200,This will just clean up the AtlassianWebDriver removing all the waitFor* methods and instead move them to a Poller object.
61d4219ff4d395ee22000adc,58404,3600,"Here is existing code:-\n{code}\n    @Init\n    public void checkForErrors()\n    {\n        List<WebElement> errorElements = driver.findElements(By.className("".errMsg""));\n\n        for (WebElement errEl : errorElements)\n        {\n            errors.add(errEl.getText());\n        }\n    }\n{code}\n\nI think By.className doesn't need dot prefix. The fix should be just:-\n{code}\n        List<WebElement> errorElements = driver.findElements(By.className(""errMsg""));\n{code}"
61d4219ff4d395ee22000af2,58526,21600,Need a nice way to be able to extend the modules a TestedProduct uses so plugin devs can write their own modules without haveing to create their own TestedProduct.
61d4219ff4d395ee22000af3,58581,3600,"Currently the lifecycle methods need to be public, should have the ability to hide the lifecycle methods on PageObjects."
61d4219ff4d395ee22000b21,58559,3600,This will allow certain tests to be run against different products by simply changing the system properties in pom.
61d4219ff4d395ee22000cb1,24198,7200,"Currently the default plugin manager only runs upgrade tasks when the application is started or restored from backup.\n\nTherefore, upgrade tasks exported by plugins that are enabled afterwards are not run."
61d4219ff4d395ee22000cdc,20945,7200,It'd be nice to have the javadocs for SAL up on docs.atlassian.com
61d4219ff4d395ee22000d0b,17478,7200,"SAL response considers any status code that is not 200 an error, including other successful status codes like 201, 204, 304 etc.  It should consider all 2XX and 3XX status codes as success."
61d4219ff4d395ee22000d14,16445,21600,A compliance test kit plugin would test the implementations of SAL to ensure they support the proper behavior.
61d4219ff4d395ee22000d15,16444,14400,"Currently, the core classes are in the com.atlassian.sal.api package, which causes all sorts of problems in OSGi.  They should be moved to their own package."
61d4219ff4d395ee22000d39,139748,57600,"* Open tickets: https://jdog.jira-dev.com/issues/?jql=project%20%3D%20VI%20AND%20text%20~%20%22%5C%22atlassian-rest-module-%5C%5CS*.jar%5C%22%22%20and%20status%20!%3D%20%22DONE%22\r\n\r\n_Notes:_\r\n\r\n* https://ecosystem.atlassian.net/browse/ACI-137 was created to track non-tenantless ResourceInterceptors (and map was annotated)\r\n* https://jdog.jira-dev.com/browse/VI-1944 is legit. Robbie and commented and agreed to fix\r\n* https://jdog.jira-dev.com/browse/VI-1078 seems like tenantless, we can expand capacity of cache and just annotate it."
61d4219ff4d395ee22000d77,116013,28800,Update master branch (3.0.x) to use platform poms dependencies instead of builtin variables
61d4219ff4d395ee22000d78,116012,28800,- SAL\r\n- servlet api\r\n- e.t.c
61d4219ff4d395ee22000d7c,113363,28800,"I have a [PR ](https://bitbucket.org/atlassian/atlassian-refapp/pull-request/72/initialize-backdoor-plugins-the-backdoor/diff) which turns a new backdoor module into a REST.\r\nTo do that the plugin needs to import com.atlassian.plugins.rest.module, com.atlassian.plugins.rest.module.servlet package from atlassian-rest-module plugin. Therefore I updated atlassian-rest-module plugin to export these packages."
61d4219ff4d395ee22000d7d,113169,14400,"Still a TODO in there...\r\n\r\nAlso need to ""unignore"" the following CTK tests in refapp:\r\n{code}\r\n  testWithDummyRestNoParam(com.atlassian.refapp.ctk.rest.tests.DummyRestTest): TODO\r\n  testWithDummyRestWithParam(com.atlassian.refapp.ctk.rest.tests.DummyRestTest): TODO\r\n{code}"
61d4219ff4d395ee22000d7e,113133,14400,Jersey 2.x expects to have different XML namespaces in docklet files. To reproduce the problem take rest-refimpl-plugin:\r\n1. remove custom doclet generation in pom.xml\r\n2. remove src/main/resources/application-*.xml files\r\n3. Enable restDocGeneration in amps\r\n\r\nWe need to tweak AMPS restDocGeneration mojo to create files with expected namespaces
61d4219ff4d395ee22000d7f,113130,14400,Jersey 2.x could work with different Jackson implementations. Because Jackson 1.x & Jackson 2.x could coexist in the classpath it makes sense to give plugin ability to use old Jackson if needs.\r\n\r\n1. Add parameter to the rest module descriptor. Jackson 2 must be enabled by default\r\n2. Add Jackson 2.x integration & Jackson 2.x in the rest-module classpath\r\n3. Update JerseyResourceOsgiImpl and enbale Jackson1Feature or Jackson2Feature based on rest endpoint property'
61d4219ff4d395ee22000db6,78230,57600,Jersey 2.0 is now released as an implementation of JAX-RS 2.0. [Whats-New-in-JAX-RS-2.0?|http://www.infoq.com/news/2013/06/Whats-New-in-JAX-RS-2.0].\r\n
61d4219ff4d395ee22000dbc,76325,28800,"The JAX-RS spec says I can use [javax.ws.rs.WebApplicationException|https://jsr311.java.net/nonav/javadoc/javax/ws/rs/WebApplicationException.html] to return a specific status code. For example this method should return a 403 return code if the calling user is not a sysadmin:\r\n\r\n{code}\r\n@PUT\r\n@Path(""config"")\r\npublic void setConfig(/* ... */)\r\n{\r\n    if (!permissionManager.hasPermission(Permissions.SYSTEM_ADMIN, authenticationContext.getUser()))\r\n    {\r\n        throw new WebApplicationException(FORBIDDEN);\r\n    }\r\n\r\n    // ...\r\n}\r\n{code}\r\n\r\nThis is much cleaner than having to return {{javax.ws.rs.Response}} and use a return builder. This is actually working but the ThrowableExceptionMapper is logging a scary error when in fact it is completely normal operation.\r\n\r\n{code}\r\n[INFO] [talledLocalContainer] 2013-05-21 17:39:32,812 http-2990-2 ERROR fred 1059x34494x1 1hfh7c0 0:0:0:0:0:0:0:1%0 /rest/jira-mail-plugin/1.0/outgoingMail/config [common.error.jersey.ThrowableExceptionMapper] Uncaught exception thrown by REST service\r\n[INFO] [talledLocalContainer] javax.ws.rs.WebApplicationException\r\n[INFO] [talledLocalContainer] 	at com.atlassian.jira.plugins.mail.rest.OutgoingMailResource.setConfig(OutgoingMailResource.java:47)\r\n[INFO] [talledLocalContainer] 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n[INFO] [talledLocalContainer] 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n[INFO] [talledLocalContainer] 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n[INFO] [talledLocalContainer] 	at java.lang.reflect.Method.invoke(Method.java:597)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper$VoidOutInvoker$1.invoke(DispatchProviderHelper.java:181)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper$1.intercept(DispatchProviderHelper.java:100)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugins.rest.common.interceptor.impl.DefaultMethodInvocation.invoke(DefaultMethodInvocation.java:61)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugins.rest.common.expand.interceptor.ExpandInterceptor.intercept(ExpandInterceptor.java:38)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugins.rest.common.interceptor.impl.DefaultMethodInvocation.invoke(DefaultMethodInvocation.java:61)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper.invokeMethodWithInterceptors(DispatchProviderHelper.java:132)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper$VoidOutInvoker._dispatch(DispatchProviderHelper.java:177)\r\n[INFO] [talledLocalContainer] 	at com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:75)\r\n[INFO] [talledLocalContainer] 	at com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:288)\r\n[INFO] [talledLocalContainer] 	at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)\r\n[INFO] [talledLocalContainer] 	at com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:108)\r\n[INFO] [talledLocalContainer] 	at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)\r\n[INFO] [talledLocalContainer] 	at com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:84)\r\n[INFO] [talledLocalContainer] 	at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1469)\r\n[INFO] [talledLocalContainer] 	at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1400)\r\n[INFO] [talledLocalContainer] 	at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1349)\r\n[INFO] [talledLocalContainer] 	at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1339)\r\n[INFO] [talledLocalContainer] 	at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:416)\r\n[INFO] [talledLocalContainer] 	at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:537)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugins.rest.module.RestDelegatingServletFilter$JerseyOsgiServletContainer.doFilter(RestDelegatingServletFilter.java:178)\r\n[INFO] [talledLocalContainer] 	at com.sun.jersey.spi.container.servlet.ServletContainer.doFilter(ServletContainer.java:795)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugins.rest.module.RestDelegatingServletFilter.doFilter(RestDelegatingServletFilter.java:73)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugins.rest.module.servlet.RestServletUtilsUpdaterFilter.doFilterInternal(RestServletUtilsUpdaterFilter.java:26)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugins.rest.module.servlet.RestServletUtilsUpdaterFilter.doFilter(RestServletUtilsUpdaterFilter.java:40)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:25)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.mywork.client.filter.ServingRequestsFilter.doFilter(ServingRequestsFilter.java:37)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.prettyurls.filter.PrettyUrlsDispatcherFilter.doFilter(PrettyUrlsDispatcherFilter.java:60)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.prettyurls.filter.PrettyUrlsSiteMeshFilter.doFilter(PrettyUrlsSiteMeshFilter.java:92)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.prettyurls.filter.PrettyUrlsMatcherFilter.doFilter(PrettyUrlsMatcherFilter.java:56)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.labs.httpservice.resource.ResourceFilter.doFilter(ResourceFilter.java:59)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\r\n[INFO] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n[INFO] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.jira.web.filters.accesslog.AccessLogFilter.executeRequest(AccessLogFilter.java:103)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.jira.web.filters.accesslog.AccessLogFilter.doFilter(AccessLogFilter.java:87)\r\n[INFO] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n[INFO] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.jira.security.xsrf.XsrfTokenAdditionRequestFilter.doFilter(XsrfTokenAdditionRequestFilter.java:54)\r\n[INFO] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n[INFO] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.jira.web.filters.steps.ChainedFilterStepRunner.doFilter(ChainedFilterStepRunner.java:87)\r\n[INFO] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n[INFO] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.remotable.plugin.module.permission.ApiScopingFilter.doFilter(ApiScopingFilter.java:62)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:61)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\r\n[INFO] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n[INFO] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.seraph.filter.SecurityFilter.doFilter(SecurityFilter.java:234)\r\n[INFO] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n[INFO] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:98)\r\n[INFO] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n[INFO] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.seraph.filter.BaseLoginFilter.doFilter(BaseLoginFilter.java:169)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.jira.web.filters.JiraLoginFilter.doFilter(JiraLoginFilter.java:70)\r\n[INFO] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n[INFO] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:55)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugins.rest.module.servlet.RestSeraphFilter.doFilter(RestSeraphFilter.java:40)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:61)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\r\n[INFO] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n[INFO] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.johnson.filters.AbstractJohnsonFilter.doFilter(AbstractJohnsonFilter.java:71)\r\n[INFO] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n[INFO] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n[INFO] [talledLocalContainer] 	at org.tuckey.web.filters.urlrewrite.RuleChain.handleRewrite(RuleChain.java:176)\r\n[INFO] [talledLocalContainer] 	at org.tuckey.web.filters.urlrewrite.RuleChain.doRules(RuleChain.java:145)\r\n[INFO] [talledLocalContainer] 	at org.tuckey.web.filters.urlrewrite.UrlRewriter.processRequest(UrlRewriter.java:92)\r\n[INFO] [talledLocalContainer] 	at org.tuckey.web.filters.urlrewrite.UrlRewriteFilter.doFilter(UrlRewriteFilter.java:394)\r\n[INFO] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n[INFO] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.gzipfilter.GzipFilter.doFilterInternal(GzipFilter.java:80)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.gzipfilter.GzipFilter.doFilter(GzipFilter.java:51)\r\n[INFO] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n[INFO] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.remotable.plugin.module.oauth.OAuth2LOFilter.doFilter(OAuth2LOFilter.java:70)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.jira.dev.backdoor.noalert.NoAlertFilter.doFilter(NoAlertFilter.java:37)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.jira.dev.slomo.SlowMotionFilter.doFilter(SlowMotionFilter.java:43)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.remotable.host.common.service.http.bigpipe.BigPipeRequestIdFilter.doFilter(BigPipeRequestIdFilter.java:33)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.fastdev.AutoReloadFilter.doFilter(AutoReloadFilter.java:63)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:61)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\r\n[INFO] [talledLocalContainer] 	at com.sysbliss.jira.plugins.workflow.servlet.JWDSendRedirectFilter.doFilter(JWDSendRedirectFilter.java:25)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\r\n[INFO] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n[INFO] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.jira.web.filters.steps.ChainedFilterStepRunner.doFilter(ChainedFilterStepRunner.java:87)\r\n[INFO] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n[INFO] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.core.filters.cache.AbstractCachingFilter.doFilter(AbstractCachingFilter.java:33)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31)\r\n[INFO] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n[INFO] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.core.filters.encoding.AbstractEncodingFilter.doFilter(AbstractEncodingFilter.java:41)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.jira.web.filters.PathMatchingEncodingFilter.doFilter(PathMatchingEncodingFilter.java:45)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31)\r\n[INFO] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n[INFO] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.jira.startup.JiraStartupChecklistFilter.doFilter(JiraStartupChecklistFilter.java:74)\r\n[INFO] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n[INFO] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.jira.web.filters.steps.ChainedFilterStepRunner.doFilter(ChainedFilterStepRunner.java:87)\r\n[INFO] [talledLocalContainer] 	at com.atlassian.jira.web.filters.JiraFirstFilter.doFilter(JiraFirstFilter.java:57)\r\n[INFO] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n[INFO] [talledLocalContainer] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n[INFO] [talledLocalContainer] 	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\r\n[INFO] [talledLocalContainer] 	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\r\n[INFO] [talledLocalContainer] 	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)\r\n[INFO] [talledLocalContainer] 	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\r\n[INFO] [talledLocalContainer] 	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:567)\r\n[INFO] [talledLocalContainer] 	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\r\n[INFO] [talledLocalContainer] 	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293)\r\n[INFO] [talledLocalContainer] 	at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:849)\r\n[INFO] [talledLocalContainer] 	at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583)\r\n[INFO] [talledLocalContainer] 	at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:454)\r\n[INFO] [talledLocalContainer] 	at java.lang.Thread.run(Thread.java:680)\r\n{code}\r\n\r\nWebApplicationExceptions are not ""unexpected"" and we shouldn't log them as such."
61d4219ff4d395ee22000dbf,74659,28800,This was done in earlier versions of rest-module. \r\nThis happened when amps was upgraded from 3.6 to 4.1.2 \r\nThe underlying version of maven-bundle-plugin was upgraded from 2.0.0 to 2.3.7 and this includes \r\n\r\nhttp://www.sonatype.com/people/2011/01/maven-bundle-plugin-220/\r\n\r\nSo now the smarter bnd tool removes unused jackson imports from manifest
61d4219ff4d395ee22000dda,49312,14400,"Currently we do bypass WebSudo if BASIC authentication is in place\r\n{code}\r\n        // We can skip web sudo if this is a request authenticated by BASIC-AUTH\r\n        final String authHeader = r.getHeader(""Authorization""); // as per RFC2616\r\n        if (null != authHeader && authHeader.startsWith(BASIC_AUTHZ_TYPE_PREFIX))\r\n        {\r\n            return false;\r\n        }\r\n{code}\r\n\r\nAccording to our latest discussion in arch forum, BASIC is not secure enough thus this is not acceptable"
61d4219ff4d395ee22000e15,30282,3600,"If a plugin provides its own META-INF/spring/atlassian-plugins-host-components.xml file, the plugin startup can be significantly improved as the plugin system won't scan each class looking for host components."
61d4219ff4d395ee22000e4d,22853,7200,The following member variable:\n\n{code}\n    @XmlElement\n    @Expandable\n    private List items;\n{code}\n\ncauses:\n\n{noformat}\n     [java] java.lang.NullPointerException\n     [java] 	at com.atlassian.plugins.rest.common.expand.resolver.CollectionEntityExpanderResolver$ListExpander.expand(CollectionEntityExpanderResolver.java:64)\n     [java] 	at com.atlassian.plugins.rest.common.expand.resolver.CollectionEntityExpanderResolver$ListExpander.expand(CollectionEntityExpanderResolver.java:56)\n     [java] 	at com.atlassian.plugins.rest.common.expand.EntityCrawler.expandFields(EntityCrawler.java:94)\n     [java] 	at com.atlassian.plugins.rest.common.expand.EntityCrawler.crawl(EntityCrawler.java:35)\n     [java] 	at com.atlassian.plugins.rest.common.expand.jersey.ExpandResponseFilter.filter(ExpandResponseFilter.java:39)\n     [java] 	at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:675)\n     [java] 	at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:612)\n     [java] 	at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:603)\n     [java] 	at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:309)\n     [java] 	at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:425)\n     [java] 	at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:590)\n     [java] 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\n     [java] 	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:502)\n     [java] 	at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1208)\n     [java] 	at com.cenqua.fisheye.web.filters.RestFilter.doFilter(RestFilter.java:25)\n{noformat}\n
61d4219ff4d395ee22000e4e,22852,7200,{{IdentityExpander}} was accidentally removed and needs to be restored in order to fix recursive entity crawling.\n
61d4219ff4d395ee22000ea2,18328,7200,As the [JAX-RS spec says|https://jsr311.dev.java.net/nonav/releases/1.0/spec/spec3.html#x3-180003]:\n\nbq. A resource class is a Java class that uses JAX-RS annotations to implement a corresponding Web resource. Resource classes are POJOs that have at least one method annotated with @Path or a request method designator.\n\n\n
61d4219ff4d395ee22000ec9,122841,28800,"Scheduler Demo plugin doesn't fire activity streams every 2 minutes. This due to the plugin was removed from bundle plugins so that it wasn't enabled when refapp started. Integration test was moved back into the plugin itself which is located in refapp-plugins module, not a module in refapp parent anymore "
61d4219ff4d395ee22000ecf,118424,57600,"https://jdog.jira-dev.com/browse/JDEV-32969\r\n\r\nSince DemoActivityStreamsSchedulerTest is not a part of CTK test, it's for scheduler-demo-plugin test, should move it to the right place."
61d4219ff4d395ee22000ed4,116061,28800,"1. Update platform poms to use latest: rets, streams & pretty-urls\r\n2. Update refapp to use latest platform poms\r\n3. release"
61d4219ff4d395ee22000ed8,113253,57600,This ticket was spit from REFAPP-452 which provides interface for client to invoke backdoor rest endpoint. Plugin developer uses this interface to create the rest endpoint which is actually the backdoor. The ticket needs to :\r\nWrite an example that uses this interface to call backdoor
61d4219ff4d395ee22000ed9,113252,28800,This ticket was spit from REFAPP-452 which provides interface for client to invoke backdoor rest endpoint. Plugin developer uses this interface to create the rest endpoint which is actually the backdoor. The ticket needs to :\r\n* Define Jersey client in order to client can invoke backdoor rest endpoint
61d4219ff4d395ee22000eda,113251,28800,"This ticket was spit from REFAPP-452 which provides interface for client to invoke backdoor rest endpoint. Plugin developer uses this interface to create the rest endpoint which is actually the backdoor. The ticket needs to : \r\n\r\n* Define backdoor testkit interface for client side\r\n* Define BackdoorEnvironment interface to declare test environment configuration (url, port, importDataFile,......)"
61d4219ff4d395ee22000ee9,111805,28800,"After understanding how module loading process works and writing a sample plugin which make a new module type as a REST, update the design page for the design concepts and technical details. \r\n\r\nhttps://extranet.atlassian.com/display/SAAS/Refapp+TestKit+Speclet"
61d4219ff4d395ee22000eea,111804,28800,Update the sample plugin to turn servlet module into REST module. 
61d4219ff4d395ee22000eeb,111802,57600,Create a new module type then turn it into a servlet. This aims to understand to module loading process. 
61d4219ff4d395ee22000eed,110183,57600,"After designing backdoor testkit, use it in Refapp to test some plugins"
61d4219ff4d395ee22000eee,110182,57600,"Create a backdoor-rest-plugin to turn a backdoor module type into a REST. Without this plugin, backdoor module isn't a REST type."
61d4219ff4d395ee22000ef1,110048,57600,Use plugin created in REFAPP-429 to periodically fires atlassian-stream events.\r\nThen display the stream and show updates in a demo page 
61d4219ff4d395ee22000ef2,110047,57600,Create a refapp plugin that demonstrates how to (properly) use atlassian-scheduler within a plugin.\r\n\r\nPossible implementation is a plugin that periodically fires a simpe events.
61d4219ff4d395ee22000ef8,109010,7200,"The integration test in refapp was executed by our functest plugin and return report with number of failed test case not details at all\r\nthe test report only contains Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 0.993 sec <<< FAILURE!\r\n\r\n{code} \r\nrun(it.com.atlassian.refapp.ctk.TestClient)  Time elapsed: 0.972 sec  <<< FAILURE!\r\njunit.framework.AssertionFailedError: expected:<0> but was:<2> \r\n{code}\r\n\r\nExpect: The integration test in Refapp should return full report: which test run success, which test run fail and total of them. It will help us faster, easier for investigating the actual failed test case\r\n"
61d4219ff4d395ee22000f55,58740,28800,AUI requires the refapp to enable batching in IE while in devmode because of a resource limit in IE.  The same issue exists and is solved in Jira and Confluence we will can simply copy one of those implementations.
61d4219ff4d395ee22000f6f,49847,1800,Need to add an implementation of the SCF to the public container so that plugins can have it injected.
61d4219ff4d395ee22000f91,49803,3600,Currently if a vm is using the atl.general decorator there is no way to set the <title> in the head section.
61d4219ff4d395ee22000f92,49801,3600,Currently if a class is applied to the html or body tags the decorator doesn't render them.\nThis will be implemented on the blank decorator to start with and can be added later to others.
61d4219ff4d395ee22000f93,49802,21600,Adding a blank decorator means that we can control the content in the head and body more.
61d4219ff4d395ee22000fa4,49768,3600,I'm just creating this issue to say what I've done.\nNo functional change is expected.\n\nI'm changing each folder's SVN properties (command svn pe svn:ignore folder-name)\n-They've alreay ignored *.iml\nI've added:\n-target/\n-.classpath\n-.settings/\n-.project\n(the last 3 are related to Eclipse users)
61d4219ff4d395ee22000fba,49985,7200,It needs to use the new XsrfValidator in SAL.
61d4219ff4d395ee22000fbb,49917,21600,"Line up versions for Platform 2.9 release.\n\nAppLinks still in state of flux, so omit for now."
61d4219ff4d395ee22000fcd,49755,14400,Confluence [src build|https://bamboo.extranet.atlassian.com/browse/RELENG-TRUNKSRCDISTRO16-JOB1] fails with \n\n{noformat}\n[INFO] [ERROR] BUILD FAILURE\n25-Nov-2010 20:38:51 	[INFO] [INFO] ------------------------------------------------------------------------\n25-Nov-2010 20:38:51 	[INFO] [INFO] The projects in the reactor contain a cyclic reference: Edge between 'Vertex{label='com.atlassian.plugins:atlassian-plugins-core'}' and 'Vertex{label='com.atlassian.event:atlassian-event'}' \nintroduces to cycle in the graph \ncom.atlassian.event:atlassian-event --> com.atlassian.inject:atlassian-inject --> \ncom.atlassian.plugins:atlassian-plugins-spring --> com.atlassian.plugins:atlassian-plugins-osgi --> \ncom.atlassian.plugins:atlassian-plugins-core --> com.atlassian.event:atlassian-event\n{noformat}\n\nPi thinks the problem is the dependency of atlassian-inject on atlassian-plugins which should not exist. He was going to investigate - creating this ticket to track the progress. 
61d4219ff4d395ee22000fce,49999,21600,Should use web driver and the auto-browser install.  This task also includes getting the bamboo build working correctly
61d4219ff4d395ee22000fcf,50017,14400,"i think it would make more sense to run all the tests by default when doing ""mvn clean install"" (or similar) in platform-ctk-plugin. we would need to @ignore or comment out tests that are failing. \n\nthis would make it easier for unfamiliar people to know which tests are actually being run and how to add a new test. \n\nsee https://studio.atlassian.com/source/cru/CR-REFAPP-81#c27024"
61d4219ff4d395ee22000fd0,50027,3600,This is solely for accommodating jira in which jobs can be delayed up to 60 seconds.
61d4219ff4d395ee22000fd5,49998,10800,"also release in jira, create release notes, and update pac"
61d4219ff4d395ee22000fde,49894,7200,"also release in jira, create release notes, and update pac"
61d4219ff4d395ee22000fe0,50008,21600,Some AG tests are broken. Need to investigate why they're failing and estimate how long it's gonna take to fix. Also estimate how long it would take to migrate the tests to Atlassian Selenium.
61d4219ff4d395ee22000ff6,49991,14400,Things todo:\n* Change plugins and anyone else that uses collections\n* Add step in migration guide to ensure the guava packages have the correct version in the package scanner configuration\n* Add to library import pom
61d4219ff4d395ee22000ffb,49845,21600,should check host components and versions. also we should have some selenium tests for component behavior and possibly also for client api
61d4219ff4d395ee22001006,49980,7200,use test groups for this?
61d4219ff4d395ee2200100e,49909,7200,"Should include plugin accessor/controller, osgipluginmanager, plugineventmanager, eventpublisher."
61d4219ff4d395ee22001010,50003,10800,The import pom could be used in amps to make it easy to switch platform versions.
61d4219ff4d395ee22001011,49948,600,Just a reminder for me to do this once we release UPM.
61d4219ff4d395ee22001012,49778,7200,https://studio.atlassian.com/source/cru/CR-REFAPP-48#c23873
61d4219ff4d395ee22001014,49897,7200,"The security filter should be applied for forwards, such as web resources."
61d4219ff4d395ee22001018,49973,43200,"This would allow, among other things, the UPM and other platform builds to trigger a Refapp build upon successful completion."
61d4219ff4d395ee22001019,49942,43200,"Should be a test for every service, as much as possible"
61d4219ff4d395ee2200101e,49898,3540,Since this can cause troubles when pkgscanner picking out the versions of exported packages.\n\nshould also mention in migration guide.
61d4219ff4d395ee2200101f,50055,21600,"In updating the UPM to the 2.7.0-beta2 version of the refapp the plugins system was unable to deploy UPM.\n\nThe reason was that we had an unsatisfied dep, the com.atlassian.plugin.metadata dep. We have an explicit package import for:\n\n{code}\ncom.atlassian.plugin*;version=""2.6"",\n{code}\n\nLooking at the Felix web console it showed that the com.atlassian.plugin.metadata package is being provided at version 1.2.0-SNAPSHOT, which is the version of UPM.\n\nI can work around the issue by adding a package import as such:\n\n{code}\ncom.atlassian.plugin.metadata;version=""1.2"",\n{code}\n\nbut that is not really ideal. I would look into this but we are kinda snowed under with UPM bugs ATM."
61d4219ff4d395ee22001023,49874,14400,- release stable betas\n- sync the versions\n\nThis should be done after all the release notes.
61d4219ff4d395ee22001026,49926,14400,Adding a atlassian-spring-host-components.xml file in each plugin can significantly improve the startup time as the plugin framework doesn't have to scan the plugin for host components class by class.
61d4219ff4d395ee22001065,49938,3600,https://extranet.atlassian.com/display/IT/2009/10/22/Base+poms+have+been+updated
61d4219ff4d395ee22001077,49937,3600,"This is needed for AG-923, AG-931"
61d4219ff4d395ee220010f9,116622,28800,1. Use platform poms instead of builtin variables\r\n2. Upgrade to the latest public pom
61d4219ff4d395ee2200114a,76189,144000,tralala
61d4219ff4d395ee2200117c,66953,21600,"I really love how I can now see all my issues straight in Visual Studio. It seems such a trivial step between switching to a browser hosting Jira and having it in VS, but it makes a huge difference to my workflow.\n\nThe only thing I'm missing now is when I hit the Start Work button on an issue, I'd like a timer to start in Harvest. If you integrate this feature, I will send a Christmas present ;)"
61d4219ff4d395ee220011d4,67250,43200,I use a lot tasks and sub-tasks and having the tree automatically expanded is annoying. The best option would be that the tree remember its state and restores its state after a refresh.
61d4219ff4d395ee220011d5,67246,43200,I would be useful to be able to create sub-tasks or move tasks as sub-tasks directly from Visual Studio and not only via the website.
61d4219ff4d395ee220012a7,67226,18000,test description\n\n{{with nicea}}\n\n_wiki_\n\n*markup*
61d4219ff4d395ee220012aa,66963,7200,aa
61d4219ff4d395ee220012af,67176,14400,_nice description_\n\n* with\n* bullets\n\n# and \n# numbers
61d42332f4d395ee220013d3,135182,57600,See https://extranet.atlassian.com/jira/browse/APDEX-1045
61d42332f4d395ee220013e8,133694,14400,The bamboo build isn't triggered for https://bitbucket.org/atlassian/atlassian-plugins-webfragment/pull-requests/16/plugfrag-16-add-vararg-constructors-for
61d42332f4d395ee220015a0,121946,28800,"As a finding from [~accountid:557057:db5e6023-d299-4618-9620-a1c17c612e9f], the getDateInstalled always return lastModified of the artifact.\r\n\r\n{code:java}\r\n    @Override\r\n    public Date getDateInstalled()\r\n    {\r\n        long date = getPluginArtifact().toFile().lastModified();\r\n        if (date == 0)\r\n        {\r\n            date = getDateLoaded().getTime();\r\n        }\r\n        return new Date(date);\r\n    }\r\n{code}\r\nIt happens in both OsgiBundlePlugin and OsgiPlugin.\r\nThe method should return correctly the installed date."
61d42332f4d395ee2200167a,52325,115200,"Due to the scope validation mechanism in remoteapps, it is necessary to treat scopes as osgi:service. This will be achieved by:-\r\n1. Adding another transformation stage into plugin transformer which reads scope elements in atlassian-plugin.xml and emit osgi:service elements in spring xml. These services will be loaded during plugin installation so they will be available during remoteapps validation.\r\n2. Ability to track such services. This likely will be achieved by implementing another http://www.osgi.org/javadoc/r4v42/org/osgi/util/tracker/ServiceTrackerCustomizer.html"
61d42332f4d395ee22001710,35103,7200,http://jira.atlassian.com/browse/JRA-23722\n\nThe multi-tenancy library tries to extend this class with cglib in order to make a delegator to delegate to the correct instance for a given tenant.\n\nNeed to remove the final declaration.
61d42332f4d395ee2200171e,33898,43200,"We don't seem to have any collated documentation about the resource batching system. Topics to cover:\n* basic background: how CSS, JS etc are batched and delivered\n* syntax for IE conditional comments\n* how to disable minification for debugging\n* how to ""fast load"" static resources"
61d42332f4d395ee22001729,32794,14400,I want to be able to install a signed jar as a plugin and have consumers of the service verify the signed jar so that they can authenticate the provider of the service.\n\nIn my service provider plugin I generate the manifest file at runtime with everything necessary. The jar is then signed using the maven jar signer plugin. When the jar is transformed in the {{GenerateManifestStage}} the manifest is modified even though it doesn't need to be and then {{DefaultPluginTransformer}} constructs a brand new jar file and tries to make it identical to the original file but it is not quite. The slight differences are enough to cause the signed jar to be corrupt.\n\nIf the jar doesn't need transforming the original jar should be used.\n\nI have created a patch against plugins 2.6.1 and tested in in refpp 2.8.2 which resolves the issue. (The patch might explain things better than I have in the description.)\n\nThe plugin i am attempting to use is https://studio.atlassian.com/browse/PLM\nThe signed plugin is https://studio.atlassian.com/source/browse/PLM/trunk/plugin/plm-plugin\nThe test plugin for verification is: https://studio.atlassian.com/source/browse/PLM/trunk/plugin/examples/licenced\nTo test in the plm plugin run {{mvn amps:debug -Dproduct=refapp}} and hit {{http://localhost:9990/atlas-app/plugins/servlet/example/verify}} to execute {{http://localhost:9990/atlas-app/plugins/servlet/example/verify}}\n\nThe reason I want to verify the jar is that I don't want an impostor plugin providing a licensing service to plugins and bypassing the licence checks.
61d42332f4d395ee22001734,32048,21600,"DefaultPluginManager currently has too many responsibilities as can be seen that it implements three non-trivial interfaces: PluginController, PluginAccessor, and PluginSystemLifecycle.\n\nOne idea would be to implement those three interfaces as delegate classes. This will also allow caching for PluginAccessor to be implemented as a layer."
61d42332f4d395ee22001736,31792,7200,AbstractModuleDescriptor.loadClass() also does populating its moduleClass field so that AbstractPlugin.getModuleDescriptorsByModuleClass() can work correctly but PLUG-408 did override it in ComponentModuleDescriptor to do nothing. The result is AbstractPlugin.getModuleDescriptorsByModuleClass() will not pick up component module descriptors.
61d42332f4d395ee2200173b,31425,14400,"The {{com.atlassian.plugin.osgi.factory.transform.stage.HostComponentSpringStage}} which generates the {{atlassian-plugins-host-components.xml}} spring context file scan for used host components that should be imported by scanning the plugin and bundled jars.\n\nDoing so it loads the classes to check whether if they use host components, using this code:\n{code:java}\nClass spr;\ntry\n{\n    spr = ClassLoaderUtils.loadClass(cls, this.getClass());\n}\ncatch (ClassNotFoundException e)\n{\n    // ignore class not found as it could be from another plugin\n    continue;\n}\n\n// Search methods for parameters that use host components\nfor (Method m : spr.getMethods())\n{\n    for (Class param : m.getParameterTypes())\n    {\n        if (allHostComponents.contains(param.getName()))\n        {\n            matchedHostComponents.add(param.getName());\n        }\n    }\n}\n{code}\n\nIn this case getting the method tries to load a class that is imported by said class. However this is an optional dependency and this particular class is not used at runtime (here a freemarker class).\n\nEither the {{java.lang.NoClassDefFoundError}} should be caught or we should be provided a way to exclude some classes from being scanned. Maybe both?"
61d42332f4d395ee22001743,31044,64800,See UPM-888 for more information as to where this came about.
61d42332f4d395ee22001749,30742,3600," I think we are seeing a manifestation of this bug: [https://jira.springframework.org/browse/SPR-5687]\n\nIt's intermittent, but I've seen it a couple of times over the past few days.\n\nThe stack trace is slightly different to SPR-5687, but I think it's the same problem.\n\n\nUnable to instantiate Action, com.cenqua.fisheye.web.CommitActivityChartAction,  defined for 'commitSparkline' in namespace '/fe'Error creating bean with name 'com.cenqua.fisheye.web.CommitActivityChartAction': Initialization of bean failed; nested exception is java.util.ConcurrentModificationException\n       at com.opensymphony.xwork.DefaultActionInvocation.createAction(DefaultActionInvocation.java:243)\n       at com.opensymphony.xwork.DefaultActionInvocation.init(DefaultActionInvocation.java:322)\n       at com.opensymphony.xwork.DefaultActionInvocation.<init>(DefaultActionInvocation.java:71)\n       at com.opensymphony.xwork.DefaultActionInvocation.<init>(DefaultActionInvocation.java:64)\n       at com.opensymphony.xwork.DefaultActionProxyFactory.createActionInvocation(DefaultActionProxyFactory.java:28)\n       at com.opensymphony.xwork.DefaultActionProxy.prepare(DefaultActionProxy.java:148)\n       at com.opensymphony.xwork.DefaultActionProxy.<init>(DefaultActionProxy.java:78)\n       at com.opensymphony.xwork.DefaultActionProxyFactory.createActionProxy(DefaultActionProxyFactory.java:46)\n       at com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceAction(DispatcherUtils.java:264)\n       at com.opensymphony.webwork.dispatcher.ServletDispatcher.service(ServletDispatcher.java:111)\n       at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\n       at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)\n       at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1217)\n       at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\n       at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n       at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:25)\n       at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n       at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n       at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\n       at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\n       at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1209)\n       at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\n       at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\n       at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\n       at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1209)\n       at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:83)\n       at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)\n       at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1209)\n       at com.cenqua.crucible.filters.CrucibleFilter.doFilter(CrucibleFilter.java:141)\n       at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1209)\n       at com.cenqua.fisheye.web.filters.TotalityFilter.doFilter(TotalityFilter.java:246)\n       at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:236)\n       at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167)\n       at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1209)\n       at com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:98)\n       at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:236)\n       at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167)\n       at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1209)\n       at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\n       at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n       at com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:69)\n       at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n       at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n       at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\n       at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\n       at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1209)\n       at org.mortbay.servlet.UserAgentFilter.doFilter(UserAgentFilter.java:78)\n       at org.mortbay.servlet.GzipFilter.doFilter(GzipFilter.java:131)\n       at com.cenqua.fisheye.web.filters.CustomIncludableGzipFilter.doFilter(CustomIncludableGzipFilter.java:21)\n       at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1209)\n       at com.cenqua.fisheye.web.filters.ProductInfoFilter.doFilter(ProductInfoFilter.java:36)\n       at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1209)\n       at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\n       at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\n       at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\n       at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1209)\n       at com.cenqua.fisheye.web.filters.UpfrontFilter.doFilter(UpfrontFilter.java:74)\n       at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:236)\n       at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167)\n       at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1209)\n       at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\n       at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n       at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\n       at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\n       at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\n       at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)\n       at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)\n       at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n       at org.mortbay.jetty.Server.handle(Server.java:326)\n       at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\n       at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:926)\n       at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)\n       at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)\n       at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\n       at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)\n       at org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:451)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'com.cenqua.fisheye.web.CommitActivityChartAction': Initialization of bean failed; nested exception is java.util.ConcurrentModificationException\n       at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:480)\n       at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$1.run(AbstractAutowireCapableBeanFactory.java:409)\n       at java.security.AccessController.doPrivileged(Native Method)\n       at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:380)\n       at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:300)\n       at com.atlassian.fisheye.xwork.SpringObjectFactory.buildBean(SpringObjectFactory.java:30)\n       at com.atlassian.fisheye.xwork.SpringObjectFactory.buildBean(SpringObjectFactory.java:46)\n       at com.opensymphony.xwork.ObjectFactory.buildAction(ObjectFactory.java:101)\n       at com.opensymphony.xwork.DefaultActionInvocation.createAction(DefaultActionInvocation.java:224)\n       ... 75 more\nCaused by: java.util.ConcurrentModificationException\n       at java.util.HashMap$HashIterator.nextEntry(HashMap.java:793)\n       at java.util.HashMap$KeyIterator.next(HashMap.java:828)\n       at org.aspectj.apache.bcel.util.NonCachingClassLoaderRepository$SoftHashMap.clear(NonCachingClassLoaderRepository.java:143)\n       at org.aspectj.apache.bcel.util.NonCachingClassLoaderRepository.clear(NonCachingClassLoaderRepository.java:243)\n       at org.aspectj.weaver.reflect.Java15AnnotationFinder.getAnnotations(Java15AnnotationFinder.java:231)\n       at org.aspectj.weaver.reflect.Java15ReflectionBasedReferenceTypeDelegate.getAnnotationTypes(Java15ReflectionBasedReferenceTypeDelegate.java:90)\n       at org.aspectj.weaver.reflect.Java15ReflectionBasedReferenceTypeDelegate.hasAnnotation(Java15ReflectionBasedReferenceTypeDelegate.java:96)\n       at org.aspectj.weaver.ReferenceType.hasAnnotation(ReferenceType.java:152)\n       at org.aspectj.weaver.patterns.ExactAnnotationTypePattern.fastMatches(ExactAnnotationTypePattern.java:81)\n       at org.aspectj.weaver.patterns.WithinAnnotationPointcut.fastMatch(WithinAnnotationPointcut.java:82)\n       at org.aspectj.weaver.patterns.AndPointcut.fastMatch(AndPointcut.java:48)\n       at org.aspectj.weaver.internal.tools.PointcutExpressionImpl.couldMatchJoinPointsInType(PointcutExpressionImpl.java:78)\n       at org.springframework.aop.aspectj.AspectJExpressionPointcut.matches(AspectJExpressionPointcut.java:235)\n       at org.springframework.aop.support.AopUtils.canApply(AopUtils.java:195)\n       at org.springframework.aop.support.AopUtils.canApply(AopUtils.java:250)\n       at org.springframework.aop.support.AopUtils.findAdvisorsThatCanApply(AopUtils.java:284)\n       at org.springframework.aop.framework.autoproxy.AbstractAdvisorAutoProxyCreator.findAdvisorsThatCanApply(AbstractAdvisorAutoProxyCreator.java:113)\n       at org.springframework.aop.framework.autoproxy.AbstractAdvisorAutoProxyCreator.findEligibleAdvisors(AbstractAdvisorAutoProxyCreator.java:85)\n       at org.springframework.aop.framework.autoproxy.AbstractAdvisorAutoProxyCreator.getAdvicesAndAdvisorsForBean(AbstractAdvisorAutoProxyCreator.java:66)\n       at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.wrapIfNecessary(AbstractAutoProxyCreator.java:362)\n       at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessAfterInitialization(AbstractAutoProxyCreator.java:325)\n       at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:361)\n       at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1344)\n       at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:473)\n       ... 83 more"
61d42332f4d395ee2200174a,30720,43200,The plugin framework currently requires an OSGiPlugin to have an XML descriptor in order to extract the plugin key.  The framework should be improved to look for the plugin key in the manifest as well.  This would allow an OSGi plugin that used an alternate method of module descriptor population.
61d42332f4d395ee2200174b,30655,10800,"Due to a bug in Java 5, the following stacktrace is present when TestApplicationContextPreProcessor runs:\n{noformat}\n- Unable to start the Spring context for plugin test.pre.plugin\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'obj' defined in URL [bundle://10.0:0/META-INF/spring/atlassian-plugins-components.xml]: Initialization of bean failed; nested exception is java.lang.LinkageError: Class org/springframework/context/ConfigurableApplicationContext violates loader constraints\nException in thread ""Spring executor 2"" org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'obj' defined in URL [bundle://10.0:0/META-INF/spring/atlassian-plugins-components.xml]: Initialization of bean failed; nested exception is java.lang.LinkageError: Class org/springframework/context/ConfigurableApplicationContext violates loader constraints\n	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:480)\n	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$1.run(AbstractAutowireCapableBeanFactory.java:409)\n	at java.security.AccessController.doPrivileged(Native Method)\n	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:380)\n	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:264)\n	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:480)\n	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$1.run(AbstractAutowireCapableBeanFactory.java:409)\n	at java.security.AccessController.doPrivileged(Native Method)\n	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:380)\n	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:264)\n	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:261)\n	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:185)\n	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:164)\n	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:429)\n	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:728)\n	at org.springframework.osgi.context.support.AbstractDelegatedExecutionApplicationContext.access$1600(AbstractDelegatedExecutionApplicationContext.java:69)\n	at org.springframework.osgi.context.support.AbstractDelegatedExecutionApplicationContext$4.run(AbstractDelegatedExecutionApplicationContext.java:355)\n	at org.springframework.osgi.util.internal.PrivilegedUtils.executeWithCustomTCCL(PrivilegedUtils.java:85)\n	at org.springframework.osgi.context.support.AbstractDelegatedExecutionApplicationContext.completeRefresh(AbstractDelegatedExecutionApplicationContext.java:320)\n	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:261)\n	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:185)\n	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:164)\n	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:429)\n	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:728)\n	at org.springframework.osgi.context.support.AbstractDelegatedExecutionApplicationContext.access$1600(AbstractDelegatedExecutionApplicationContext.java:69)\n	at org.springframework.osgi.context.support.AbstractDelegatedExecutionApplicationContext$4.run(AbstractDelegatedExecutionApplicationContext.java:355)\n	at org.springframework.osgi.extender.internal.dependencies.startup.DependencyWaiterApplicationContextExecutor$CompleteRefreshTask.run(DependencyWaiterApplicationContextExecutor.java:132)\n	at org.springframework.osgi.util.internal.PrivilegedUtils.executeWithCustomTCCL(PrivilegedUtils.java:85)\n	at org.springframework.osgi.context.support.AbstractDelegatedExecutionApplicationContext.completeRefresh(AbstractDelegatedExecutionApplicationContext.java:320)\n	at org.springframework.osgi.extender.internal.dependencies.startup.DependencyWaiterApplicationContextExecutor$CompleteRefreshTask.run(DependencyWaiterApplicationContextExecutor.java:132)\n	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:651)\n	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:676)\n	at java.lang.Thread.run(Thread.java:595)\nCaused by: java.lang.LinkageError: Class org/springframework/context/ConfigurableApplicationContext violates loader constraints\n	at java.lang.Class.getDeclaredMethods0(Native Method)\n	at java.lang.Class.privateGetDeclaredMethods(Class.java:2395)\n	at java.lang.Class.getDeclaredMethods(Class.java:1763)\n	at java.beans.Introspector$1.run(Introspector.java:1280)\n	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:651)\n	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:676)\n	at java.lang.Thread.run(Thread.java:595)\nCaused by: java.lang.LinkageError: Class org/springframework/context/ConfigurableApplicationContext violates loader constraints\n	at java.lang.Class.getDeclaredMethods0(Native Method)\n	at java.lang.Class.privateGetDeclaredMethods(Class.java:2395)\n	at java.lang.Class.getDeclaredMethods(Class.java:1763)\n	at java.beans.Introspector$1.run(Introspector.java:1280)\n	at java.security.AccessController.doPrivileged(Native Method)\n	at java.beans.Introspector.getPublicDeclaredMethods(Introspector.java:1278)\n	at java.beans.Introspector.getTargetMethodInfo(Introspector.java:1144)\n	at java.beans.Introspector.getBeanInfo(Introspector.java:402)\n	at java.beans.Introspector.getBeanInfo(Introspector.java:166)\n	at org.springframework.beans.CachedIntrospectionResults.<init>(CachedIntrospectionResults.java:220)\n	at java.security.AccessController.doPrivileged(Native Method)\n	at java.beans.Introspector.getPublicDeclaredMethods(Introspector.java:1278)\n	at java.beans.Introspector.getTargetMethodInfo(Introspector.java:1144)\n	at java.beans.Introspector.getBeanInfo(Introspector.java:402)\n	at java.beans.Introspector.getBeanInfo(Introspector.java:166)\n	at org.springframework.beans.CachedIntrospectionResults.<init>(CachedIntrospectionResults.java:220)\n	at org.springframework.beans.CachedIntrospectionResults.forClass(CachedIntrospectionResults.java:144)\n	at org.springframework.beans.BeanWrapperImpl.getCachedIntrospectionResults(BeanWrapperImpl.java:252)\n	at org.springframework.beans.BeanWrapperImpl.getPropertyDescriptors(BeanWrapperImpl.java:259)\n	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.unsatisfiedNonSimpleProperties(AbstractAutowireCapableBeanFactory.java:1109)\n	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireByType(AbstractAutowireCapableBeanFactory.java:1066)\n	at org.springframework.beans.CachedIntrospectionResults.forClass(CachedIntrospectionResults.java:144)\n	at org.springframework.beans.BeanWrapperImpl.getCachedIntrospectionResults(BeanWrapperImpl.java:252)\n	at org.springframework.beans.BeanWrapperImpl.getPropertyDescriptors(BeanWrapperImpl.java:259)\n	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.unsatisfiedNonSimpleProperties(AbstractAutowireCapableBeanFactory.java:1109)\n	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireByType(AbstractAutowireCapableBeanFactory.java:1066)\n	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:982)\n	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:472)\n	... 18 more\n	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:982)\n	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:472)\n	... 18 more\n- Plugin test.pre.plugin going from ENABLING to DISABLED\n- Application context refresh failed (NonValidatingOsgiBundleXmlApplicationContext(bundle=test.pre.plugin, config=osgibundle:/META-INF/spring/*.xml))\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'obj' defined in URL [bundle://10.0:0/META-INF/spring/atlassian-plugins-components.xml]: Initialization of bean failed; nested exception is java.lang.LinkageError: Class org/springframework/context/ConfigurableApplicationContext violates loader constraints\n	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:480)\n	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$1.run(AbstractAutowireCapableBeanFactory.java:409)\n	at java.security.AccessController.doPrivileged(Native Method)\n	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:380)\n	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:264)\n	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:261)\n	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:185)\n	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:164)\n	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:429)\n	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:728)\n	at org.springframework.osgi.context.support.AbstractDelegatedExecutionApplicationContext.access$1600(AbstractDelegatedExecutionApplicationContext.java:69)\n	at org.springframework.osgi.context.support.AbstractDelegatedExecutionApplicationContext$4.run(AbstractDelegatedExecutionApplicationContext.java:355)\n	at org.springframework.osgi.util.internal.PrivilegedUtils.executeWithCustomTCCL(PrivilegedUtils.java:85)\n	at org.springframework.osgi.context.support.AbstractDelegatedExecutionApplicationContext.completeRefresh(AbstractDelegatedExecutionApplicationContext.java:320)\n	at org.springframework.osgi.extender.internal.dependencies.startup.DependencyWaiterApplicationContextExecutor$CompleteRefreshTask.run(DependencyWaiterApplicationContextExecutor.java:132)\n	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:651)\n	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:676)\n	at java.lang.Thread.run(Thread.java:595)\nCaused by: java.lang.LinkageError: Class org/springframework/context/ConfigurableApplicationContext violates loader constraints\n	at java.lang.Class.getDeclaredMethods0(Native Method)\n	at java.lang.Class.privateGetDeclaredMethods(Class.java:2395)\n	at java.lang.Class.getDeclaredMethods(Class.java:1763)\n	at java.beans.Introspector$1.run(Introspector.java:1280)\n	at java.security.AccessController.doPrivileged(Native Method)\n	at java.beans.Introspector.getPublicDeclaredMethods(Introspector.java:1278)\n	at java.beans.Introspector.getTargetMethodInfo(Introspector.java:1144)\n	at java.beans.Introspector.getBeanInfo(Introspector.java:402)\n	at java.beans.Introspector.getBeanInfo(Introspector.java:166)\n	at org.springframework.beans.CachedIntrospectionResults.<init>(CachedIntrospectionResults.java:220)\n	at org.springframework.beans.CachedIntrospectionResults.forClass(CachedIntrospectionResults.java:144)\n	at org.springframework.beans.BeanWrapperImpl.getCachedIntrospectionResults(BeanWrapperImpl.java:252)\n	at org.springframework.beans.BeanWrapperImpl.getPropertyDescriptors(BeanWrapperImpl.java:259)\n	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.unsatisfiedNonSimpleProperties(AbstractAutowireCapableBeanFactory.java:1109)\n	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireByType(AbstractAutowireCapableBeanFactory.java:1066)\n	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:982)\n	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:472)\n	... 18 more\n\n{noformat}"
61d42332f4d395ee22001754,30439,21600,We need to be able to extend the context passed to the WebPanel at the time of rendering. The ContextProvider is accessible from the DefaultWebPanelModuleDescriptor but not added to the EmbeddedTemplateWebPanel and ResourceTemplateWebPanel. As both of these classes extend the AbstractWebPanel we should be able to store the ContextProvider in there.
61d42332f4d395ee22001755,30432,14400,see an example at http://confluence.atlassian.com/display/PLUGINFRAMEWORK/Plugin+Framework+2.5+Release+Notes\nbut do it at http://confluence.atlassian.com/display/PLUGINFRAMEWORK/Plugin+Framework+2.6+Release+Notes
61d42332f4d395ee22001756,30375,14400,A common pattern with plugins that provide services is to swap the classloader out for one that aggregates other classloaders.  The ChainingClassLoader from the REST plugin should be brought into the plugin system  for use by other plugins.
61d42332f4d395ee22001758,30372,7200,"Upgrade to felix 3.0.2 and change from using the main artifact to framework, as we aren't using main classes and framework has the proper sources."
61d42332f4d395ee2200175a,30304,14400,"If a plugin defines its own manifest, the plugin framework shouldn't rewrite it with bnd, as that is reserved for when a plugin has no OSGi manifest.  Any extra imports should still be added, however."
61d42332f4d395ee2200175b,30285,3600,Profiling has shown a significant portion of time in plugin startup is creating transformed zips.  We should not be trying to compress these zips to speed up startup and improve runtime performance.
61d42332f4d395ee2200175c,30230,43200,"In the case of an osgi plugin, it is possibly for a plugin to install unsuccessfully (due to unresolved import packages, for example) yet still be reported as a succesfully installed, yet disabled, plugin. It would be nice if this were handled differently.\n\nThe following stacktrace is reported in the logs, although the plugin is still installed.\nThis makes it difficult to detect missing import packages for plugins in UPM.\n\nStacktrace reported in the logs: \norg.apache.felix.framework.resolver.ResolveException: Unable to resolve 53.0: missing requirement [53.0] package; (package=com.atlassian.configurable)\n    at org.apache.felix.framework.resolver.ResolverImpl.populateCandidates(ResolverImpl.java:432)\n    at org.apache.felix.framework.resolver.ResolverImpl.resolve(ResolverImpl.java:78)\n    at org.apache.felix.framework.Felix$FelixResolver.resolve(Felix.java:4005)\n    at org.apache.felix.framework.Felix.resolveBundle(Felix.java:3414)\n    at org.apache.felix.framework.Felix.startBundle(Felix.java:1754)\n    at org.apache.felix.framework.BundleImpl.start(BundleImpl.java:905)\n    at org.apache.felix.framework.BundleImpl.start(BundleImpl.java:892)\n    at com.atlassian.plugin.osgi.factory.OsgiPlugin.enableInternal(OsgiPlugin.java:382)\n    at com.atlassian.plugin.impl.AbstractPlugin.enable(AbstractPlugin.java:237)\n    at com.atlassian.plugin.manager.PluginEnabler.enable(PluginEnabler.java:90)\n    at com.atlassian.plugin.manager.DefaultPluginManager.addPlugins(DefaultPluginManager.java:682)\n    at com.atlassian.plugin.manager.DefaultPluginManager.scanForNewPlugins(DefaultPluginManager.java:428)\n    at com.atlassian.plugin.manager.DefaultPluginManager.installPlugins(DefaultPluginManager.java:331)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at com.atlassian.plugin.osgi.hostcomponents.impl.DefaultComponentRegistrar$ContextClassLoaderSettingInvocationHandler.invoke(DefaultComponentRegistrar.java:129)\n    at $Proxy11.installPlugins(Unknown Source)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:307)\n    at org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:58)\n    at org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:62)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n    at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)\n    at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n    at org.springframework.osgi.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:56)\n    at org.springframework.osgi.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:39)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n    at org.springframework.osgi.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:59)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n    at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)\n    at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\n    at $Proxy155.installPlugins(Unknown Source)\n    at com.atlassian.upm.PluginAccessorAndControllerImpl$1.doInTransaction(PluginAccessorAndControllerImpl.java:73)\n    at com.atlassian.sal.core.transaction.HostContextTransactionTemplate$1.doInTransaction(HostContextTransactionTemplate.java:25)\n    at com.atlassian.refapp.sal.RefimplHostContextAccessor.doInTransaction(RefimplHostContextAccessor.java:11)\n    at com.atlassian.sal.core.transaction.HostContextTransactionTemplate.execute(HostContextTransactionTemplate.java:21)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:307)\n    at org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:58)\n    at org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:62)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n    at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)\n    at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n    at org.springframework.osgi.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:56)\n    at org.springframework.osgi.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:39)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n    at org.springframework.osgi.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:59)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n    at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)\n    at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\n    at $Proxy196.execute(Unknown Source)\n    at com.atlassian.upm.PluginAccessorAndControllerImpl.installPlugin(PluginAccessorAndControllerImpl.java:63)\n    at com.atlassian.upm.impl.PluginArtifactInstallHandler.installPlugin(PluginArtifactInstallHandler.java:30)\n    at com.atlassian.upm.PluginInstaller.execute(PluginInstaller.java:120)\n    at com.atlassian.upm.PluginInstaller.install(PluginInstaller.java:79)\n    at com.atlassian.upm.rest.resources.install.InstallFromUriTask.executeTask(InstallFromUriTask.java:58)\n    at com.atlassian.upm.rest.resources.install.InstallTask.call(InstallTask.java:29)\n    at com.atlassian.upm.rest.resources.install.InstallTask.call(InstallTask.java:14)\n    at com.atlassian.upm.rest.async.AsynchronousTaskManager$1.call(AsynchronousTaskManager.java:63)\n    at com.atlassian.upm.rest.async.AsynchronousTaskManager$1.call(AsynchronousTaskManager.java:57)\n    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:138)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:885)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907)\n    at java.lang.Thread.run(Thread.java:619)\n- Detected an error (BundleException) enabling the plugin 'com.pyxis.greenhopper.jira' : Unresolved constraint in bundle com.pyxis.greenhopper.jira [53]: Unable to resolve 53.0: missing requirement [53.0] package; (package=com.atlassian.configurable) - [53.0] package; (package=com.atlassian.configurable).  This error usually occurs when your plugin imports a package from another bundle with a specific version constraint and either the bundle providing that package doesn't meet those version constraints, or there is no bundle available that provides the specified package. For more details on how to fix this, see http://confluence.atlassian.com/x/1xy6D\n- Unable to enable plugin 'com.pyxis.greenhopper.jira'\ncom.atlassian.plugin.osgi.container.OsgiContainerException: Cannot start plugin: com.pyxis.greenhopper.jira\n    at com.atlassian.plugin.osgi.factory.OsgiPlugin.enableInternal(OsgiPlugin.java:410)\n    at com.atlassian.plugin.impl.AbstractPlugin.enable(AbstractPlugin.java:237)\n    at com.atlassian.plugin.manager.PluginEnabler.enable(PluginEnabler.java:90)\n    at com.atlassian.plugin.manager.DefaultPluginManager.addPlugins(DefaultPluginManager.java:682)\n    at com.atlassian.plugin.manager.DefaultPluginManager.scanForNewPlugins(DefaultPluginManager.java:428)\n    at com.atlassian.plugin.manager.DefaultPluginManager.installPlugins(DefaultPluginManager.java:331)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at com.atlassian.plugin.osgi.hostcomponents.impl.DefaultComponentRegistrar$ContextClassLoaderSettingInvocationHandler.invoke(DefaultComponentRegistrar.java:129)\n    at $Proxy11.installPlugins(Unknown Source)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:307)\n    at org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:58)\n    at org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:62)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n    at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)\n    at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n    at org.springframework.osgi.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:56)\n    at org.springframework.osgi.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:39)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n    at org.springframework.osgi.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:59)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n    at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)\n    at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\n    at $Proxy155.installPlugins(Unknown Source)\n    at com.atlassian.upm.PluginAccessorAndControllerImpl$1.doInTransaction(PluginAccessorAndControllerImpl.java:73)\n    at com.atlassian.sal.core.transaction.HostContextTransactionTemplate$1.doInTransaction(HostContextTransactionTemplate.java:25)\n    at com.atlassian.refapp.sal.RefimplHostContextAccessor.doInTransaction(RefimplHostContextAccessor.java:11)\n    at com.atlassian.sal.core.transaction.HostContextTransactionTemplate.execute(HostContextTransactionTemplate.java:21)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:307)\n    at org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:58)\n    at org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:62)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n    at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)\n    at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n    at org.springframework.osgi.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:56)\n    at org.springframework.osgi.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:39)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n    at org.springframework.osgi.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:59)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n    at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)\n    at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\n    at $Proxy196.execute(Unknown Source)\n    at com.atlassian.upm.PluginAccessorAndControllerImpl.installPlugin(PluginAccessorAndControllerImpl.java:63)\n    at com.atlassian.upm.impl.PluginArtifactInstallHandler.installPlugin(PluginArtifactInstallHandler.java:30)\n    at com.atlassian.upm.PluginInstaller.execute(PluginInstaller.java:120)\n    at com.atlassian.upm.PluginInstaller.install(PluginInstaller.java:79)\n    at com.atlassian.upm.rest.resources.install.InstallFromUriTask.executeTask(InstallFromUriTask.java:58)\n    at com.atlassian.upm.rest.resources.install.InstallTask.call(InstallTask.java:29)\n    at com.atlassian.upm.rest.resources.install.InstallTask.call(InstallTask.java:14)\n    at com.atlassian.upm.rest.async.AsynchronousTaskManager$1.call(AsynchronousTaskManager.java:63)\n    at com.atlassian.upm.rest.async.AsynchronousTaskManager$1.call(AsynchronousTaskManager.java:57)\n    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:138)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:885)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907)\n    at java.lang.Thread.run(Thread.java:619)\nCaused by: org.osgi.framework.BundleException: Unresolved constraint in bundle com.pyxis.greenhopper.jira [53]: Unable to resolve 53.0: missing requirement [53.0] package; (package=com.atlassian.configurable) - [53.0] package; (package=com.atlassian.configurable)\n    at org.apache.felix.framework.Felix.resolveBundle(Felix.java:3421)\n    at org.apache.felix.framework.Felix.startBundle(Felix.java:1754)\n    at org.apache.felix.framework.BundleImpl.start(BundleImpl.java:905)\n    at org.apache.felix.framework.BundleImpl.start(BundleImpl.java:892)\n    at com.atlassian.plugin.osgi.factory.OsgiPlugin.enableInternal(OsgiPlugin.java:382)\n    ... 71 more\n- Unable to enable plugin com.pyxis.greenhopper.jira\ncom.atlassian.plugin.osgi.container.OsgiContainerException: Cannot start plugin: com.pyxis.greenhopper.jira\n    at com.atlassian.plugin.osgi.factory.OsgiPlugin.enableInternal(OsgiPlugin.java:410)\n    at com.atlassian.plugin.impl.AbstractPlugin.enable(AbstractPlugin.java:237)\n    at com.atlassian.plugin.manager.PluginEnabler.enable(PluginEnabler.java:90)\n    at com.atlassian.plugin.manager.DefaultPluginManager.addPlugins(DefaultPluginManager.java:682)\n    at com.atlassian.plugin.manager.DefaultPluginManager.scanForNewPlugins(DefaultPluginManager.java:428)\n    at com.atlassian.plugin.manager.DefaultPluginManager.installPlugins(DefaultPluginManager.java:331)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at com.atlassian.plugin.osgi.hostcomponents.impl.DefaultComponentRegistrar$ContextClassLoaderSettingInvocationHandler.invoke(DefaultComponentRegistrar.java:129)\n    at $Proxy11.installPlugins(Unknown Source)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:307)\n    at org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:58)\n    at org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:62)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n    at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)\n    at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n    at org.springframework.osgi.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:56)\n    at org.springframework.osgi.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:39)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n    at org.springframework.osgi.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:59)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n    at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)\n    at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\n    at $Proxy155.installPlugins(Unknown Source)\n    at com.atlassian.upm.PluginAccessorAndControllerImpl$1.doInTransaction(PluginAccessorAndControllerImpl.java:73)\n    at com.atlassian.sal.core.transaction.HostContextTransactionTemplate$1.doInTransaction(HostContextTransactionTemplate.java:25)\n    at com.atlassian.refapp.sal.RefimplHostContextAccessor.doInTransaction(RefimplHostContextAccessor.java:11)\n    at com.atlassian.sal.core.transaction.HostContextTransactionTemplate.execute(HostContextTransactionTemplate.java:21)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:307)\n    at org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:58)\n    at org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:62)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n    at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)\n    at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n    at org.springframework.osgi.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:56)\n    at org.springframework.osgi.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:39)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n    at org.springframework.osgi.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:59)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n    at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)\n    at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\n    at $Proxy196.execute(Unknown Source)\n    at com.atlassian.upm.PluginAccessorAndControllerImpl.installPlugin(PluginAccessorAndControllerImpl.java:63)\n    at com.atlassian.upm.impl.PluginArtifactInstallHandler.installPlugin(PluginArtifactInstallHandler.java:30)\n    at com.atlassian.upm.PluginInstaller.execute(PluginInstaller.java:120)\n    at com.atlassian.upm.PluginInstaller.install(PluginInstaller.java:79)\n    at com.atlassian.upm.rest.resources.install.InstallFromUriTask.executeTask(InstallFromUriTask.java:58)\n    at com.atlassian.upm.rest.resources.install.InstallTask.call(InstallTask.java:29)\n    at com.atlassian.upm.rest.resources.install.InstallTask.call(InstallTask.java:14)\n    at com.atlassian.upm.rest.async.AsynchronousTaskManager$1.call(AsynchronousTaskManager.java:63)\n    at com.atlassian.upm.rest.async.AsynchronousTaskManager$1.call(AsynchronousTaskManager.java:57)\n    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:138)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:885)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907)\n    at java.lang.Thread.run(Thread.java:619)\nCaused by: org.osgi.framework.BundleException: Unresolved constraint in bundle com.pyxis.greenhopper.jira [53]: Unable to resolve 53.0: missing requirement [53.0] package; (package=com.atlassian.configurable) - [53.0] package; (package=com.atlassian.configurable)\n    at org.apache.felix.framework.Felix.resolveBundle(Felix.java:3421)\n    at org.apache.felix.framework.Felix.startBundle(Felix.java:1754)\n    at org.apache.felix.framework.BundleImpl.start(BundleImpl.java:905)\n    at org.apache.felix.framework.BundleImpl.start(BundleImpl.java:892)\n    at com.atlassian.plugin.osgi.factory.OsgiPlugin.enableInternal(OsgiPlugin.java:382)\n    ... 71 more"
61d42332f4d395ee2200175d,30114,3600,"Currently the transformation converts ""alias"" attribute in atlassian-plugin file to ""alias"" attribute in spring which doesn't exist in spring 2.5 schema. Component aliasing therefore effectively doesn't work.\n\n\n{code:title=ComponentSpringStage.java}\nfor (Element component : elements)\n            {\n...\n                Element bean = root.addElement(""beans:bean"");\n                bean.addAttribute(""id"", beanId);\n                bean.addAttribute(""alias"", component.attributeValue(""alias""));\n{code}"
61d42332f4d395ee2200175f,29750,21600,"To reproduce this problem do the following:\n# Create a plugin\n# Declare a component in this plugin\n# Expose this component via multiple interfaces\n# The component extends from a base class that implements one of these interfaces and this base class is not part of this plugin (imported from the osgi space), so the component itself doesn't have to implement it.\n\nWhen starting up the reference application spring complains about a ClassNotFoundException for the interfaces that are implemented by the base class.\nIf the component itself implements these interfaces again everything works as expected.\n\nExample:\nWe created RefAppInternalHostApplication that extends AbstractInternalHostApplication and AbstractInternalHostApplication lives in applinks-api, which is part of the host application and exported to OSGI. AbstractInternalHostApplication implements all required interfaces, thus RefAppInternalHostApplication doesn't implement any interfaces.\n\nExcerpt from atlassian-plugin.xml file:\n<component key=""refAppHostApplication"" class=""com.atlassian.applinks.core.refapp.RefAppInternalHostApplication""\n               public=""true"" application=""refapp"">\n    <description>Provides the Host Application for the Atlassian RefApp.</description>\n    <interface>com.atlassian.applinks.host.spi.InternalHostApplication</interface>\n    <interface>com.atlassian.applinks.host.spi.HostApplication</interface>\n    <interface>com.atlassian.sal.api.lifecycle.LifecycleAware</interface>\n</component>\n\nSpring will throw a ClassNotFoundException for com.atlassian.sal.api.lifecycle.LifecycleAware interface, because it's not imported. I have attached the manifest generated after the transformation stage. It does not contain the required import, compare to the manifest generated when it implements the interface or the base class AbstractInternalHostApplication lives inside applinks-plugin where RefAppInternalHostApplication lives.\n\n"
61d42332f4d395ee22001767,29349,14400,This is a blocker for EMBCWD-388. This is required because Spring's dependency on Velocity is not wired in OSGi land at JIRA start-up and we need to rip velocity out of ATR and bundle it separately. See ATR25 and BUNDLES-9.\n\nThere is a brief write up of the overall task by Matt Ryall [here | https://studio.atlassian.com/wiki/display/EMBCWD/Getting+UI+plugin+into+JIRA]
61d42332f4d395ee2200176d,28867,3600,There seems to be no javadoc published for the plugins library.  \n\nConfluence looks for it at:\n{noformat}\n                        <link>http://docs.atlassian.com/atlassian-plugins-core/${confluence.project.plugins.version}/atlassian-plugins-core/apidocs</link>\n                        <link>http://docs.atlassian.com/atlassian-plugins-servlet/${confluence.project.plugins.version}/atlassian-plugins-servlet/apidocs</link>\n                        <link>http://docs.atlassian.com/atlassian-plugins-webfragment/${confluence.project.plugins.version}/atlassian-plugins-webfragment/apidocs</link>\n                        <link>http://docs.atlassian.com/atlassian-plugins-webresource/${confluence.project.plugins.version}/atlassian-plugins-webresource/apidocs</link>\n                        <link>http://docs.atlassian.com/atlassian-plugins-osgi/${confluence.project.plugins.version}/atlassian-plugins-osgi/apidocs</link>\n                        <link>http://docs.atlassian.com/atlassian-plugins-spring/${confluence.project.plugins.version}/atlassian-plugins-spring/apidocs</link>\n{noformat}\n\nhttp://docs.atlassian.com/atlassian-plugins/2.5.2/project-info.html links to API docs at addresses such as\nhttp://docs.atlassian.com/atlassian-plugins-core/2.5.2/atlassian-plugins-core/index.html but that's a 404\n\nThe last published javadoc I can find for plugins is 2.4.0-beta3
61d42332f4d395ee22001770,28765,3600,"In the latest version of plugins, batching seems to get turned off for web-resources when atlassian.dev.mode is set to true.  This is generally great for developing, however it also causes problems for CSS style sheets with images resources with relative paths.  When batching is off the stylesheet can get served out with a different path to batched mode, so the relative path for an image may not work.\n\nI'm not quite sure what the fix here is.  Perhaps another flag to turn off the turning off of batched mode in dev.mode ?! Sounds very confusing. Perhaps figure out a better way to deal with relative paths for web-resources?"
61d42332f4d395ee22001779,28259,10800,"A servlet with the following url-patterns:\n\n{code:xml}\n    <servlet key=""myServlet"" class=""MyServlet"">\n        <url-pattern>/resource/*</url-pattern>\n        <url-pattern>/resource-two/*</url-pattern>\n    </servlet>\n{code}\n\nProperly finds the servlet when hitting the ""/resource-two/path/info"" path, the {{PluginHttpRequestWrapper}} fails to derive the proper basePath, causing {{getPathInfo()}} to return ""-two/path/info"" instead of ""/path/info"".\n\nThe bug appears to be caused by the usage of {{startsWith()}} on [https://studio.atlassian.com/source/browse/PLUG/trunk/atlassian-plugins-servlet/src/main/java/com/atlassian/plugin/servlet/PluginHttpRequestWrapper.java?r=61674#l81]"
61d42332f4d395ee2200177b,28292,14400,"The tests fail when run on an NFS mount such as your home dir on buildbox, fails because when a file is deleted on NFS it actually just renames it to {{.nfsXXXX}} which is removed when the process exits. The tests attempt to delete these files and commons-io FileUtils throws an exception when it cannot.\n\nWorkaround: Build from a non-NFS directory e.g. {{/tmp}}\n\n{code}\n\njava.io.IOException: Unable to delete file: /home/rthomas/releases/atlassian-plugins-sdk/branches/atlassian-plugins-2.5.x/atlassian-plugins-osgi/target/plugin-temp/plugins/.nfs0000000001d340f5000a6e39\n	at org.apache.commons.io.FileUtils.forceDelete(FileUtils.java:1390)\n	at org.apache.commons.io.FileUtils.cleanDirectory(FileUtils.java:1044)\n	at org.apache.commons.io.FileUtils.deleteDirectory(FileUtils.java:977)\n	at org.apache.commons.io.FileUtils.forceDelete(FileUtils.java:1381)\n	at org.apache.commons.io.FileUtils.cleanDirectory(FileUtils.java:1044)\n	at com.atlassian.plugin.osgi.PluginInContainerTestBase.setUp(PluginInContainerTestBase.java:70)\n	at junit.framework.TestCase.runBare(TestCase.java:125)\n	at junit.framework.TestResult$1.protect(TestResult.java:106)\n	at junit.framework.TestResult.runProtected(TestResult.java:124)\n	at junit.framework.TestResult.run(TestResult.java:109)\n	at junit.framework.TestCase.run(TestCase.java:118)\n	at junit.framework.TestSuite.runTest(TestSuite.java:208)\n	at junit.framework.TestSuite.run(TestSuite.java:203)\n	at sun.reflect.GeneratedMethodAccessor7.invoke(Unknown Source)\n	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n	at java.lang.reflect.Method.invoke(Method.java:597)\n	at org.apache.maven.surefire.junit.JUnitTestSet.execute(JUnitTestSet.java:213)\n	at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.executeTestSet(AbstractDirectoryTestSuite.java:140)\n	at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.execute(AbstractDirectoryTestSuite.java:127)\n	at org.apache.maven.surefire.Surefire.run(Surefire.java:177)\n	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n	at java.lang.reflect.Method.invoke(Method.java:597)\n	at org.apache.maven.surefire.booter.SurefireBooter.runSuitesInProcess(SurefireBooter.java:345)\n	at org.apache.maven.surefire.booter.SurefireBooter.main(SurefireBooter.java:1009)\n\n{code}"
61d42332f4d395ee220017b2,26094,14400,"Atlassian has announced EOL times for WLS support:\nhttp://confluence.atlassian.com/display/JIRA/End+of+Support+Announcements+for+JIRA\nhttp://confluence.atlassian.com/display/DOC/End+of+Support+Announcements+for+Confluence\n\nAfter confirming which version of Plugins will no longer require WLS support, we should revert out any changes that were made especially for this that we don't want to keep.\n\nIn particular PLUG-515 is a bit hacky.\nPLUG-460 can also be revisited."
61d42332f4d395ee220017d3,25279,21600,Confluence has a nice feature called [Web Resource Contexts|http://confluence.atlassian.com/display/CONFDEV/Web+Resource+Module#WebResourceModule-WebResourceContexts] that allows a plugin to inject Javascript into a context composed of multiple pages.  We should migrate this into the plugin system for use by other products.
61d42332f4d395ee220017d7,25187,64800,"Any classes defined in a module descriptor will not be available as a bean and therefore, not injectable.  We need a way to allow arbitrary module descriptors to contribute beans to the spring container.  This means it isn't possible for a module to be injected with another module or have the module's scope managed by Spring. \n\nThis is desired by applinks that would like to have applicationtypes injected into applicationentitytypes."
61d42332f4d395ee220017d8,25173,7200,"On startup, when using Tomcat, it logs a ton of messages like:\n\n{noformat}Package Scanner found duplicates for package 'org.apache.catalina.loader' with different versions. Files: tomcat-i18n-en.jar and bootstrap.jar{noformat}\n\nThis adds a lot of noise to the logs at WARN level, may alarm people who don't understand what it means, and obscures legitimate conflicts (e.g., see [http://forums.atlassian.com/thread.jspa?messageID=257329940]). Can the package scanner be configured to ignore these packages or JAR files?\n"
61d42332f4d395ee220017d9,25109,21600,"When there is an empty package name, Confluence plugin repository client never finishes and only displays Please Wait...\n\nThe log file contains the following Felix error:\n{noformat}\nCaused by: javax.servlet.ServletException: java.lang.NullPointerException\n	at uk.ltd.getaheadplugin.dwr.DWRServlet.getContainer(DWRServlet.java:84)\n	at uk.ltd.getaheadplugin.dwr.AbstractDWRServlet.init(AbstractDWRServlet.java:94)\n	at com.atlassian.plugin.servlet.DelegatingPluginServlet.init(DelegatingPluginServlet.java:56)\n	at com.atlassian.plugin.servlet.DefaultServletModuleManager$LazyLoadedServletReference.create(DefaultServletModuleManager.java:391)\n	at com.atlassian.plugin.servlet.DefaultServletModuleManager$LazyLoadedServletReference.create(DefaultServletModuleManager.java:376)\n	at com.atlassian.plugin.servlet.util.LazyLoadedReference$1.call(LazyLoadedReference.java:62)\n	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\n	at java.util.concurrent.FutureTask.run(FutureTask.java:138)\n	at com.atlassian.plugin.servlet.util.LazyLoadedReference.get(LazyLoadedReference.java:74)\n	... 112 more\nCaused by: java.lang.NullPointerException\n	at org.apache.felix.framework.FelixResolverState.getResolvedCandidates(FelixResolverState.java:649)\n	at org.apache.felix.framework.Felix$FelixResolver.getResolvedCandidates(Felix.java:3977)\n	at org.apache.felix.framework.ModuleImpl.diagnoseClassLoadError(ModuleImpl.java:2163)\n	at org.apache.felix.framework.ModuleImpl.access$400(ModuleImpl.java:60)\n	at org.apache.felix.framework.ModuleImpl$ModuleClassLoader.loadClass(ModuleImpl.java:1663)\n	at java.lang.ClassLoader.loadClass(ClassLoader.java:252)\n	at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:320)\n	at java.lang.Class.forName0(Native Method)\n	at java.lang.Class.forName(Class.java:169)\n	at uk.ltd.getaheadplugin.dwr.impl.DefaultContainer.addParameter(DefaultContainer.java:66)\n	at uk.ltd.getaheadplugin.dwr.DWRServlet.getContainer(DWRServlet.java:60)\n	... 120 more\n{noformat}\n\nThis behaviour has been reported as a bug in http://issues.apache.org/jira/browse/FELIX-1867 and supposedly the fix is version 2.2.0. We should upgrade Felix to that version however there is no binary available and it seems that the source code is of version 2.1.0-SNAPSHOT.\n\n"
61d42332f4d395ee220017da,25098,3600,As an enhancement it would be useful to have an utility class that acts as a proxy for an object and ensures the context classloader gets set to the classloader of this class before each method call.\n
61d42332f4d395ee220017e0,24706,14400,"Jira4 often freezes during the functional tests. Threaddumps shows that it is infinitely stuck on bundle resolving.\n\nIt seems to be same problem as described in PLUG-439. We are running Jira with org.apache.felix.main-1.8.1-atlassian-3.jar and atlassian-plugins-*-2.4.2.jar\n\nAttached is a log file with 5 threaddumps. Here is a stacktrace of the thread that takes all the CPU: \n\n{code}\n""http-2990-Processor1"" daemon prio=10 tid=0x9048b800 nid=0x52eb runnable [0x90fcc000..0x90fceeb0]\n   java.lang.Thread.State: RUNNABLE\n	at java.util.AbstractCollection.containsAll(AbstractCollection.java:276)\n	at org.apache.felix.framework.searchpolicy.ResolvedPackage.isSubset(ResolvedPackage.java:55)\n	at org.apache.felix.framework.searchpolicy.Resolver.isClassSpaceConsistent(Resolver.java:775)\n	at org.apache.felix.framework.searchpolicy.Resolver.isClassSpaceConsistent(Resolver.java:720)\n	at org.apache.felix.framework.searchpolicy.Resolver.isClassSpaceConsistent(Resolver.java:720)\n	at org.apache.felix.framework.searchpolicy.Resolver.isClassSpaceConsistent(Resolver.java:720)\n	at org.apache.felix.framework.searchpolicy.Resolver.isClassSpaceConsistent(Resolver.java:720)\n	at org.apache.felix.framework.searchpolicy.Resolver.isClassSpaceConsistent(Resolver.java:720)\n	at org.apache.felix.framework.searchpolicy.Resolver.findConsistentClassSpace(Resolver.java:462)\n	at org.apache.felix.framework.searchpolicy.Resolver.resolve(Resolver.java:94)\n	at org.apache.felix.framework.Felix$FelixResolver.resolve(Felix.java:3733)\n	at org.apache.felix.framework.Felix.resolveBundle(Felix.java:3105)\n	at org.apache.felix.framework.Felix.startBundle(Felix.java:1441)\n	at org.apache.felix.framework.BundleImpl.start(BundleImpl.java:779)\n	at org.apache.felix.framework.BundleImpl.start(BundleImpl.java:760)\n	at com.atlassian.plugin.osgi.factory.OsgiPlugin.enableInternal(OsgiPlugin.java:363)\n	- locked <0xdb6aea18> (a com.atlassian.plugin.osgi.factory.OsgiPlugin)\n	at com.atlassian.plugin.impl.AbstractPlugin.enable(AbstractPlugin.java:237)\n	at com.atlassian.plugin.impl.AbstractDelegatingPlugin.enable(AbstractDelegatingPlugin.java:213)\n\n{code}\n"
61d42332f4d395ee220017e2,24646,43200,"I think that plugins should boot delegate com.sun.org.apache.xerces*. The com.sun* packages can't really be specified in Import-Package declarations because the classes may not be provided (e.g. on the IBM vm). \n\nHowever, I'm running into an issue in a plugin where SAXParserFactory is trying to load the shaded SAXParserFactoryImpl and it can't find it. Attempts to add xercesImpl as a dependency in my plugin did not work... the only thing that did work was to add the shaded SAXParserFactoryImpl package to the bootdelegation configuration.\n\nSee https://extranet.atlassian.com/display/~cjerozal/Gapps+mail+retreival+stuff for some of the gory details."
61d42332f4d395ee220017e9,24347,43200,"During plugin transformation, we should flatten the jar to improve class loading performance at runtime.  This means unzipping all the deps in META-INF/lib and including the classes in the main jar directly."
61d42332f4d395ee220017f9,23896,14400,See AG-1159 for discussion of why this is needed
61d42332f4d395ee22001805,23532,14400,"{noformat}\n2009-10-13 14:23:09,656 [ACTIVE] ExecuteThread: '0' for queue: 'weblogic.kernel.Default (self-tuning)' WARN     [plugin.osgi.factory.OsgiPlugin] Unable to enable plugin 'com.atlassian.gadgets.renderer'\ncom.atlassian.plugin.osgi.container.OsgiContainerException: Cannot start plugin: com.atlassian.gadgets.renderer\n	at com.atlassian.plugin.osgi.factory.OsgiPlugin.enableInternal(OsgiPlugin.java:385)\n        ...\nCaused by: org.osgi.framework.BundleException: Unresolved constraint in bundle 28: package; (&(package=org.apache.xml.serialize)(version>=2.9.1)(!(version>=3.0.0)))\n{noformat}\n\nThis message could be more user-friendly.\nAlso it would be useful for support if we gave more details when this occurs.\neg What versions of {{org.apache.xml.serialize}} are actually available.\nBetter again, where are the jars that those versions come from. (Better only under debug log level?)"
61d42332f4d395ee2200181a,22975,3600,"If a plugin has a constructor that does a lot of work we'll eventually hit a timeout and disable the plugin. Once the plugin finishes that work, however, it will attempt to enable itself and will sort of kind of partly succeed.\n\nAfter conversing with Don he said something like\n{quote}\nI should make SomeClass use an AtomicVariable and only allow the plugin to enable if it is in the Enabling state to prevent this.\n{quote}"
61d42332f4d395ee2200181e,22946,7200,"When batching is disabled, the resource path looks to be constructed incorrectly:\n\n2009-09-09 10:46:58,487 INFO : Could not locate resource: /dashboards/download/resources/resources/com.atlassian.gadgets.dashboard:dashboard/images/icons/add_20.png\n\nNote the extra ""resources"" in the path.\n\nTo repro in AG, run mvn -Pdebug -Dbatching.disabled=true"
61d42332f4d395ee22001844,21858,21600,"I've occasionally run into a problem with Atlassian Gadgets where the sample-gadgets plugin appears to start up successfully, then later in the startup process mysteriously unloads. I'll attach the full logs, but here's a couple of relevant snippets.\n\n{noformat}\n- Started bundle com.atlassian.gadgets.samples (30)\n- Loading XML bean definitions from URL [bundle://30.0:0/META-INF/spring/atlassian-plugins-component-imports.xml]\n- Bean factory for application context [org.springframework.osgi.context.support.OsgiBundleXmlApplicationContext@5ff3aa]: org.springframework.beans.factory.support.DefaultListableBeanFactory@f99d54\n- META-INF/services/org.apache.xerces.xni.parser.XMLParserConfiguration\n- META-INF/services/org.apache.xerces.xni.parser.XMLParserConfiguration\n- Adding OSGi service dependency for importer [&pluginSettingsFactory] matching OSGi filter [(objectClass=com.atlassian.sal.api.pluginsettings.PluginSettingsFactory)]\n- OsgiBundleXmlApplicationContext(bundle=com.atlassian.oauth.consumer.sal, config=osgibundle:/META-INF/spring/*.xml) is waiting for unsatisfied dependencies [[&pluginSettingsFactory]]\n- Waiting for service '&pluginSettingsFactory' for plugin 'com.atlassian.oauth.consumer.sal' with filter (objectClass=com.atlassian.sal.api.pluginsettings.PluginSettingsFactory)\n- Turned plugin module com.atlassian.gadgets.samples:rtm into module com.atlassian.gadgets.samples:rtm (null)\n- Turned plugin module com.atlassian.gadgets.samples:treefrog into module com.atlassian.gadgets.samples:treefrog (null)\n{noformat}\n\netc.\n\nthen, later...\n\n{noformat}\n- Plugins that have yet to enabled: [com.atlassian.gadgets.samples], 56 seconds remaining\n- Plugins that have yet to enabled: [com.atlassian.gadgets.samples], 55 seconds remaining\n- Plugins that have yet to enabled: [com.atlassian.gadgets.samples], 54 seconds remaining\n- Plugins that have yet to enabled: [com.atlassian.gadgets.samples], 53 seconds remaining\n- Removed plugin module com.atlassian.gadgets.samples:rtm as its factory was uninstalled\n- Removed plugin module com.atlassian.gadgets.samples:treefrog as its factory was uninstalled\n{noformat}\n\netc.\n\nThis happens inconsistently, unreproducibly, making it all the more frustrating. It smells like a race condition to me. I know this isn't really enough information to solve the issue, but I wanted to open an issue where I can hang more information when I find it."
61d42332f4d395ee22001860,20556,14400,e.g [UnrecognisedModuleDescriptorFallbackFactory] Unknown module descriptor of type gadget registered as a unrecognised descriptor.
61d42332f4d395ee2200189a,19448,21600,"PluginsClassLoader keeps caches that need to be adjusted when plugins are enabled or disabled.\n\n *{{notifyUninstallPlugin(final Plugin plugin)}}* should be called not just on uninstall, but also on disable I think.\nAlso, it could take the pluginKey instead of the plugin.\n\n *{{notifyPluginOrModuleEnabled()}}* seems to be misleading. PluginsClassLoader doesn't care about individual modules, only plugins.\n\nThis task involves reviewing everywhere in the plugin framework were a module or plugin can be enabled or disabled, and ensuring the proper events are fired.\n\n\n"
61d42332f4d395ee220018bc,18933,18000,"Gadgets can have multiple Content sections. Content sections are basically different HTML pages inside a gadget that are displayed in different contexts; one section may have HTML for a login/forgot password screen while another has the main gadget display. The different sections will sometimes require different sets of javascript/css. Currently, WebResourceManager always includes all resources it is asked to require, so a sequence like:\n\n<Content type=""login"">\n<!-- webResourceManager.requireResource(atlassian.util:login.js) -->\n<!-- HTML -->\n<!-- webResourceManager.includeResources() --> \n</Content>\n<Content type=""main"">\n<!-- webResourceManager.requireResource(atlassian:jquery.js) -->\n<!-- HTML -->\n<!-- webResourceManager.includeResources() --> \n</Content>\n\nis not possible; the second call to includeResources() will output not only jquery.js but also login.js.\n\nMaybe the solution is having includeResources() ""forget"" all previously required resources, or maybe some other API change is in order."
61d42332f4d395ee220018c2,18852,1800,Blocker because no releases work when the scm is wrong.\n\nthis:\n{code}\n    <scm>\n        <connection>scm:svn:https://svn.atlassian.com/svn/private/atlassian/plugins/branches/atlassian-plugins-2.0.x</connection>\n        <developerConnection>scm:svn:https://svn.atlassian.com/svn/private/atlassian/plugins/branches/atlassian-plugins-2.0.x</developerConnection>\n        <url>https://svn.atlassian.com/svn/private/atlassian/plugins/branches/atlassian-plugins-2.0.x</url>\n    </scm>\n{code}\n\nshould look like this:\n{code}\n    <scm>\n        <connection>scm:svn:https://studio.atlassian.com/svn/PLUG/tags/atlassian-plugins-parent-2.0.6</connection>\n        <developerConnection>scm:svn:https://studio.atlassian.com/svn/PLUG/tags/atlassian-plugins-parent-2.0.6</developerConnection>\n        <url>https://studio.atlassian.com/svn/PLUG/tags/atlassian-plugins-parent-2.0.6</url>\n    </scm>\n{code}
61d42332f4d395ee220018f4,17982,7200,"The PluginEnabledEvent is only fired when PluginController.enablePlugin() is called, that is, it will only be fired when an existing loaded but disabled plugin is enabled.  It should also be fired when new plugins are loaded, or existing plugins are loaded on startup."
61d42332f4d395ee22001935,17644,3600,"When an OSGi plugin is disabled then enabled, the spring beanfactory reference is not cleared, resulting in exceptions being thrown on every createbean called thereafter."
61d42332f4d395ee22001940,17511,7200,DefaultPackageScannerConfiguration class has some default values for inclusions/exclusions. Need to review and document the default behavior. 
61d42332f4d395ee22001949,17685,28800,We should move the REST plugin type that was developed for JIRA into the plugins framework.
61d42332f4d395ee2200194a,17676,28800,"While the automatic OSGi manifest generation mostly gets it right, sometimes you need to customise it for certain optional or required packages.  Since we use BND internally, we should allow plugins to specify overriding BND instructions in the atlassian-plugin.xml  The most appropriate place seems to be the plugin-info element."
61d42332f4d395ee22001951,17658,28800,"We should allow bnd instructions in the plugin-info element so that plugins can easily customize how bnd will generate their manifests.  The primary use case is so that plugins can declare certain packages as optional, which is important when including third-party libraries."
61d42332f4d395ee22001959,17650,3600,"The code currently depends on a fork of BND, which makes available the class references during scanning.  We should get rid of this fork, as it only lives on my machine at home, by copying the affected class into our codebase until the patch is accepted by the bnd project."
61d42332f4d395ee2200195c,17630,7200,"It should be possible for a host component to customise the strategy used to manage the context class loader for host component method invocations.  The default should remain  as the host application's ccl, but some host services may want to perform operations on behalf of a plugin and therefore, want it to be set as the ccl."
61d42332f4d395ee2200195d,17629,14400,"Since JIRA won't be migrating to Atlassian Plugins before JIRA 4.0, which is scheduled to target Java 5, we should change Atlassian Plugins to require Java 5 as that project is the last holdout.  Since the Java 5 changes do affect the public API, it is important to get those done before 2.0 final."
61d42332f4d395ee2200195e,17627,3600,"There is really no need to depend on Seraph for the PathMapper class, so we should copy it into the module."
61d42332f4d395ee2200195f,17628,57600,"We need a servlet filter plugin type in order to start building UI plugins, as the servlet plugin type requires the /plugins/servlet prefix, which is too limiting."
61d42332f4d395ee22001965,17608,28800,"The plugin system should support multiple plugin artifact types natively.  For example, osgi-based version 2 plugins should be yet another type of plugin that can be loaded by the system.  The other pressing need is to support XML-only plugin artifacts to better enable sharing of light-weight plugins like user macros.\n\nThe design would involve splitting the two main functions of plugin loading into loaders and deployers.  Loaders are responsible for locating plugin artifacts to deploy, while deployers are responsible for turning that artifact into an initialized plugin instance.  Therefore, the ClassLoadingPluginLoader can now be renamed to the DirectoryPluginLoader, because that is what it does - scan a directory and find plugin artifacts.  Deployment of version 1 plugins will be one deployer, OSGi-based plugins another, and the soon to be XML plugin will be third.\n\nThis change also will involve renaming key interfaces like PluginJar into more generic ones like PluginArtifact.  This change will result in backwards-incompatible changes to the PluginController and PluginInstaller interfaces."
61d42332f4d395ee22001969,17587,14400,"When plugins are loaded, we need to calculate the package imports necessary for accessing all host component interfaces and automatically add them to the OSGi manifest, whether an existing manifests can be found or not."
61d42332f4d395ee2200196b,17667,3600,"A number of deployment and upgrading issues would be resolved if we changed atlassian-plugins-core to the same artifact id, then created a module called atlassian-plugins, which contains the contents of the old atlassian-plugins: atlassian-plugins-core, atlassian-plugins-servlet, atlassian-plugins-webresource, and atlassian-plugins-webfragment."
61d42332f4d395ee2200196d,17668,14400,"We need a small event system in the plugins framework to handle plugin-related events.  The first use-case of this feature is a way plugins can be notified when all the plugins are loaded and the framework initialized.    Going forward, it will be necessary to have all major plugin manager operations fire related events to decouple the plugin framework from the application and better support the dynamics of reloadable plugins.\n\nAt this point, this event system is scoped to only handle events related to the plugins framework, and isn't meant to a) replace existing event systems in applications and b) be a general-purpose event system for inter-plugin communication."
61d42332f4d395ee2200196e,17669,7200,"When host components are executed, the context class loader should be set to the classloader that created the component."
61d42332f4d395ee2200196f,17666,3600,The host components spring xml that gets added to plugins should have the flag set that ensures the correct context classloader behavior.
61d42332f4d395ee22001970,17585,14400,"We should have a host component provider that takes advantage of Spring's extensible XML to allow apps to simply define an attribute, plugin:available=""true"", on their bean XML defs to expose them to plugins."
61d42332f4d395ee22001974,17572,14400,"There should be a bundled plugins loader for osgi plugins.  This will involve non-backwards-compatible changes to the osgi loader, as it is currently only meant for a single instance.  This also involves taking the code from Confluence to manage bundled plugins and bringing it in the plugins project for all projects to share."
61d42332f4d395ee22001975,17570,14400,The framework bundles should be embedded in the osgi jar to simplify the integration for applications.
61d42332f4d395ee22001985,17520,7200,"Because the resources field in AbstractPlugin is injected via a setter, there's the potential for it to be null. However, none of the methods which invoke methods on this field (getResourceDescriptors() and friends) handle null correctly. There is the potential for NullPointerExceptions here, like in CONF-7638.\n\nI'd suggest three changes to fix this properly:\n\n- add a new static final field, Resources.EMPTY_RESOURCES = new Resources(Collections.EMPTY_LIST)\n- the AbstractPlugin class (or StaticPlugin in old versions) should use EMPTY_RESOURCES as the default value for the resources field, and the setter should not replace it if passed null.\n- the Resources.fromXml() method should check for the existence of its XML element and return EMPTY_RESOURCES if there are no resources in the plugin.\n\n"
61d42332f4d395ee22001986,17670,7200,"We have a JIRA <web-item> with some <condition> tags. In the logs I'm seeing some failures:\n\n{noformat}\n2008-05-13 10:33:16.290507500 2008-05-13 10:33:16,290 TP-Processor1 ERROR [atlassian.plugin.web.DefaultWebInterfaceManager] Could not evaluate condition for descriptor: com.atlassian.jira.plugin.webfragment.descriptors.JiraWebSectionModuleDescriptor@ad25d0, with throwable: java.lang.IllegalArgumentException: User passed to this function cannot be null\n2008-05-13 10:33:16.423831500 2008-05-13 10:33:16,423 TP-Processor1 ERROR [atlassian.plugin.web.DefaultWebInterfaceManager] Could not evaluate condition for descriptor: com.atlassian.jira.plugin.webfragment.descriptors.JiraWebItemModuleDescriptor@1dd6a67, with throwable: java.lang.IllegalArgumentException: User passed to this function cannot be null\n{noformat}\n\nThese come from com/atlassian/plugin/web/DefaultWebInterfaceManager.java:\n\n{code}\n            WebFragmentModuleDescriptor descriptor = (WebFragmentModuleDescriptor) iterator.next();\n            try\n            {\n                if (descriptor.getCondition() != null && !descriptor.getCondition().shouldDisplay(context))\n                {\n                    iterator.remove();\n                }\n            }\n            catch (Throwable t)\n            {\n                log.error(""Could not evaluate condition for descriptor: "" + descriptor + "", with throwable: "" + t);\n                iterator.remove();\n            }\n{code}\n\nCould we please:\n - implement {{toString()}} on DefaultAbstractWebFragmentModuleDescriptor so it prints the key or something to aid identification.\n - say _what_ condition was being evaluated when the error occurred, and perhaps even include the context information if it's useful.\n - pass the Throwable as a second argument to log.error(), so we can see the full stacktrace. If something is an error then it deserves a full stacktrace.\n\nThanks!"
61d42332f4d395ee22001988,17642,14400,"PLUG-43 added the ability to specify ""ieonly"" for a web resource, but conditional comments actually have a [full expression language|http://msdn2.microsoft.com/en-us/library/ms537512(VS.85).aspx]. It would be helpful to support a more generic ""cond"" parameter on web resources to allow for specifying an arbitrary expression."
61d42332f4d395ee22001992,17620,19800,description
61d42332f4d395ee220019b2,17541,14400,"http://confluence.atlassian.com/display/DISC/Confluence+Patch+-+State+Aware+Plugins\n\nThe above page describes some shortcoming in the plugin systems which this patch addresses:\n\n* A strict order for loading / unloading plugin module's (as defined in the atlassian-plugin.xml file, in reverse on unload)\n* Turning all modules StateAware and having them trigger their module object's StateAware interface (if they have one)\n* Adding a class to the plugin information which can also be triggered if it implements StateAware \n\nFurther details can be found on the confluence page."
61d42332f4d395ee22001ac5,64161,14400,"Add support for deleting attachements in a Jira task.\n\nThis may be useful if you want to delete old task contexts or other unused, invalid attachements directly in Eclipse."
61d42332f4d395ee22001af1,64146,14400,Change version to 3.0.0
61d42332f4d395ee22001af2,63815,64800,Currently we use GET login so username and password can be found in server logs. Switch to the post if possible.
61d42332f4d395ee22001af4,64144,43200,Do not allow to rerun failed tests. \nShow only tests and allow to open the file and test in the editor.\n\nAllow to view failed tests and stack traces.\n\nClick a link in a stack trace to go directly to the code that failed.
61d42332f4d395ee22001afa,63968,21600,If I want to reduce estimate and put a value that's greater than the estimate there's an error. But I don't have any clue that I used a value out of range.\n\nIt's would be great to either change error message or show the estimate next to reduce estimate option.
61d42332f4d395ee22001afc,63616,14400,After everything is copied and configured for hg tag fully blown version in hg for future reference\n\nAlso create tags for recent ACE releases (1.0.0 up to 2.3.0)
61d42332f4d395ee22001aff,63805,21600,The idea is to get rid of mappings if it's possible.\n\nCheck if using current FishEye features like search or REST API it is possible to create a list of possible matches for a local resource.\n\nIf it's possible decide if it's also fast enough.\n\nTime box: 1day
61d42332f4d395ee22001b02,63970,21600,It happens few times but unfortunately is not reproducible all the time. Probably some additional conditions must happen.\n\nWhat I did is:\n- have TaskRepository \n- provide credentials with administration rights\n- test 'getConfiguration' soap call (works fine)\n- change credentials (without admin rights this time)\n- test 'getConfiguration' soap call once again (works fine while it should not)\n- test it several times back and forth (problem still existed - I was able to read JIRA configuration).\n\nProblem disappeared after Eclipse restart. Looks like some condition made the Connector not to refresh repo info.
61d42332f4d395ee22001b1a,63794,10800,"In Jira when I make a work log I have the possibility to use the field ""Set estimated time remaining to"". But in the Mylyn Jira-Connector this isn't available.\nIt would be great if I could set this field in the Mylyn task editor too."
61d42332f4d395ee22001b43,62995,50400,support all 4 options (available in JIRA web UI) - now only 2 are supported
61d42332f4d395ee22001b83,63273,7200,"When I want to attach a task context with a comment, which is including some Umlaute chars then somehow the Jira connector doesn't handle this Umlaute correctly. The Umlaute chars appears then as ""?""(question marks) and not for example ""ä, ö, ü, etc."".\n\nWhen I add normal comments through the rich-text editor of Mylyn in Eclipse for the task, the Umlaute are handled correctly. The problem is only with the appearing dialog when you attach a task context to the task and if you enter in this dialog a comment with Umlaute chars.\nSee attached Screenshots for detailed view of the Attach context dialog.\n\nDo I have to set a special encoding configuration for this?"
61d42332f4d395ee22001d0c,62790,43200,"painful for all close-ended fields (single and multi-selection,)"
61d42332f4d395ee22001dd0,63409,21600,Hi there - We are running Eclipse 3.4 and the software updater will not work for us.  We do make use of drop-ins.  Would it be possible for you to produce an IDE Connector drop-in?  \n\nThanks!
61d42332f4d395ee22001ddf,63761,86400,especially those resulting from adding API nature to the projects
61d42332f4d395ee22001de6,62972,3600,224911: [api] provide method for getting new task wizard\nhttps://bugs.eclipse.org/bugs/show_bug.cgi?id=224911\n...needs to be done to enable fixing this
61d42332f4d395ee22001de7,62979,300,RepositoryConfigurationAction can use org.eclipse.mylyn.tasks.ui.command.AddTaskRepository as command contribution to open the newRepositoryWizard instead of invoking mylyn internals
61d42332f4d395ee22001de9,63912,3600,"CrucibleSummarizeReviewDialog as well as CrucibleReviewChangedJob use\n\nTasksUiPlugin.getTaskJobFactory().createSynchronizeRepositoriesJob(\n						Collections.singleton(taskRepository)).schedule();\n						\nto invoke tasklist sync, but it might be sufficient to use\n\nsynchronizeJob = TasksUiPlugin.getTaskJobFactory().createSynchronizeTasksJob(\n					CrucibleCorePlugin.getRepositoryConnector(), tasks);\n					\nas ActiveReviewManager does."
61d42332f4d395ee22001df0,63557,14400,"the commons plugin com.atlassian.connector.eclipse.ui depends on org.eclipse.team.ui/core, because it also contains team-related handling for the crucible plugin.\nThis means that Bamboo depends on org.eclipse.team. If there is a driver for shipping Bamboo in an environment without org.eclipse.team, we need to split out the com.atlassian.connector.eclipse.ui (get the .team package out into a new plugin)\n\n\n{original description:\nas far as I understand the structure of the projects in Eclipse Connector we should not have in non-Crucible-specific projects Crucible dependencies.\nThis project depend on commons and explicitly on Crucible (e.g. CrucibleFile class uses stuff specific for Crucible).\nUltimately we want to have ACC bundled into independent part for each Atlassian product separately.\n\ncom.atlassian.connector.eclipse.ui.team should IMO have thus no dependencies on commons at all (just to be a general purpose utility project) and Atlassian server-specific stuff should either go to com.atlassian.eclipse.<product>.core/ui project or we should create a separate projects for them\n}"
61d42332f4d395ee22001df1,63913,172800,"currently there is a lot of duplication between classes there (especially when I added Edit comment action).\nAlso the inheritance rules and interfaces are not clear.\n \nthere is quite convoluted way of executing actions (run() in a child, which calls run() in parent which calls run(IAction) in the parent)...\nThese classes are quite difficult to understand and look fragile (setters, getters, a lot of conditions).\n\nI feel it could be seriously simplified"
61d42332f4d395ee22001df2,63294,14400,shared projects settings include:\n* .settings\n* .checkstyle\n* about.html
61d42332f4d395ee22001df3,63911,14400,Please create an according ACC story for that and link it.\n\nWorkload for PLE is very small for this story if ACC has the constants.
61d42332f4d395ee22001df4,63460,7200,it seems a common AbstractHttpSessionCallback really makes sense here. But because of the Bamboo/CrucibleServerCfg it seems we need to separate concrete implementations.
61d42332f4d395ee22001df6,63446,7200,According to what I've learnt these classes exist only because corresponding classes in Commons are not Serializable.\nBambooCachedPlan additionally has a lot of methods which are never used.\n\nI am for just making corresponding classes in ACC serializable instead of duplicating code
61d42332f4d395ee22001df7,63027,7200,"I think there should be only one RepositoryClientManger (now we have 2 com.atlassian.connector.eclipse.internal.bamboo.core.RepositoryClientManager<T, C> and com.atlassian.connector.eclipse.internal.crucible.core.RepositoryClientManager<T, C> and I am about to add the third one for FishEye and I feel bad).\nCrucible, Bamboo and FishEye repository client managers should inherit from it instead of duplicate almost 200 lines of code each.\n\nIdeally we could think about using Mylyn abstract class. Probably Steffen can tell us more "
61d42332f4d395ee22001e68,63719,43200,"How important is that? Just realized when opening CR-PLE-10 that  we do not support this (neither in JavaEditor nor in CompareEditor).\n\nOh, and I am just seeing a bug in the Jira Connector about Issue highlighting :)"
61d42332f4d395ee22001ff9,108141,28800,"The autorelease.sh script is no longer needed; we _should_ be able to use the new and cool: https://extranet.atlassian.com/display/RELENG/HOWTO+-+Using+the+plan+template+release+shortcuts\r\n\r\nSince this is quite a change, we should branch java-platform-plan-templates and try this out on the armata guinea pig."
61d42332f4d395ee2200205c,50062,172800,"Only Jira, Confluence, Fisheye are needed as Stash and Bamboo don't have WebSudo feature.\n\nFor each product:-\n1. WebSudoManager\n2. func tests\n\nUpperbound estimate 3 days for each product."
61d42332f4d395ee2200205e,50058,43200,Test end-to-end of\nProduct + Product Scope Plugin + new OAuth plugin + new Applink plugin + remote apps plugin
61d42332f4d395ee2200205f,50057,86400,"The current ApiScope in remoteapps should be split by product so that scopes can be enabled as plugin.\nStill we do not know in which project these plugins should live. Ideally they should be spread to the right products but the implementation approach we have chosen may not please them.\n\nAfter discussion with Justin, it would also be good to have a standard set of scopes across products as a starter and then products are allowed to include additional ones they wish. This will make life much easier for OAuth consumer."
61d42332f4d395ee220020ba,91920,900,"Please update your documentation sites like this one: https://confluence.atlassian.com/display/IDEPLUGIN/Installing+the+IntelliJ+Connector#InstallingtheIntelliJConnector-ManualInstallation\r\n\r\nThe download URLs on that page are *completely outdated*. \r\n\r\nPlease provide current download URLs for *released* and for *snapshot* plugin versions. \r\n\r\nIn my case, I can't use the auto update feature of the plugin because it is blocked by the company firewall. It is virtually impossible to find the download URL for snapshot builds with Google."
61d42332f4d395ee220021a5,64627,7200,"If i press ""stop work"" and when svn commit fails Work log lost"
61d42332f4d395ee220021a6,64608,14400,"In all versions when i close project or reopening project ""Atlassian Connector"" button ""start work"" not working anymore, Im using ""JetBrains PHPStorm 4.0.3"""
61d42332f4d395ee22002522,65552,7200,To reproduce:\n* open build and leave the build window open\n* open any other project in the same frame.\n\n\njava.lang.Throwable\n	at com.intellij.openapi.diagnostic.Logger.error(Logger.java:48)\n	at com.intellij.openapi.editor.impl.EditorFactoryImpl.a(EditorFactoryImpl.java:2)\n	at com.intellij.openapi.editor.impl.EditorFactoryImpl.validateEditorsAreReleased(EditorFactoryImpl.java:35)\n	at com.intellij.openapi.editor.impl.EditorFactoryImpl$2$1.run(EditorFactoryImpl.java:3)\n	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:209)\n	at java.awt.EventQueue.dispatchEvent(EventQueue.java:597)\n	at com.intellij.ide.IdeEventQueue.c(IdeEventQueue.java:10)\n	at com.intellij.ide.IdeEventQueue.b(IdeEventQueue.java:87)\n	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:188)\n	at com.intellij.ide.IdeEventQueue.pumpEventsForHierarchy(IdeEventQueue.java:216)\n	at com.intellij.openapi.progress.util.ProgressWindow.startBlocking(ProgressWindow.java:121)\n	at com.intellij.openapi.application.impl.ApplicationImpl.runProcessWithProgressSynchronously(ApplicationImpl.java:34)\n	at com.intellij.openapi.progress.impl.ProgressManagerImpl.runProcessWithProgressSynchronously(ProgressManagerImpl.java:65)\n	at com.intellij.openapi.project.impl.ProjectManagerImpl.loadAndOpenProject(ProjectManagerImpl.java:222)\n	at com.intellij.openapi.project.impl.ProjectManagerImpl.loadAndOpenProject(ProjectManagerImpl.java:168)\n	at com.intellij.ide.impl.ProjectUtil.openProject(ProjectUtil.java:136)\n	at com.intellij.ide.RecentProjectsManager$ReopenProjectAction.actionPerformed(RecentProjectsManager.java:4)\n	at com.intellij.openapi.actionSystem.impl.ActionMenuItem$ActionTransmitter.actionPerformed(ActionMenuItem.java:5)\n	at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1995)\n	at com.intellij.openapi.actionSystem.impl.ActionMenuItem.fireActionPerformed(ActionMenuItem.java:39)\n	at com.intellij.ui.plaf.beg.BegMenuItemUI.a(BegMenuItemUI.java:139)\n	at com.intellij.ui.plaf.beg.BegMenuItemUI.access$300(BegMenuItemUI.java:29)\n	at com.intellij.ui.plaf.beg.BegMenuItemUI$MyMouseInputHandler.mouseReleased(BegMenuItemUI.java:2)\n	at java.awt.Component.processMouseEvent(Component.java:6038)\n	at javax.swing.JComponent.processMouseEvent(JComponent.java:3265)\n	at java.awt.Component.processEvent(Component.java:5803)\n	at java.awt.Container.processEvent(Container.java:2058)\n	at java.awt.Component.dispatchEventImpl(Component.java:4410)\n	at java.awt.Container.dispatchEventImpl(Container.java:2116)\n	at java.awt.Component.dispatchEvent(Component.java:4240)\n	at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4322)\n	at java.awt.LightweightDispatcher.processMouseEvent(Container.java:3986)\n	at java.awt.LightweightDispatcher.dispatchEvent(Container.java:3916)\n	at java.awt.Container.dispatchEventImpl(Container.java:2102)\n	at java.awt.Window.dispatchEventImpl(Window.java:2429)\n	at java.awt.Component.dispatchEvent(Component.java:4240)\n	at java.awt.EventQueue.dispatchEvent(EventQueue.java:599)\n	at com.intellij.ide.IdeEventQueue.c(IdeEventQueue.java:10)\n	at com.intellij.ide.IdeEventQueue.b(IdeEventQueue.java:132)\n	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:188)\n	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:273)\n	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:183)\n	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:173)\n	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:168)\n	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:160)\n	at java.awt.EventDispatchThread.run(EventDispatchThread.java:121)\n[2082385]  ERROR - .editor.impl.EditorFactoryImpl - Editor with class:com.intellij.openapi.editor.impl.EditorImpl hasn't been released:\njava.lang.RuntimeException: Editor created\n	at com.intellij.openapi.editor.impl.EditorFactoryImpl.a(EditorFactoryImpl.java:65)\n	at com.intellij.openapi.editor.impl.EditorFactoryImpl.createViewer(EditorFactoryImpl.java:70)\n	at com.intellij.execution.impl.ConsoleViewImpl.f(ConsoleViewImpl.java:74)\n	at com.intellij.execution.impl.ConsoleViewImpl.access$1000(ConsoleViewImpl.java:180)\n	at com.intellij.execution.impl.ConsoleViewImpl$6.compute(ConsoleViewImpl.java:1)\n	at com.intellij.execution.impl.ConsoleViewImpl$6.compute(ConsoleViewImpl.java:3)\n	at com.intellij.openapi.application.impl.ApplicationImpl$12.run(ApplicationImpl.java:2)\n	at com.intellij.openapi.application.impl.ApplicationImpl.runReadAction(ApplicationImpl.java:286)\n	at com.intellij.openapi.application.impl.ApplicationImpl.runReadAction(ApplicationImpl.java:105)\n	at com.intellij.execution.impl.ConsoleViewImpl.e(ConsoleViewImpl.java:328)\n	at com.intellij.execution.impl.ConsoleViewImpl.getComponent(ConsoleViewImpl.java:229)\n	at com.atlassian.theplugin.idea.bamboo.build.BuildLogPanel.<init>(BuildLogPanel.java:52)\n	at com.atlassian.theplugin.idea.bamboo.BuildToolWindow$BuildPanel.<init>(BuildToolWindow.java:210)\n	at com.atlassian.theplugin.idea.bamboo.BuildToolWindow.createContentPanel(BuildToolWindow.java:170)\n	at com.atlassian.theplugin.idea.MultiTabToolWindow.showToolWindow(MultiTabToolWindow.java:74)\n	at com.atlassian.theplugin.idea.bamboo.BuildToolWindow.showBuild(BuildToolWindow.java:112)\n	at com.atlassian.theplugin.idea.bamboo.BambooToolWindowPanel.openBuild(BambooToolWindowPanel.java:234)\n	at com.atlassian.theplugin.idea.bamboo.BambooToolWindowPanel$5.mouseClicked(BambooToolWindowPanel.java:185)\n	at java.awt.AWTEventMulticaster.mouseClicked(AWTEventMulticaster.java:253)\n	at java.awt.AWTEventMulticaster.mouseClicked(AWTEventMulticaster.java:252)\n	at java.awt.Component.processMouseEvent(Component.java:6041)\n	at javax.swing.JComponent.processMouseEvent(JComponent.java:3265)\n	at java.awt.Component.processEvent(Component.java:5803)\n	at java.awt.Container.processEvent(Container.java:2058)\n	at java.awt.Component.dispatchEventImpl(Component.java:4410)\n	at java.awt.Container.dispatchEventImpl(Container.java:2116)\n	at java.awt.Component.dispatchEvent(Component.java:4240)\n	at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4322)\n	at java.awt.LightweightDispatcher.processMouseEvent(Container.java:3995)\n	at java.awt.LightweightDispatcher.dispatchEvent(Container.java:3916)\n	at java.awt.Container.dispatchEventImpl(Container.java:2102)\n	at java.awt.Window.dispatchEventImpl(Window.java:2429)\n	at java.awt.Component.dispatchEvent(Component.java:4240)\n	at java.awt.EventQueue.dispatchEvent(EventQueue.java:599)\n	at com.intellij.ide.IdeEventQueue.c(IdeEventQueue.java:10)\n	at com.intellij.ide.IdeEventQueue.b(IdeEventQueue.java:132)\n	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:188)\n	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:273)\n	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:183)\n	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:173)\n	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:168)\n	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:160)\n	at java.awt.EventDispatchThread.run(EventDispatchThread.java:121)\n \njava.lang.Throwable\n	at com.intellij.openapi.diagnostic.Logger.error(Logger.java:48)\n	at com.intellij.openapi.editor.impl.EditorFactoryImpl.a(EditorFactoryImpl.java:2)\n	at com.intellij.openapi.editor.impl.EditorFactoryImpl.validateEditorsAreReleased(EditorFactoryImpl.java:35)\n	at com.intellij.openapi.editor.impl.EditorFactoryImpl$2$1.run(EditorFactoryImpl.java:3)\n	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:209)\n	at java.awt.EventQueue.dispatchEvent(EventQueue.java:597)\n	at com.intellij.ide.IdeEventQueue.c(IdeEventQueue.java:10)\n	at com.intellij.ide.IdeEventQueue.b(IdeEventQueue.java:87)\n	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:188)\n	at com.intellij.ide.IdeEventQueue.pumpEventsForHierarchy(IdeEventQueue.java:216)\n	at com.intellij.openapi.progress.util.ProgressWindow.startBlocking(ProgressWindow.java:121)\n	at com.intellij.openapi.application.impl.ApplicationImpl.runProcessWithProgressSynchronously(ApplicationImpl.java:34)\n	at com.intellij.openapi.progress.impl.ProgressManagerImpl.runProcessWithProgressSynchronously(ProgressManagerImpl.java:65)\n	at com.intellij.openapi.project.impl.ProjectManagerImpl.loadAndOpenProject(ProjectManagerImpl.java:222)\n	at com.intellij.openapi.project.impl.ProjectManagerImpl.loadAndOpenProject(ProjectManagerImpl.java:168)\n	at com.intellij.ide.impl.ProjectUtil.openProject(ProjectUtil.java:136)\n	at com.intellij.ide.RecentProjectsManager$ReopenProjectAction.actionPerformed(RecentProjectsManager.java:4)\n	at com.intellij.openapi.actionSystem.impl.ActionMenuItem$ActionTransmitter.actionPerformed(ActionMenuItem.java:5)\n	at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1995)\n	at com.intellij.openapi.actionSystem.impl.ActionMenuItem.fireActionPerformed(ActionMenuItem.java:39)\n	at com.intellij.ui.plaf.beg.BegMenuItemUI.a(BegMenuItemUI.java:139)\n	at com.intellij.ui.plaf.beg.BegMenuItemUI.access$300(BegMenuItemUI.java:29)\n	at com.intellij.ui.plaf.beg.BegMenuItemUI$MyMouseInputHandler.mouseReleased(BegMenuItemUI.java:2)\n	at java.awt.Component.processMouseEvent(Component.java:6038)\n	at javax.swing.JComponent.processMouseEvent(JComponent.java:3265)\n	at java.awt.Component.processEvent(Component.java:5803)\n	at java.awt.Container.processEvent(Container.java:2058)\n	at java.awt.Component.dispatchEventImpl(Component.java:4410)\n	at java.awt.Container.dispatchEventImpl(Container.java:2116)\n	at java.awt.Component.dispatchEvent(Component.java:4240)\n	at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4322)\n	at java.awt.LightweightDispatcher.processMouseEvent(Container.java:3986)\n	at java.awt.LightweightDispatcher.dispatchEvent(Container.java:3916)\n	at java.awt.Container.dispatchEventImpl(Container.java:2102)\n	at java.awt.Window.dispatchEventImpl(Window.java:2429)\n	at java.awt.Component.dispatchEvent(Component.java:4240)\n	at java.awt.EventQueue.dispatchEvent(EventQueue.java:599)\n	at com.intellij.ide.IdeEventQueue.c(IdeEventQueue.java:10)\n	at com.intellij.ide.IdeEventQueue.b(IdeEventQueue.java:132)\n	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:188)\n	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:273)\n	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:183)\n	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:173)\n	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:168)\n	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:160)\n	at java.awt.EventDispatchThread.run(EventDispatchThread.java:121)\n[2082387]  ERROR - .editor.impl.EditorFactoryImpl - IntelliJ IDEA 7.0.2  Build #7590 \n[2082387]  ERROR - .editor.impl.EditorFactoryImpl - JDK: 1.6.0_03 \n[2082387]  ERROR - .editor.impl.EditorFactoryImpl - VM: Java HotSpot(TM) Client VM \n[2082387]  ERROR - .editor.impl.EditorFactoryImpl - Vendor: Sun Microsystems Inc. \n[2082387]  ERROR - .editor.impl.EditorFactoryImpl - OS: Windows Vista \njava.lang.Throwable\n	at com.intellij.openapi.diagnostic.Logger.error(Logger.java:48)\n	at com.intellij.openapi.editor.impl.EditorFactoryImpl.a(EditorFactoryImpl.java:2)\n	at com.intellij.openapi.editor.impl.EditorFactoryImpl.validateEditorsAreReleased(EditorFactoryImpl.java:35)\n	at com.intellij.openapi.editor.impl.EditorFactoryImpl$2$1.run(EditorFactoryImpl.java:3)\n	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:209)\n	at java.awt.EventQueue.dispatchEvent(EventQueue.java:597)\n	at com.intellij.ide.IdeEventQueue.c(IdeEventQueue.java:10)\n	at com.intellij.ide.IdeEventQueue.b(IdeEventQueue.java:87)\n	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:188)\n	at com.intellij.ide.IdeEventQueue.pumpEventsForHierarchy(IdeEventQueue.java:216)\n	at com.intellij.openapi.progress.util.ProgressWindow.startBlocking(ProgressWindow.java:121)\n	at com.intellij.openapi.application.impl.ApplicationImpl.runProcessWithProgressSynchronously(ApplicationImpl.java:34)\n	at com.intellij.openapi.progress.impl.ProgressManagerImpl.runProcessWithProgressSynchronously(ProgressManagerImpl.java:65)\n	at com.intellij.openapi.project.impl.ProjectManagerImpl.loadAndOpenProject(ProjectManagerImpl.java:222)\n	at com.intellij.openapi.project.impl.ProjectManagerImpl.loadAndOpenProject(ProjectManagerImpl.java:168)\n	at com.intellij.ide.impl.ProjectUtil.openProject(ProjectUtil.java:136)\n	at com.intellij.ide.RecentProjectsManager$ReopenProjectAction.actionPerformed(RecentProjectsManager.java:4)\n	at com.intellij.openapi.actionSystem.impl.ActionMenuItem$ActionTransmitter.actionPerformed(ActionMenuItem.java:5)\n	at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1995)\n	at com.intellij.openapi.actionSystem.impl.ActionMenuItem.fireActionPerformed(ActionMenuItem.java:39)\n	at com.intellij.ui.plaf.beg.BegMenuItemUI.a(BegMenuItemUI.java:139)\n	at com.intellij.ui.plaf.beg.BegMenuItemUI.access$300(BegMenuItemUI.java:29)\n	at com.intellij.ui.plaf.beg.BegMenuItemUI$MyMouseInputHandler.mouseReleased(BegMenuItemUI.java:2)\n	at java.awt.Component.processMouseEvent(Component.java:6038)\n	at javax.swing.JComponent.processMouseEvent(JComponent.java:3265)\n	at java.awt.Component.processEvent(Component.java:5803)\n	at java.awt.Container.processEvent(Container.java:2058)\n	at java.awt.Component.dispatchEventImpl(Component.java:4410)\n	at java.awt.Container.dispatchEventImpl(Container.java:2116)\n	at java.awt.Component.dispatchEvent(Component.java:4240)\n	at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4322)\n	at java.awt.LightweightDispatcher.processMouseEvent(Container.java:3986)\n	at java.awt.LightweightDispatcher.dispatchEvent(Container.java:3916)\n	at java.awt.Container.dispatchEventImpl(Container.java:2102)\n	at java.awt.Window.dispatchEventImpl(Window.java:2429)\n	at java.awt.Component.dispatchEvent(Component.java:4240)\n	at java.awt.EventQueue.dispatchEvent(EventQueue.java:599)\n	at com.intellij.ide.IdeEventQueue.c(IdeEventQueue.java:10)\n	at com.intellij.ide.IdeEventQueue.b(IdeEventQueue.java:132)\n	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:188)\n	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:273)\n	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:183)\n	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:173)\n	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:168)\n	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:160)\n	at java.awt.EventDispatchThread.run(EventDispatchThread.java:121)\n[2082389]  ERROR - .editor.impl.EditorFactoryImpl - Editor with class:com.intellij.openapi.editor.impl.EditorImpl hasn't been released:\njava.lang.RuntimeException: Editor created\n	at com.intellij.openapi.editor.impl.EditorFactoryImpl.a(EditorFactoryImpl.java:65)\n	at com.intellij.openapi.editor.impl.EditorFactoryImpl.createViewer(EditorFactoryImpl.java:70)\n	at com.intellij.execution.impl.ConsoleViewImpl.f(ConsoleViewImpl.java:74)\n	at com.intellij.execution.impl.ConsoleViewImpl.access$1000(ConsoleViewImpl.java:180)\n	at com.intellij.execution.impl.ConsoleViewImpl$6.compute(ConsoleViewImpl.java:1)\n	at com.intellij.execution.impl.ConsoleViewImpl$6.compute(ConsoleViewImpl.java:3)\n	at com.intellij.openapi.application.impl.ApplicationImpl$12.run(ApplicationImpl.java:2)\n	at com.intellij.openapi.application.impl.ApplicationImpl.runReadAction(ApplicationImpl.java:286)\n	at com.intellij.openapi.application.impl.ApplicationImpl.runReadAction(ApplicationImpl.java:105)\n	at com.intellij.execution.impl.ConsoleViewImpl.e(ConsoleViewImpl.java:328)\n	at com.intellij.execution.impl.ConsoleViewImpl.getComponent(ConsoleViewImpl.java:229)\n	at com.atlassian.theplugin.idea.bamboo.build.TestDetailsPanel.fillContent(TestDetailsPanel.java:154)\n	at com.atlassian.theplugin.idea.bamboo.BuildToolWindow$BuildPanel$BuildDetailsFetcher$1.run(BuildToolWindow.java:345)\n	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:209)\n	at java.awt.EventQueue.dispatchEvent(EventQueue.java:597)\n	at com.intellij.ide.IdeEventQueue.c(IdeEventQueue.java:10)\n	at com.intellij.ide.IdeEventQueue.b(IdeEventQueue.java:87)\n	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:188)\n	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:273)\n	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:183)\n	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:173)\n	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:168)\n	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:160)\n	at java.awt.EventDispatchThread.run(EventDispatchThread.java:121)\n \njava.lang.Throwable\n	at com.intellij.openapi.diagnostic.Logger.error(Logger.java:48)\n	at com.intellij.openapi.editor.impl.EditorFactoryImpl.a(EditorFactoryImpl.java:2)\n	at com.intellij.openapi.editor.impl.EditorFactoryImpl.validateEditorsAreReleased(EditorFactoryImpl.java:35)\n	at com.intellij.openapi.editor.impl.EditorFactoryImpl$2$1.run(EditorFactoryImpl.java:3)\n	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:209)\n	at java.awt.EventQueue.dispatchEvent(EventQueue.java:597)\n	at com.intellij.ide.IdeEventQueue.c(IdeEventQueue.java:10)\n	at com.intellij.ide.IdeEventQueue.b(IdeEventQueue.java:87)\n	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:188)\n	at com.intellij.ide.IdeEventQueue.pumpEventsForHierarchy(IdeEventQueue.java:216)\n	at com.intellij.openapi.progress.util.ProgressWindow.startBlocking(ProgressWindow.java:121)\n	at com.intellij.openapi.application.impl.ApplicationImpl.runProcessWithProgressSynchronously(ApplicationImpl.java:34)\n	at com.intellij.openapi.progress.impl.ProgressManagerImpl.runProcessWithProgressSynchronously(ProgressManagerImpl.java:65)\n	at com.intellij.openapi.project.impl.ProjectManagerImpl.loadAndOpenProject(ProjectManagerImpl.java:222)\n	at com.intellij.openapi.project.impl.ProjectManagerImpl.loadAndOpenProject(ProjectManagerImpl.java:168)\n	at com.intellij.ide.impl.ProjectUtil.openProject(ProjectUtil.java:136)\n	at com.intellij.ide.RecentProjectsManager$ReopenProjectAction.actionPerformed(RecentProjectsManager.java:4)\n	at com.intellij.openapi.actionSystem.impl.ActionMenuItem$ActionTransmitter.actionPerformed(ActionMenuItem.java:5)\n	at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1995)\n	at com.intellij.openapi.actionSystem.impl.ActionMenuItem.fireActionPerformed(ActionMenuItem.java:39)\n	at com.intellij.ui.plaf.beg.BegMenuItemUI.a(BegMenuItemUI.java:139)\n	at com.intellij.ui.plaf.beg.BegMenuItemUI.access$300(BegMenuItemUI.java:29)\n	at com.intellij.ui.plaf.beg.BegMenuItemUI$MyMouseInputHandler.mouseReleased(BegMenuItemUI.java:2)\n	at java.awt.Component.processMouseEvent(Component.java:6038)\n	at javax.swing.JComponent.processMouseEvent(JComponent.java:3265)\n	at java.awt.Component.processEvent(Component.java:5803)\n	at java.awt.Container.processEvent(Container.java:2058)\n	at java.awt.Component.dispatchEventImpl(Component.java:4410)\n	at java.awt.Container.dispatchEventImpl(Container.java:2116)\n	at java.awt.Component.dispatchEvent(Component.java:4240)\n	at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4322)\n	at java.awt.LightweightDispatcher.processMouseEvent(Container.java:3986)\n	at java.awt.LightweightDispatcher.dispatchEvent(Container.java:3916)\n	at java.awt.Container.dispatchEventImpl(Container.java:2102)\n	at java.awt.Window.dispatchEventImpl(Window.java:2429)\n	at java.awt.Component.dispatchEvent(Component.java:4240)\n	at java.awt.EventQueue.dispatchEvent(EventQueue.java:599)\n	at com.intellij.ide.IdeEventQueue.c(IdeEventQueue.java:10)\n	at com.intellij.ide.IdeEventQueue.b(IdeEventQueue.java:132)\n	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:188)\n	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:273)\n	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:183)\n	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:173)\n	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:168)\n	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:160)\n	at java.awt.EventDispatchThread.run(EventDispatchThread.java:121)\n[2082390]  ERROR - .editor.impl.EditorFactoryImpl - IntelliJ IDEA 7.0.2  Build #7590 \n[2082390]  ERROR - .editor.impl.EditorFactoryImpl - JDK: 1.6.0_03 \n[2082390]  ERROR - .editor.impl.EditorFactoryImpl - VM: Java HotSpot(TM) Client VM \n[2082390]  ERROR - .editor.impl.EditorFactoryImpl - Vendor: Sun Microsystems Inc. \n[2082390]  ERROR - .editor.impl.EditorFactoryImpl - OS: Windows Vista \njava.io.EOFException: input contained no data\n	at org.xmlpull.mxp1.MXParser.fillBuf(MXParser.java:2982)\n	at org.xmlpull.mxp1.MXParser.more(MXParser.java:3025)\n	at org.xmlpull.mxp1.MXParser.parseProlog(MXParser.java:1410)\n	at org.xmlpull.mxp1.MXParser.nextImpl(MXParser.java:1395)\n	at org.xmlpull.mxp1.MXParser.next(MXParser.java:1093)\n	at org.jivesoftware.smack.PacketReader.parsePackets(PacketReader.java:363)\n	at org.jivesoftware.smack.PacketReader.access$000(PacketReader.java:45)\n	at org.jivesoftware.smack.PacketReader$1.run(PacketReader.java:67)\n
61d42332f4d395ee220025eb,65120,14400,We are unable to to use this plugin because we have secured environment (use of HTTP AUTH or client certificates). IntelliJ Connector is unable to work with that.\n\nIt is going into 401 Authorization required.\n\nFor example Teamcity plugin has no problem with that.
61d42332f4d395ee22002754,66084,21600,http://skitch.com/ephwong/bdgt6/atlassian-bamboo-components-opt-dev-src-atlassian-bamboo-trunk-2-components-bamboo-core-src-main-java-com-atlassian-bamboo-build-globalsubstitutionbeanimpl.java-intellij-idea-8.0.1
61d42332f4d395ee22002764,66554,12300,"No message\njava.lang.NullPointerException\n	at com.atlassian.theplugin.crucible.model.CrucibleReviewListModelImpl.addReviewToCategory(CrucibleReviewListModelImpl.java:139)\n	at com.atlassian.theplugin.crucible.model.CrucibleReviewListModelImpl.updateReviews(CrucibleReviewListModelImpl.java:222)\n	at com.atlassian.theplugin.crucible.model.CrucibleReviewListModelImpl$1.run(CrucibleReviewListModelImpl.java:86)\n	at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.run(LaterInvocator.java:27)\n	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:209)\n	at java.awt.EventQueue.dispatchEvent(EventQueue.java:597)\n	at com.intellij.ide.IdeEventQueue.c(IdeEventQueue.java:35)\n	at com.intellij.ide.IdeEventQueue.b(IdeEventQueue.java:99)\n	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:217)\n	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:273)\n	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:183)\n	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:173)\n	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:168)\n	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:160)\n	at java.awt.EventDispatchThread.run(EventDispatchThread.java:121)\n\nAfter is occurred for the first time it came back several time, until I shut down IDEA.\nIt seems to be some recent regression"
61d42332f4d395ee220028d8,65451,108000,"If I have just committed some work for a particular issue and provided the issue key in my commit message. I want the plugin to then highlight, or present me with some options for dealing with this issue... e.g.\n\n1) I want to see it in the JIRA tab to transition its state\n2) I want to see it in the CRUCIBLE tab, because all changes need a review, right?\n\nIdeally, before I even commit my change, ThePlugin could pre-populate the commit message with any issue that is currently ""In Progress"".\n\nThis may already be planned or on the roadmap, but who reads documentation anyway?"
61d42332f4d395ee220028f6,65643,43200,"I just navigated with Alt+N to a class, selected a few lines and clicked on Alt+C to add a new review:\n\nArgument 1 for @NotNull parameter of com/atlassian/theplugin/idea/crucible/CrucibleHelper.getMetricsForReview must not be null\njava.lang.IllegalArgumentException: Argument 1 for @NotNull parameter of com/atlassian/theplugin/idea/crucible/CrucibleHelper.getMetricsForReview must not be null\n	at com.atlassian.theplugin.idea.crucible.CrucibleHelper.getMetricsForReview(CrucibleHelper.java)\n	at com.atlassian.theplugin.idea.CrucibleReviewWindow$MyAgent$5.run(CrucibleReviewWindow.java:240)\n	at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.run(LaterInvocator.java:16)\n	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:209)\n	at java.awt.EventQueue.dispatchEvent(EventQueue.java:597)\n	at com.intellij.ide.IdeEventQueue.c(IdeEventQueue.java:146)\n	at com.intellij.ide.IdeEventQueue.b(IdeEventQueue.java:63)\n	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:87)\n	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:273)\n	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:183)\n	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:173)\n	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:168)\n	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:160)\n	at java.awt.EventDispatchThread.run(EventDispatchThread.java:121)\n\n"
61d42332f4d395ee2200291c,65565,14400,{noformat}\nArgument 1 for @NotNull parameter of com/intellij/openapi/diff/FileContent.<init> must not be null\njava.lang.IllegalArgumentException: Argument 1 for @NotNull parameter of com/intellij/openapi/diff/FileContent.<init> must not be null\n	at com.intellij.openapi.diff.FileContent.<init>(FileContent.java)\n	at com.atlassian.theplugin.idea.crucible.CrucibleHelper$2.run(CrucibleHelper.java:128)\n	at com.atlassian.theplugin.idea.VcsIdeaHelper$FetchingTwoFilesTask.onSuccess(VcsIdeaHelper.java:449)\n	at com.intellij.openapi.progress.impl.ProgressManagerImpl$6$2.run(ProgressManagerImpl.java:2)\n	at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.run(LaterInvocator.java:16)\n	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:209)\n	at java.awt.EventQueue.dispatchEvent(EventQueue.java:461)\n	at com.intellij.ide.IdeEventQueue.c(IdeEventQueue.java:146)\n	at com.intellij.ide.IdeEventQueue.b(IdeEventQueue.java:63)\n	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:87)\n	at java.awt.EventDispatchThread.pumpOneEventForHierarchy(EventDispatchThread.java:269)\n	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:190)\n	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:184)\n	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:176)\n	at java.awt.EventDispatchThread.run(EventDispatchThread.java:110)\n{noformat}\n\nWe should do the same thing as IDEA and show the entire file against a blank file
61d42332f4d395ee22002958,66361,54000,Now all actions assume that the first Crucible sever on the list is the one to use.\n
61d42332f4d395ee22002959,64506,7200,Instead user sees some invalid URL (two URL-s concatenated).
61d42332f4d395ee22002c10,49118,43200,These information should be added once a request is verified to be a valid OAuth request.\n-2lo or 3lo\n-signature method\n-if it's an impersonated request\n-granted scopes (when scopes become available
61d42332f4d395ee22002c13,48571,64800,"Currently our OAuth implementation can only be configured as on/off.\r\nStarting from the inclusion of 2LO, there will be more options to set. For example, we might want to turn on/off 2LO or the impersonation mode of it. Basic scopes are also to be setup through the UI. This means we need a way to configure our OAuth link.\r\n\r\nWe will need OAuthConfigurator which provides API for AppLink plugin to turn on/off or configure OAuth features.\r\n\r\nThe API might work similar to the existing TrustedAppConfigurator."
61d42332f4d395ee22002c14,48475,129600,The remoteapps source code: https://bitbucket.org/mrdon/remoteapps-plugin.git\r\nPlease look at ApiScopingFilter\r\n\r\n- Cleanup the API\r\n- Add Request Object into the API (Requested by Don B.)\r\n- APIScope must be extensible through declaration as certain type in atlassian-plugin\r\n- Excluding product-specific ApiScope implementations\r\n- Write tests \r\n\r\n
61d42332f4d395ee22002c15,48474,86400,"The remoteapps source code: https://bitbucket.org/mrdon/remoteapps-plugin.git\nMainly we will need both OAuth2LOFilter + OAuth2LOAuthenticator. OAuth2LOAuthenticator should become another layer or delegate which operates in conjunction with the existing OauthAuthenticator. We must be able to turn it on/off via API.\n\nImpersonation Support\n- The request will impersonate the user as specified in the request.\n- The user_id param will be better prefixed.\n- This support can be turned on/off.\n\nExecute As Support\n- will have to be able to specify ""Execute As"" user from the API\n- This support can be turned on/off"
61d42332f4d395ee22002c1d,46399,3600,"In OAUTH-238, I've set WebClient to behave like FireFox because some tests were failing. Once AJS-808 is resolved, we can switch back to the default behaviour (see CR-OAUTH-171) and just check all tests pass."
61d42332f4d395ee22002c36,41281,3600,"Some of the keys in {{service-provider-plugin/src/main/resources/com/atlassian/oauth/serviceprovider/internal/i18n_en_US.properties}} differ from {{service-provider-plugin/src/main/resources/com/atlassian/oauth/serviceprovider/internal/i18n.properties}}.\n\nIn particular the following keys should not have ""user"" in them:\n  * {{com.atlassian.oauth.serviceprovider.user.access.tokens.title}}\n  * {{com.atlassian.oauth.serviceprovider.user.access.tokens.description}}\n\nThe other languages need to be fixed up as well."
61d42332f4d395ee22002c37,41280,3600,"Some i18n keys were changed in OAuth 1.3.0, however, the access-tokens.vm page still uses the old i18n keys.\n\n{code}\n<title>$i18n.getText(""com.atlassian.oauth.serviceprovider.user.access.tokens.title"")</title>\n{code}\n\nshould be changed to\n{code}\n<title>$i18n.getText(""com.atlassian.oauth.serviceprovider.access.tokens.title"")</title>\n{code}\n\nand\n\n{code}\n<meta name=""tab"" content=""oauth.service.provider.user.access.tokens"">\n{code}\n\nshould be changed to\n{code}\n<meta name=""tab"" content=""oauth.service.provider.access.tokens"">\n{code}"
61d42332f4d395ee22002c3c,40604,10800,"see https://extranet.atlassian.com/display/INTEGRATION/OAuth+Homogenous+UX+Functional+Spec#OAuthHomogenousUXFunctionalSpec-Updatedadminconsolelayout\n\nAnd also:\n{quote}\nOn advice from Ben Buchannan from front end, the two ways to get favicons are:\n - from the root domain\n   the most popular format, as logs will be spammed if there isn't a\nfavicon.ico in the root domain, e.g. www.google.com/favicon.ico . The\nformat dictates that the file name should be favicon.ico in order for\nit to display properly\n - in the meta tags, as either:\n\n<link rel=""shortcut icon""\n href=""http://google.com/myicon.ico""/>\n\n<link rel=""icon""\n type=""image/vnd.microsoft.icon""\n href=""http://google.com/image.ico""/>\n\n<link rel=""icon"" type=""image/png""\n href=""http://example.com/image.png""/>\n\nor\n\n<link rel=""icon"" type=""image/gif""\n href=""http://example.com/image.gif""/>\n\nThe root domain should be checked before diving into meta tags, and if\nneither of the methods work, then we can just provide a default icon.\n{quote}"
61d42332f4d395ee22002c3d,40400,36000,"Implementing OAUTH-202 raised some questions about whether it was in fact a good idea:\n * The current implementation, which involves posting from a form that is generated by the OAuth plugin directly to the host application's login servlet, isn't robust since apps may change their login behavior.\n * We could use the SAL Authenticator interface to validate the username/password programmatically instead. BUT...\n * ...doing so may be a security risk, since it bypasses the apps' handling of login failures (forcing captcha after repeated failures, etc.).\n\nAssuming we don't want to completely reimplement the captcha/lockout logic within the OAuth plugin, this implies that we should undo the OAUTH-202 changes. In that case, it would be nice to at least make it possible for the app's login form to show some additional explanatory text when it's in the context of an OAuth request."
61d42332f4d395ee22002c3e,40171,43200,Currently the poms all use maven-refapp-plugin instead of maven-amps-plugin - makes manual testing in different products needlessly difficult.
61d42332f4d395ee22002c50,30478,7200,"In AppLinks we store a RPC URL and display URL for every application link and we use the RPC url for getting the request and access token, the display URL is used to authorize, because the user has to perform this operation through his/her browser.\n\nIn AppLinks we faced a problem when OAuth reported our signature as invalid, because we used a different URL to sign the request than the application's base URL.\nI think it might be better if the AccessTokenServlet, RequestTokenServlet and AuthorizeServlet use the request URL when validation the signature.\n\nThe general oauth request authentication uses also the request URL. \n\nThe OAuth specification says this:\nhttp://oauth.net/core/1.0/#anchor14\n""If the absolute request URL is not available to the Service Provider (it is always available to the Consumer), it can be constructed by combining the scheme being used, the HTTP Host header, and the relative HTTP request URL. If the Host header is not available, the Service Provider SHOULD use the host name communicated to the Consumer in the documentation or other means.\n\nAccording to this the host header should always take precedence and if it's not available we can fallback to the application's base url."
61d42332f4d395ee22002c51,30477,10800,"The PluginSettingsConsumerTokenStore causes a NPE if, the last consumer token for a consumer is deleted.\nThe method getTokensForConsumer() incorrectly returns a Set with one entry which is an empty string if no consumer tokens are stored.\nWhen creating a map containing all consumer token and their keys in getConsumerTokens() a NPE occurs.\n\nInitially when no tokens are stored getTokensForConsumer() returns correctly an empty set.\n\n\n [java] Caused by: java.lang.NullPointerException\n     [java] 	at com.google.common.base.Preconditions.checkNotNull(Preconditions.java:180)\n     [java] 	at com.google.common.collect.ImmutableMap.entryOf(ImmutableMap.java:135)\n     [java] 	at com.google.common.collect.ImmutableMap.copyOf(ImmutableMap.java:241)\n     [java] 	at com.atlassian.oauth.consumer.sal.PluginSettingsConsumerTokenStore.getConsumerTokens(PluginSettingsConsumerTokenStore.java:112)"
61d42332f4d395ee22002c56,28001,7200,It probably should not be displayed for non-sysadmins.\n\nSee also JST-2504
61d42332f4d395ee22002c5a,25235,14400,"Scenario:\nAdded ""OAuth Consumer"" entry using administrative account bambooadmin, then bambooadmin account was removed and I've tried to remove the ""OAuth Consumer"" entry logged in as ""admin"" (another account with administrative privileges).\n\nCurrently {{BambooSalUserManager.resolve(String)}} returns {{null}} if user cannot be found. I wonder if throwing an exception would make {{PluginSettingsServiceProviderTokenStore.get(String)}} behave correctly but from the quick code analysis it looks like I'd be getting {{throw new InvalidTokenException(""Unknown user bambooadmin"", e);}}\n\nHere comes a meaningful part of stacktrace (complete stack trace to be seen here http://jira.atlassian.com/browse/BAM-5204):\n\njava.lang.NullPointerException: user must be set for access tokens\nat com.atlassian.oauth.util.Check.notNull(Check.java:37)\nat com.atlassian.oauth.serviceprovider.ServiceProviderToken.<init>(ServiceProviderToken.java:89)\nat com.atlassian.oauth.serviceprovider.ServiceProviderToken.<init>(ServiceProviderToken.java:64)\nat com.atlassian.oauth.serviceprovider.ServiceProviderToken$ServiceProviderTokenBuilder.build(ServiceProviderToken.java:504)\nat com.atlassian.oauth.serviceprovider.sal.PluginSettingsServiceProviderTokenStore.get(PluginSettingsServiceProviderTokenStore.java:86)\nat com.atlassian.oauth.serviceprovider.sal.PluginSettingsServiceProviderTokenStore$KeyToToken.apply(PluginSettingsServiceProviderTokenStore.java:162)\nat com.atlassian.oauth.serviceprovider.sal.PluginSettingsServiceProviderTokenStore$KeyToToken.apply(PluginSettingsServiceProviderTokenStore.java:158)\nat com.google.common.collect.Iterators$8.next(Iterators.java:667)\nat com.atlassian.oauth.serviceprovider.sal.PluginSettingsServiceProviderTokenStore.removeByConsumer(PluginSettingsServiceProviderTokenStore.java:147)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:592)\nat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:307)\nat org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:58)\nat org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:62)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\nat org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)\nat org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\nat org.springframework.osgi.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:56)\nat org.springframework.osgi.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:39)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\nat org.springframework.osgi.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:59)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\nat org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)\nat org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\nat $Proxy145.removeByConsumer(Unknown Source)\nat com.atlassian.oauth.admin.serviceprovider.ListConsumersServlet.doRestrictedPost(ListConsumersServlet.java:56)"
61d42332f4d395ee22002c5c,24294,7200,"The 'View OAuth Access Tokens' table has (what appears to be now) an incorrectly-labelled column name.\n\nAs far as I'm aware, these column headings are coded in one of the OAuth plugin components. However, the information they display is/can be determined by the Atlassian application in which these OAuth plugin complements are implemented. If this is true, then the following issue has arisen:\n\nThe first column 'Consumers', may originally have been intended to show the name of the consumer application to which the OAuth access token had been sent. I presume this is the consumer app. on which a gadget would have been added. However, this is not the information that's currently being shown on the 'View OAuth Access Tokens' screen in Confluence 3.1 and JIRA 4.0. Instead, both these applications show the actual name of the gadget in this column.\n\nIMHO, showing the gadget name is better as it provides the user with more information about a given access token. The adjacent 'Consumer Description' column provides the necessary information about the consumer to which the access token was sent. Hence, it seems unnecessary to duplicate this info. with a 'Consumers' column. Furthermore, showing the consumer name as opposed to the gadget name makes it difficult to distinguish which access token belongs to which gadget when multiple different gadgets from one service provider have been added to a specific consumer app.\n\nHence, because of the implementation of this OAuth plugin component in JIRA 4.0 and Confluence 3.1, could we change the first column name from 'Consumers' to 'Gadgets'?\n\nI suspect that when Atlassian extends the application of OAuth beyond the scope of gadgets, we could look at changing the column name from 'Gadgets' to 'Gadgets or Applications', but 'Gadgets' is probably sufficient (and less confusing) for the time-being.\n"
61d42332f4d395ee22002c75,22738,7200,Andreas and I paired on getting everything looking tidy in JIRA with the new admin plugin
61d42332f4d395ee22002c7f,22589,3600,Need to remove defined width
61d42332f4d395ee22002c87,22498,3600,Now with added CSS!
61d42332f4d395ee22002cab,21614,14400,"If you enter a url like:\nhttp://localhost:8090\n\nYou'll get this stack trace:\n{noformat}\njava.lang.IllegalArgumentException: Invalid uri 'http://localhost:8090plugins/servlet/oauth/consumer-info': invalid port number\n	at org.apache.commons.httpclient.HttpMethodBase.<init>(HttpMethodBase.java:219)\n	at org.apache.commons.httpclient.methods.GetMethod.<init>(GetMethod.java:88)\n	at com.atlassian.sal.core.net.HttpClientRequest.makeMethod(HttpClientRequest.java:376)\n	at com.atlassian.sal.core.net.HttpClientRequest.execute(HttpClientRequest.java:232)\n	at com.atlassian.oauth.serviceprovider.internal.servlet.admin.AddConsumerByUrlServlet.fetchConsumerInformation(AddConsumerByUrlServlet.java:120)\n	at com.atlassian.oauth.serviceprovider.internal.servlet.admin.AddConsumerByUrlServlet.doRestrictedPost(AddConsumerByUrlServlet.java:88)\n	at com.atlassian.oauth.shared.servlet.AbstractAdminServlet.doPost(AbstractAdminServlet.java:62)\n	at javax.servlet.http.HttpServlet.service(HttpServlet.java:709)\n....\n{noformat}\n\nAlso, if you enter an invalid url (for example http://localhost:8090/ when it should be http://localhost:8090/jira)  you simply get ""Server responded with an error"" at the top of the page.  It should be red and under the URL field like all the other form validation errors.\n\nFinally adding a consumer by adding information manually is missing some i18n keys:\n* missing.key\n* missing.name\n\nThese are not translated when submitting an empty form."
61d42332f4d395ee22002cb3,21423,14400,I'm not sure about the best way to do this.  Maybe a separate store specifically for the host consumer information?
61d42332f4d395ee22002cb4,21422,43200,"It's still in draft form, but it seems to be close to completion. http://oauth.googlecode.com/svn/spec/core/1.0a/drafts/3/oauth-core-1_0a.html"
61d42332f4d395ee22002cd9,20782,7200,"A button or link on the page for ""cancel"" - or maybe  ""return to consumers list""  So there is two way navigation between these pages"
61d42332f4d395ee22002ce5,19916,14400,"The administrator should be allowed to change the Consumer name, description and callback URL."
61d42332f4d395ee22002cea,19606,21600,Users on the service provider need a way to see the tokens they've authorized in the past for consumers and be able to revoke them.
61d42332f4d395ee22002cf0,19580,14400,"When SAL-30 and SAL-31 are completed, switch over to use their UserResolver, AuthenticationController, AuthenticationListener, et al. equivalents and remove them from our SPI."
61d42332f4d395ee22002cf1,19579,43200,"Right now we're testing the happy path in [OAuthDanceTest|https://studio.atlassian.com/source/browse/OAUTH/trunk/integration-tests/src/test/java/it/com/atlassian/oauth/OAuthDanceTest.java?r=29750], but don't have anything that tests for failures or robustness in handling those failures."
61d42332f4d395ee22002cf2,19578,21600,"When I set out this was just a spike. It's become a bit more than that as I've had people reviewing the code and having just been slapping things together wily nily, but I haven't written any unit tests yet"
61d42332f4d395ee22002cf3,19577,36000,This [todo|https://studio.atlassian.com/source/browse/OAUTH/trunk/plugin/src/main/java/com/atlassian/oauth/internal/AuthenticatorImpl.java?r=29750#l114]
61d42332f4d395ee22002da1,152528,14400,"If I run the following command, where I specify both development and release version\r\n{code:none}\r\nmvn jgitflow:release-start -DdevelopmentVersion=11.7 -DreleaseVersion=11.6\r\n{code}\r\nThe plugin will recognize the Release Version and append -SNAPSHOT. However, it will fail to recognize the Development Version and force the user to specify a version. This seem non-intuitive. If you are expecting both branches to have SNAPSHOT, then they should either both have the value SNAPSHOT added to them or both force the user to add the word when specifying from the command line. Either way it would be nice if the maven plugin would at least warn that it is making changes so as to leave some indication of what did or didn't happen when running on a CI tool with -B (batch-mode) set.\r\n"
61d42332f4d395ee22002df0,103315,28800,"When I execute release-finish goal using following command line (notice double quotes around value for scmCommentPrefix as comment has a space in it""\r\n\r\nmvn jgitflow:release-finish -DautoVersionSubmodules=true -DkeepBranch=false -DpushReleases=true -DnoDeploy=false -DscmCommentPrefix=""[release finish]"" \r\n\r\nI get following error\r\n   [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 0.619 s\r\n    [INFO] Finished at: 2014-09-26T15:29:00+00:00\r\n    [INFO] Final Memory: 8M/152M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Unknown lifecycle phase ""finish]"". You must specify a valid lifecycle phase or a goal in the format <plugin-prefix>:<goal> or <plugin-group-id>:<plugin-artifact-id>[:<plugin-version>]:<goal>. Available lifecycle phases are: validate, initialize, generate-sources, process-sources, generate-resources, process-resources, compile, process-classes, generate-test-sources, process-test-sources, generate-test-resources, process-test-resources, test-compile, process-test-classes, test, prepare-package, package, pre-integration-test, integration-test, post-integration-test, verify, install, deploy, pre-clean, clean, post-clean, pre-site, site, post-site, site-deploy. -> [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n\r\n\r\n"
61d42332f4d395ee22002e03,96828,1800,"jgitflow:feature-finish uses the release profile:\r\n{{[INFO] Executing: cmd.exe /X /C ""C:\tools\maven\apache-maven-3.0.5\bin\mvn -s C:\Users\BENTAT~1\AppData\Local\Temp\release-settings7104117089287244257.xml clean install --no-plugin-updates --batch-mode -DperformRelease=true}}\r\n\r\nWhile release-finish and hotfix-finish provide parameters to enable this or not, I think it can either be disabled always in this case, or at least parameterized to disable it."
61d42332f4d395ee22002e3d,87411,3600,"When the plugin is about to do a fetch from the remote repository, it checks if there's an origin URL configured in the .git/config file of provided in the context. In case the URL is declared in the config file, it tries to execute a fetch on the remote repo without checking if there's also a fetching policy configured.\r\n\r\nTo prevent errors, there should be a ""fetch configured"" check before trying to do the fetch, and if there's no fetching policy configured, add it."
61d42332f4d395ee22002f4e,113135,14400,"I have a filter that includes the custom field ""Days since last comment"" (from the Toolkit). All comments are set to security for group ""Staff. When displayed on screen, in issue navigator, the value is displaying correctly. But when the staff members receive a filter subscription, the value is not displaying correctly. I think it goes back to the last comment that was visible to all users.\r\n\r\nSo, when they receive the email it shows last commented 8 weeks ago when there have been numerous comments in the past few days. It is misleading. I am logging the issue here rather than JTOOL because the problem is with the filter subscription logic, and not with the custom field itself (which displays correctly in issue navigator)."
61d42332f4d395ee22002f9c,71221,7200,See: https://jira.atlassian.com/browse/JRA-26488
61d42332f4d395ee22002fa8,71287,144000,"I'm in the process of taking a look at the code to see if we can't create a fast report for users on issues they have worked on.  For us, this includes, issues we have logged time on."
61d42332f4d395ee22003085,258089,432000,Omnium Lite Integration with Jira
61d42332f4d395ee220030ff,134765,28800,Probably same applies to numbered lists.
61d42332f4d395ee22003114,238035,3600,We need to set a proxy to the AsynchronousHttpClientFactory.\r\n \r\n\r\n\r\n
61d42332f4d395ee2200357e,71391,21600,"Just upgraded to Jira v4.3 today. Drag and drop fails.\n\nBrowser shows \n\n{code}\nUncaught SyntaxError: Unexpected token ILLEGAL\nattachmentsPOST http://tracker.retrieve.com/jira/rest/jira-dnd-attachment/1.0/issue/BS-71/attachments?filename=book_cover_firstaid_small.gif 500 (Internal Server Error)\n{code}\n\n\nTomcat logs show\n\n{code}\nMar 22, 2011 10:38:18 AM com.sun.jersey.server.impl.application.WebApplicationImpl onException\nSEVERE: Internal server error\njava.lang.NoSuchMethodError: com.atlassian.jira.bc.JiraServiceContextImpl.<init>(Lcom/opensymphony/user/User;Lcom/atlassian/jira/util/ErrorCollection;)V\n	at com.atlassian.jira.plugins.dnd.attachment.rest.v1.IssueResource.validateAddAttachment(IssueResource.java:118)\n	at com.atlassian.jira.plugins.dnd.attachment.rest.v1.IssueResource.addAttachment(IssueResource.java:190)\n	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n{code}\n\n\nSeems the same error is reported on JDDAP-9. They determined that\n\n{quote}\nProblem was caused by migration to Embedded Crowd. \n{quote}\n\nAnd TIME-143 has this note:\n\n{quote}\nWas: import com.opensymphony.user.User;\nNow: import com.atlassian.crowd.embedded.api.User;\n\nPlease see https://studio.plugins.atlassian.com/source/changelog/JDDAP/?cs=157701 for more information\n{quote}"
61d42332f4d395ee2200359c,113540,14400,"This was a problem with the TimeInStatusCFT from the charting plugin. The removeValue method tries to do a findByAnd with the value in the custom field and this makes a value= in sql, which mssql does not handle for unlimited text fields. This method needs to either, not try to compare on the value (we need to investigate the implications of changing the behavior of the method) or we need a new method that will just delete the values for the issue."
61d42332f4d395ee220036f8,374740,288000,City spatial management system to receive complaints and reports concerning environmental problems.
61d42332f4d395ee22003710,368610,576000,"*Description*\r\n\r\nI wasn't able to specify the ID of the custom fields I created, so I had to write logic to grab the ID based on the name of the field, after returning all fields. I would have loved to be able to search for the name of the field in the GET request, or even better, just specify the ID in the manifest.\r\n"
61d42332f4d395ee22003711,368609,288000,"*Description / Impact* \r\n\r\nGetting my app to look pretty was difficult because the UI kit still has a lot of limitations, especially the fact that it has only very few attributes on components and does not expose any CSS anywhere. You probably do this on purpose, to keep some standardization of design in the macros people build, but it made it challenging for me to make my app visually appealing. \r\n\r\nSpecific things that were challenging in my UI were, for example: \r\n* getting my heading sizes / general font sizes in a good hierarchy was not easy\r\n* making the spacing between headers and other content attractice\r\n* making separate sections (e.g. to make a visual separation between 'TO DO' and 'DONE'). I had to creatively use the alert components to create a contrasting section for my custom panel on the home page of Confluence. I would have rathered create a custom section (e.g. removing the exclamation mark or question mark, or the 'i')\r\n* Being able to align things in a grid horizontally (e.g. my settings page was super long vertically, because it was difficult to put sections next to each other, like you can do in regular CSS using display: grid)\r\n\r\nAs a solution for this, perhaps you could:\r\n* Provide a design scheme, a tutorial, or guidance for using UI components\r\n* Allow custom CSS styling to some extent (e.g. spacing, adding / removing elements of alerts)\r\n\r\n*Expected*\r\n\r\nPre-built UI components have an easy way to configure heading and font sizes relative to each other to achieve good visual hierarchy and spacing. UI kit components are customizable to some extent. Also, in general, the Forge developer documentation has some sort of design scheme or guidance for putting components together.\r\n\r\n*Actual*\r\n\r\nComponents are not customizable; components look strange when you have to use them creatively for your purpose; heading hierarchy is not clear; design guidance is provided.\r\n\r\n*Attachments*\r\n\r\nPhotos of the panel I created, where heading hierarchy is a bit strange, the alert components I used to create a new section are not exactly fit for purpose, and my very long, left-aligned, vertical settings page!\r\n\r\n !codegeist-1-driver-actions.png|thumbnail! \r\n !codegeist-3-contributor-actions.png|thumbnail! \r\n !codegeist-5-settings.png|thumbnail! \r\n"
61d42332f4d395ee22003715,368602,144000,"*Description*\r\n\r\nSometimes while you are running the tunnel, code updates in your app are not rendered. This means that when you are in the development flow, you cannot always trust whether something is a bug or not -  the code may not be working simply because of this issue with the tunnel. \r\n\r\nWhen I was developing in Forge, this sent me down a couple of rabbit holes trying to debug before I realized I should try restarting the tunnel. There was not actually a bug in my code. This caused me to lose time unnecessarily, and reduces the quality of my feedback loop as I try to test and debug. It is also just frustrating.\r\n\r\nThis happened maybe 10 times while I was developing. I was not able to reproduce it on command for this feedback submission, I apologize. \r\n\r\nTo address this issue for developers, perhaps you could either 1) look into why this is happening, or 2) mention in the Forge intro documentation that you should try re-starting your tunnel when debugging.\r\n\r\n*Expected*\r\n\r\nAll updates to code (except ones in the manifest.yml file) are reflected in your app / macro while tunnel is running, with a refresh of the page only.\r\n\r\n*Actual*\r\n\r\nSometimes updates are not rendered and you have to restart your tunnel for them to render.\r\n\r\n*Attachments*\r\n\r\n[None]."
61d42332f4d395ee22003718,368596,3600,"*Description/impact*\r\n\r\nRemove duplicate text in example Forge app tutorial “Part 2 of Build a Confluence hello world app: Call a Confluence API”, to avoid confusion and build trust.\r\n\r\nLink to tutorial: https://developer.atlassian.com/platform/forge/call-a-confluence-api/\r\n\r\nThis is a simple thing, but typos have a sneaky habit of eroding trust in the quality of something, and are especially frustrating when you are new to a technology like Forge and you are wanting to build your confidence through a smooth first exposure. When you’re trying to absorb every word, you don’t want your brain to be distracted by things other than getting up the learning curve of the new technology (this was me, at least).\r\n\r\n*Expected*\r\n\r\nInstructional text without unhelpful repetition.\r\n\r\n*Actual*\r\n\r\nDuplication of the sentence “you’ll also use a UI kit hook to get context information about the page the app is on”\r\n\r\n*Screenshots*\r\n\r\nScreenshot of duplicate text.\r\n\r\n !Screen Shot 2021-09-21 at 5.39.00 PM.png|thumbnail! \r\n"
61d42332f4d395ee2200371a,368589,144000,"*Description / impact*\r\n\r\nOn this tutorial page: [https://developer.atlassian.com/platform/forge/call-a-confluence-api/|http://example.com]\r\n\r\nI encountered this very early in learning Forge. This tutorial seems to be intended as an important step in getting new users of Forge up the learning curve, with everything working smoothly in a simple hello world app. When I ran forge lint —fix as instructed, the scopes did not automatically update as stated it would. I ended up adding the “read:confluence-content.summary” scope manually, and the app worked. Without knowing to update the scopes manually to fix the problem, my experience with this tutorial would have been unsuccessful, and discouraging.\r\n\r\n*Expected*\r\n\r\nThe CLI command forge  lint —fix detects that my api call requires the “read:confluence-content.summary” scope and updates my manifest.yml file automatically.\r\n\r\nThe “Call a Confluence API” instructions at this stage of the tutorial specifically say: “The forge lint command adds required scopes automatically to the manifest.yml file (in this case, read:confluence-content.summary).”\r\n\r\n*Actual*\r\n\r\nThe command forge lint —fix says “no issues found” and doesn’t update my manifest.yml. Therefore, I get an error when running tunnel with my console log of comments.length.\r\n\r\nWhen I manually install this scope, and re-run forge deploy > forge install —upgrade > forge tunnel, the app asks me to accept new permissions, and then works fine.\r\n\r\n*Attachments*\r\n\r\nScreen recording of initial deploy + install of the app, and running forge lint —fix, which doesn’t work.\r\n\r\n [^forge-lint-fix-doesnt-work-compressed.mp4] \r\n\r\nScreenshots of it working after I manually update the scopes (these screenshots were taken after I made the screen recording).\r\n\r\n !Screen Shot 2021-09-22 at 7.55.48 AM.png|thumbnail! \r\n !Screen Shot 2021-09-22 at 7.55.52 AM.png|thumbnail! \r\n !Screen Shot 2021-09-22 at 7.55.59 AM.png|thumbnail! \r\n !Screen Shot 2021-09-22 at 7.56.16 AM.png|thumbnail! \r\n !Screen Shot 2021-09-22 at 7.56.40 AM.png|thumbnail! \r\n !Screen Shot 2021-09-22 at 7.56.49 AM.png|thumbnail! "
61d42332f4d395ee2200373a,368445,28800,"The code example for the my-modal-resource.js at the bottom of the documentation page for the custom UI Modal page has the following snippet that needs to be changed\n\n[https://developer.atlassian.com/platform/forge/custom-ui-bridge/modal/#example|https://developer.atlassian.com/platform/forge/custom-ui-bridge/modal/#example|smart-link] \nimport \{ view } from '@forge/bridge';\n\nconst context = await view.getContext();\nconst customValue = context.modal.customKey;\n\nThis should be \nconst customValue = context.extension.modal.customKey;\n\nI inspected the context object and found that we need to destructure from the context.extension object instead of the context object. \nI am also attaching a screenshot that shows the stringified version of the Context object. \n\nWhile building our hackathon submission we weren't able to find a example application that focused entirely on the Custom UI Modal function, so we decided to write a blog and create a small project that does just that. I feel the medium article has many different actionable insights that can help improve the Custom UI Modal function documentation. \n\nMedium Article: [https://medium.com/@sarthakarora1208/how-to-build-complex-forge-apps-using-custom-ui-6616ac7f8603|https://medium.com/@sarthakarora1208/how-to-build-complex-forge-apps-using-custom-ui-6616ac7f8603]\n\nCode Repository: [https://github.com/sarthakarora1208/sample-crud-forge-app|https://github.com/sarthakarora1208/sample-crud-forge-app]"
61d42332f4d395ee22003760,367430,576000,"A forge app for e-signature is required in Confluence so that documents can be created and e-signed directly while editing confluence page by using Slash commands. \r\n\r\nThis will reduce the time spent in going to separate sites, creating a document, e-signing it, and then uploading to confluence.\r\n\r\n\r\n\r\n"
61d42332f4d395ee22003906,67385,43200,1. Move the useful code. Also change it to use atlassian-selenium. Look at the Page Object Model as well. Contact Jaie if needed.\n2. Remove functest-selenium-plugin.
61d424e7f4d395ee22003a36,73388,3600,"There are tests for RetryFunction and RetrySupplier, but not RetryTask. It needs its own tests in case the backing code changes."
61d424e7f4d395ee22003b63,186607,3600,"We’re customizing the search box with a Plugin. But the issue is not exactly with our customization.\r\n Please find the below points to have a clarity on the issue.\r\n\r\n1) After the 5.3 TO 5.8 update was any html id name got replaced? I mean to ask the technically was there any change in view main page search box id’s?\r\n\r\n2) We’ve used the mentioned ID in 5.3 version but now it’s not working as expected. That’s the reason we need to know the change in those id.\r\n\r\n3) While calling our JS script from plugin its throws error in that part confluence quick search add on\r\n\r\nPlease let us know the medium to have a call, so it could be resolved quicker."
61d424e7f4d395ee22003fc6,107174,28800,Update the Dynamic Macro rendering to call to the static macro fallback if supplied.
61d424e7f4d395ee22003fc7,107173,43200,Update the dynamic macro descriptor format to allow for a static macro fallback.
61d424e7f4d395ee22004119,331416,28800,"Icon added to the link button (`aui-button-link`) shows inappropriately the underline decoration on hover.\n\n*Steps to reproduce:*\n\n# Use `aui-button-link` and add some icon to it:\n\n{code:html}<button class=""aui-button aui-button-link"" resolved="""">\r\n    <span class=""aui-icon aui-icon-small aui-iconfont-chevron-left"">Go back</span>\r\n    Link button - go back\r\n</button>{code}\n\n*Expected behavior:*\nThe underline (on hover) is aligned across whole button\n\n*Current behavior:*\nThe underline is at different level for icon than for button label\n\n*Acceptance criteria:*\n\n* The change is tested in visual regression tests\n* The docs include example of button usage with icon"
61d424e7f4d395ee22004342,252554,86400,"When an async dropdown is rendering, it adds a loading spinner inside its body content. The position of this spinner is a bit misaligned; it's bleeding out of the dropdown container.\r\n\r\n !Screen Shot 2018-03-16 at 4.01.52 pm.png|thumbnail! \r\n\r\nLet's see if we can push it back inside the dropdown container."
61d424e7f4d395ee220043a0,249041,28800,"We have floating error in a pipeline, which appears on each second build.\r\n{noformat}1) clicking a dropdown item with the legacy 'interactive' class doesn't hide the dropdown\r\n     aui/dropdown2 without voiceover with new, accessible markup pattern and one dropdown which has 2 triggers with a link section, Items -\r\n     expected false to be true\r\nAssertionError@node_modules/chai/chai.js:5553:18\r\n[3]</module.exports/Assertion.prototype.assert@node_modules/chai/chai.js:206:13\r\n[5]</module.exports/<@node_modules/chai/chai.js:567:5\r\naddProperty@node_modules/chai/chai.js:4240:22\r\nsingleDropdownTests/</</<@.tmp/unit.js:34652:27{noformat}\r\nNeed to find out why it happens and fix it :)\r\n[Build example|https://bitbucket.org/atlassian/aui/addon/pipelines/home#!/results/%7B6d431e7d-8065-4a9e-ab94-2ed0e9ca3226%7D]\r\n\r\n"
61d424e7f4d395ee22004417,244120,14400,"Once AUI-4506 is completed, it will be possible for us to release alpha and beta versions via CI.\r\n\r\nThis story is about updating the plan template to:\r\n\r\n* Pass the appropriate input in to the {{aui-version}} binary,\r\n* Extracting the values {{aui-version}} spits out, and\r\n* Plugging those in to the {{build/bin/release-all.sh}} script.\r\n\r\nThe end result should be:\r\n\r\n* It is possible to release an alpha-X or beta-X version from the master branch of AUI.\r\n* It is possible to release an alpha-X or beta-X version from a branched build of AUI.\r\n* The ""latest"" tag in npmjs should *not* change when an alpha or beta release is made.\r\n* The ""alpha"" or ""beta"" tag in npmjs *should* change when a release is made... but only when it is made from the master branch!\r\n* If released from a branched build, the ""do-not-use"" tag in npmjs should be updated.\r\n\r\nOptionally, the ""do-not-use"" tag should be unpublished at the conclusion of the release process."
61d424e7f4d395ee22004418,244119,7200,"AUI has had a few versioning conventions for development preview releases over its lifetime.\r\n\r\nIn ancient times, they would have been called milestone releases. e.g., ""5.1.0-m01"".\r\n\r\nIn more recent times, they would have been ""test"" releases. e.g., ""0.0.0-5.1.0-SNAPSHOT-001-do-not-use"", or ""0.0.0-5.1.0-branchname-for-feature-test-001-do-not-use"".\r\n\r\nFor the development of AUI 7.x, we are releasing alpha and beta versions of AUI before final versions. e.g., ""7.1.0-alpha-3"", ""7.3.0-beta-1"", etc.\r\n\r\nThe [""aui-version"" package|https://bitbucket.org/atlassian/aui-version/src] has rules for accepting a branch name, a release type, and a few version parameters. It should be updated to support the alpha and beta release conventions. Unit tests *must* be written for these changes.\r\n\r\nThe end goal: an ability to pass values in to the {{build/bin/release-all.sh}} script from CI, such that alpha and beta releases can be built via CI. (This will be a separate story)."
61d424e7f4d395ee2200442a,243274,14400,"AUI ships a number of ""Loading Indicators"". This story is about adding the new ADG Server designs for progress bars to AUI.\r\n\r\nThe design change involves:\r\n\r\n# Updating the colours of our current progress bar.\r\n# Changing how the indeterminate progress bar is rendered; it should have a small line that animates through the full progress bar.\r\n# (Stretch goal) adding support for rendering a textual percentage of its progress.\r\n\r\nA primary restriction: we should not make changes to the component's markup pattern. Existing implementations must continue to work (e.g., we cannot tell people to start using <progress> instead of the current code). Some exceptions are listed below.\r\n\r\nThis story may be quite large; it should be broken down in to sub-tasks for:\r\n\r\n* Talking with the design team to determine what the correct visual treatment and animations should be. This may involve borrowing heavily from the ADG Cloud design and its implementation in Atlaskit.\r\n* We can consider replacing the inline style from the innermost span element with an attribute if that makes implementation easier.\r\n* Determine what ARIA attributes would need to be added to this component to make it accessible to screen readers.\r\n* If the web component story is completed (AUI-4508), we can audit the accessibility of the markup pattern, and automatically add aria attributes to the pattern to make it accessible. \r\n* One story for implementing the colour updates and animation changes to the component.\r\n"
61d424e7f4d395ee22004db1,82210,10800,"Currently the dialog-tip class doesn't apply a fixed or max width to the container, thus very long text will just push on the buttons container, forcing it to float.\r\n\r\nThis happens e.g. with the JIRA issue dialog in German.\r\n\r\nAs part of this ticket, we should remove the [temporary measures taken to make the link browser look decent in German for 5.0|https://stash.atlassian.com/projects/CONF/repos/confluence/pull-requests/620/overview]:\r\n{code}\r\nFrom link-browser.css:\r\n\r\n/* See CONFDEV-14467 - this can be removed when CONFDEV-12434 is implemented */\r\n#insert-link-dialog .dialog-tip {\r\n   overflow: hidden;\r\n   white-space: nowrap;\r\n   text-overflow: ellipsis;\r\n   width: 640px;\r\n}\r\n\r\nFrom link-browser.js:\r\n\r\n// See CONFDEV-14467 - this can be removed when CONFDEV-12434 is implemented\r\nvar $dialogTip = $('#' + dialogId + ' .dialog-tip');\r\n$dialogTip.attr('title', $dialogTip.text());\r\n{code}"
61d424e7f4d395ee22004e9b,75813,300,"The ""soy-resource"" module descriptor type is deprecated. Sadly, this is what AUI uses, so now whenever you use the latest atlassian-soy-renderer, you get the following message:\r\n\r\n{code}\r\n2013-05-09 19:31:30,281 localhost-startStop-1 WARN      [atlassian.soy.renderer.SoyResourceModuleDescriptor] soy-resource is deprecated. Please convert com.atlassian.auiplugin:aui-experimental-soy-templates to a web-resource and/or a soy-function\r\n{code}\r\n\r\nUpdate AUI to use a web-resource instead of a soy-resource, and all will be well."
61d424e7f4d395ee22004f1a,71746,57600,Needs:\r\n* watch for window resize with timeout\r\n* reflow/resize the active columns after resize\r\n* test to ensure state isn't lost (ie. edits don't get blatted)
61d424e7f4d395ee220050be,55541,300,"I see the jQuery version on this JIRA is 1.5.2.\n\njQuery 1.4 introduced the ""toggle"" switch on `toggleClass()`, allowing a Boolean to set whether the class is added or removed.\n\nInstead of inspecting the `current` variable and deciding whether to `addClass()` or `removeClass()`, it can be simply `toggleClass(""current"", current)` which also saves writing out ""current"" twice.\n\nPull Request: https://bitbucket.org/atlassian/aui-archive/pull-request/39/ajs-835-updated-ajssetcurrent\n"
61d424e7f4d395ee220050d2,56032,14400,"As discussed, Date Picker is no longer appearing in the right place since -[https://bitbucket.org/puxlit/aui-archive/changeset/7d7d07d55143]- [https://bitbucket.org/atlassian/aui-archive/pull-request/20/] even though the inline dialog test pages appear to be unaffected.\n\nResolve either with bugfix or by converting Date Picker to use Popover :)"
61d424e7f4d395ee220050dd,56012,108000,This component will supercede the InlineDialog component. The specifications for this component can be found [here|https://extranet.atlassian.com/display/AUI/Popover].
61d424e7f4d395ee220050fb,55963,1800,Add the following properties to the parent pom to remove the Mac Roman warning:\n<project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\n<project.reporting.outputEncoding>UTF-8</project.reporting.outputEncoding>
61d424e7f4d395ee220050fc,55957,1800,In order for the source distribution plugin to pick up the correct name for the tag of a release in AUI we need to add the property to the parent pom: <atlassian.release.scm.tag.prefix>auiplugin</atlassian.release.scm.tag.prefix>
61d424e7f4d395ee2200515b,321398,86400,Upgrade from 6.13 to 7.8.1 broke the SSL connector for my Active Directory Server. Re-followed the instructions  -> https://confluence.atlassian.com/conf613/configuring-an-ssl-connection-to-active-directory-964961186.html \r\nDid not fix the issue. Error Provided:\r\n\r\nConnection test failed. Response from the server:\r\nsynology.kjlz.familyds.net:636; nested exception is javax.naming.CommunicationException: synology.kjlz.familyds.net:636 [Root exception is javax.net.ssl.SSLException: Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty]\r\nIt could not be determined whether you chose to save or test. Please try again.\r\n\r\nThis started after the upgrade.
61d424e7f4d395ee2200515f,317832,3600,"Hey there atlassien folks, my first issue, letst see...\n\nWe use a German confluence instance at our company, and when editing articles i found that the naming of the buttons in the pop-up to edit links are confusing/not optimal, have a look at this:\n\n!image-2020-10-01-11-00-29-884.png|width=200,height=183!\n\n \n\nthere you've got two buttons (the left and the right one) with the naming\n\nVerknüpfung aufrufen (open link)\nand\nVerknüpfung aufheben (remove link)\n\nyou may can comprehend that it can be confusing when these two start with the syllable auf, also there are much better more commonly used by other software in the German tongue for such buttons:\n\nlike ""Verknüpfung öffnen"" (to open the link) \nand\n""Verknüpfung entfernen"" (to remove the link)\n\nso if you find time you may change this in a future confluence version\n\nthanks and keep up the good work\n\nps: hope i did the issue right 😉"
61d424e7f4d395ee220051d4,257879,3600,"I purchased a starter license for Jira Software, but when the final screen said ""Apply license to localhost:2990"", I clicked that, but the connection failed. Yet, JIra Software is running on my machine, in its default configuration - I had just installed it, and it completed the startup without errors and the UI works."
61d424e7f4d395ee2200529a,131521,86400,"The plan is to create a function to either parse through the application.xml or by querying the application directly to gather information about its environment.\r\n\r\nThe 'Environment' field is seldom used in SAC, and support has to download a support zip or ask for the information to get an idea of the customer's environment. If we add this functionality, the environment variables (OS, database type, home/install directories, etc.) will all be much more accessible just by looking at the ticket."
61d424e7f4d395ee220052a1,129989,3600,"h3. Summary\r\nThe Support Tools plugins which check some DB parameters has a mislabelled parameter name.\r\n\r\n""max_allowed_packets"" should be written as ""max_allowed_packet"". \r\n\r\nAlso, the label ""Max Allowed Packets"" should be named ""Max Allowed Packet"" to match the db parameter name\r\n\r\nh3. Environment\r\n\r\nh3. Steps to Reproduce\r\n# Set up an Instance using MySQL Server\r\n# Observe the error in the labels\r\n\r\nh3. Expected Results\r\nCorrect labelling of the property\r\n\r\nh3. Actual Results\r\nIncorrect labeling of the property, with an incorrect pluralisation of the property.\r\n\r\nh3. Notes\r\nmax_allowed_packet is a size, pluralisation might indicate that the limit is on the number of packets that can be sent. "
61d424e7f4d395ee220052d9,97246,7200,"In Confluence 5.6 onwards, Confluence will be responsible for displaying the license banner messages.\r\n\r\nThis is copying the approach used by JIRA 6.3+, to move the license banner to be native.\r\n\r\nThe only change is to modify {{com.atlassian.support.tools.salext.license.IsSupportedApplicationConditionChecker}} to not display the license banner on Confluence 5.6+ onwards.\r\n"
61d424e7f4d395ee22005381,50094,7200,"The imported version range for velocity is 1.6.2, which is more strict than the velocity 1.6.2 bundle itself.  This means if installed on an application that exports 1.6.1, the velocity 1.6.2 bundle will bind to it and not itself.  Then, when the template renderer starts, it won't have a 1.6.2 to bind to.\n\nTherefore, unless there is a specific bug or feature in 1.6.2, we should let it require 1.6 or later."
61d424e7f4d395ee22005382,50110,3600,"If the spring host component file already exists, the plugin system won't scan the jar to try to create it, improving the performance"
61d424e7f4d395ee22005386,50113,14400,This is a blocker for EMBCWD-388. This is required because Spring's dependency on Velocity is not wired in OSGi land at JIRA start-up and we need to rip velocity out of ATR and bundle it separately. See BUNDLES-9.\n\nThere is a brief write up of the overall task by Matt Ryall [here | https://studio.atlassian.com/wiki/display/EMBCWD/Getting+UI+plugin+into+JIRA]
61d424e7f4d395ee2200538c,50128,10800,"This is a class that escapes string for use in inline JavaScript code. It, unlike existing similar utilities, handles the special case where the script contains the string ""</script>"" (which would normally end the script abruptly in an inline script) by escaping all < characters as \u003c\n\nSee https://studio.atlassian.com/source/cru/CR-AG-789#c11376"
61d424e7f4d395ee22005391,50095,7200,"Without JavaDocs, it will be hard for plugin developers to use this."
61d424e7f4d395ee22005665,57402,57600,"Currently there isn't a way for a product to know if the remote machine supports 2LO so we don't know when to create 2LO or 3LO requests. The short term solution is to introduce a new UI for turning on outgoing 2LO requests.\r\n\r\nThere are 2 modes of 2LO:-\r\n- standard\r\n- with impersonation\r\n\r\nTo make it easy for customers, it would be nice if the config screen helps detect if 2LO is on on the other side by actually trying to make a request and tell user if the options should be on or off."
61d424e7f4d395ee22005669,57229,86400,"Currently in order to create a 2LO request, the client has to be hand-rolled. We should add another ApplicationLinkRequestFactory implementation which automatically sets up 2LO headers just like other authentication modes. This will greatly help dev experience."
61d424e7f4d395ee2200566a,57228,57600,"We want to make 2LO option in AppLink UI available for admins however:-\r\n1. no arbitrary impersonation mode\r\n2. the ""execute as"" user cannot be sysadmin if the user is admin"
61d424e7f4d395ee22005670,57016,14400,Check the attached screenshot. I verified with JIRA 4.4.2 and its working perfectly fine there.
61d424e7f4d395ee22005671,57012,57600,It would be the best if we do not leak and topology information on OnDemand. This means any UI or REST that leak the rpcurl at admin level would be bad. This concern mainly came from OnDemand.\r\n\r\nREST also needs to be fixed.\r\n\r\nNot sure how the solution will work out yet.
61d424e7f4d395ee22005672,56911,86400,as this option seems to be better user-friendly after discussion between RotP and OnDemand team.
61d424e7f4d395ee22005674,56896,14400,I think each product defines its own AppLink administration link so we have to go through and fix each product.
61d424e7f4d395ee22005677,56517,86400,These tests are flaky:-\r\nAdminServletVisibilityTest verifyAdminCannotSeeSysadminOnlyServlet\r\nApplicationLinkIncomingAuthenticationTest twoLeggedOAuthCannotBeEnabledIfUserIsNotSupplied\r\nApplicationLinkIncomingAuthenticationTest incomingAuthenticationShowsConfiguredAuthenticationMethods\r\nXsrfProtectionTest testXsrfForIncomingTrustedApplication\r\nTwoLOOAuthConfigurationTest testEnabling2LO
61d424e7f4d395ee2200567c,54114,115200,"The UI should report clearly when certain operations are not allowed. A known problem is that the wizard allows user to select Trusted App in the wizard but after ""create"", Trusted App is not available.\r\n\r\nThis scenario will be very common as customers creating links to OnDemand."
61d424e7f4d395ee2200567e,54112,86400,This will be achieved by introducing a base class which checks if the current user is a sysadmin similar to the existing AbstractAppLinksAdminOnlyServlet.
61d424e7f4d395ee22005680,53543,57600,All servlet intended for sysadmin only such as TrustedAppServlet and some REST resources should not be accessible through direct url. We need to perform access check appropriately.\r\n\r\nPlease note that AppLink has a mechanism similar to WebSudo built-in which seems to somewhat complicate this work.\r\n\r\nREST resources such as ApplicationLinkResource that have POST/PUT also have to be protected.
61d424e7f4d395ee22005681,53402,57600,Consider implementing Permanent oauth tokens. When a user does a dance one - we persist that indefinitely. A user can revoke their tokens from their profile screen. 
61d424e7f4d395ee22005683,53376,57600,1. The 2LO configuration section in OAuth configuration tab should be invisible if the user is not system admin.\r\n2. The 2LO configuration for manual OAuth configuration screen should be invisible if the user is not system admin.
61d424e7f4d395ee22005684,53375,57600,"We will introduce a ""system"" flag for application links. The flag can be set during link creation from the API. The links having this flag on will only be retrievable from the API only if the executing user is a sysadmin."
61d424e7f4d395ee22005685,53374,86400,"The link creation wizard must only allow ""non-shared user base"" and ""non-trusted"" option for admin. The full version should only be available to sysadmin.\r\n\r\nThis will prevent admin from creating Trusted App'ed application links."
61d424e7f4d395ee22005686,53373,57600,Trusted App gives unlimited power to linked applications. It is a security risk if an admin can configure a Trusted App link and then use it as a way to gain sysadmin privileges. We have to disable the Trusted App configuration tab for both incoming/outgoing configuration. Disable for this task only means hiding the links. Preventing direct url access will be done in APL-890
61d424e7f4d395ee22005687,53372,57600,"Currently Applink Plugin only allows sysadmin to configure. We now want to allow admin to configure the links as well.\r\n\r\nPractically, this task should involve converting UserManager.isSystemAdmin() to UserManager.isAdmin().\r\n\r\nPlease look in both servlet base classes and Rest"
61d424e7f4d395ee2200568e,52326,86400,"RemoteApps requires scope protections not only for OAuth but also for other kinds of requests. For example, the local call proxy mechanism which allows iframe of remote instance to call local API through local iframe will have to be scoped protected.\r\n\r\nThis means we need to be able to associate scope configuration with each application link and ApiScopingFilter should operate at Applink level instead of merely OAuth.\r\n"
61d424e7f4d395ee22005697,48578,64800,This will be used mainly for tests at this stage but it will also allow better future integration.
61d424e7f4d395ee22005698,48577,64800,"Need these options:-\r\n\r\nTurn on/off incoming 2LO OAuth\r\n""Execute as"" when 2LO operates in non-impersonation mode\r\nTurn on/off incoming 2LO impersonation mode\r\nThe save operation will have to also consult OAuthConfigurator.\r\n\r\nPlease note that it will have to refresh correctly after save since older version of Atlassian OAuth may not understand 2LO."
61d424e7f4d395ee22005699,48576,86400,"Need these options:-\r\n- Turn on/off incoming 2LO OAuth\r\n- ""Execute as"" when 2LO operates in non-impersonation mode\r\n- Turn on/off incoming 2LO impersonation mode\r\n\r\nThe save operation will have to also consult OAuthConfigurator."
61d424e7f4d395ee220056ce,43524,3600,Should use the new AJS.contextPath() introduced in AUI 3.5 wherever possible.\n\nLook for other usages of AJS.params.contextPath.
61d424e7f4d395ee22005700,40597,32400,"The word impersonating feels so wrong here, because the user is doing it as a system wide account (impersonating that account). This would require the OAuth dance to be done by the admin when the authentication is configured.\n\nDescription taken from: [APL-718|https://studio.atlassian.com/browse/APL-718]"
61d424e7f4d395ee22005701,40496,14400,"1. Set up OAuth applink from app X to app Y\n2. Initiate OAuth dance from X; login & authorize on Y\n - Applink is now usable from X\n3. Go to OAuth Access Tokens page on Y and revoke the token\n\nDesired result: Applink on X is back to the original unauthorized state.\nActual result: X believes the applink is usable, tries to make a request, gets a 401 error.\n\nI think this means that either the OAuth plugin on Y is not properly notifying the OAuth plugin on X about the token deletion, or the UAL plugin on X is not being notified by the OAuth plugin on X, or both.\n\nThis was tested by running instances of Refapp (X) and JIRA (Y) from the applinks-tests module, and using the /applinks/applinks-tests/auth-test-iframe servlet to start the OAuth dance."
61d424e7f4d395ee22005702,40402,43200,"The new Applinks/OAuth behavior added in APL-741 is currently difficult to test, except manually by running two actual products and Activity Streams. Two things would be helpful:\n1. A test servlet that shows the authorization state of OAuth-based applinks and lets the user kick off the authentication flow, either inside or outside of an iframe. This could be run within refapp.\n2. Integration tests for the authentication flow, which would probably use that test servlet."
61d424e7f4d395ee22005711,39539,21600,"1. Set up a 2-way OAuth applink\n2. Do something on one end that requires authentication - click the authenticate link\n3. OAuth dance opens in new window\n4. Click ""Deny Access""\n\nExpected: Either the window should just close, or a confirmation message should appear.\nWhat happened: A red error box appears on an otherwise blank page:\n\n  Authentication failed!\n  An error occurred when trying to obtain an access token. For application link ""Your Company JIRA (ec5a3b5c-fead-380a-8db5-3990a4039d3c) http://localhost:2990/streams com.atlassian.applinks.application.jira.JiraApplicationTypeImpl@620d3d6c"". Problem: ""permission_denied"" \n\n\nI've tested this with Confluence and JIRA in both directions."
61d424e7f4d395ee22005717,39440,21600,"The listApplicationLinks servlet is not redirecting to the login page when WebSudo forces a login. Instead it redirects to itself, causing and endless number of page refreshes.\n\nThe first time I bring up the main applinks admin page in Confluence, I get a red warning message at the top of the page: ""This resource requires WebSudo"" - and then the page refreshes, again and again and again.\n\nIf I go to any *other* admin area that requires WebSudo, it gives me the usual ""Administrator Access"" login page. After I log in, I can then go back to the applinks page and it works as expected.\n\nStrangely, I can't reproduce this problem in JIRA. But it doesn't affect any other admin pages, so I'm thinking it's not just a Confluence bug."
61d424e7f4d395ee2200572b,38099,216000,"In [Streams 5|https://studio.atlassian.com/wiki/display/STRM/Streams+5-+UAL+Conversion+Func+Spec] we will be using the new UAL version of applinks.  One thing that is in the spec is for a configuration option to disable streams from using specific applinks.  Rather than do this in Streams and create a whole admin UI just for that configuration, it would make sense if the applinks admin UI had a way for admins to manage services that will use specific application links.  So, if a JIRA admin doesn't want streams to retrieve activity from a Fisheye instance - maybe it's an old version of Fisheye without the latest Streams - they can disable it in the configuration for that applink.\r\n\r\nImplementation wise, this will require applinks to be able to ""discover"" services that use application links.  This can be a pretty simple plugin module type providing basic information like a name, description and icon. The complete module key of this module is how applinks can track whether it is enabled for particular links.  Applinks should provide a way for clients to determine if an applink is enabled for them.  The applinks client should also be required to pass along a key, or something containing the key, to applinks when making a request."
61d424e7f4d395ee22005754,35403,3600,"https://skitch.com/bwoskow/r1twk/manage-links-for-proj-plan-atlassian-bamboo\n\nSeen on the Entity Type servlet page. For example, http://localhost:9087/bamboo/plugins/servlet/applinks/listEntityLinks/com.atlassian.applinks.api.application.bamboo.BambooPlanEntityType/PROJ-PLAN"
61d424e7f4d395ee2200575e,35121,10800,Release applinks 3.3 from the 3.3.x branch.
61d424e7f4d395ee22005761,35076,10800,"Create a generic application link and enable incoming OAuth authentication.\n\nClicking 'delete' for the authentication causes this error:\n\n> Error: appLinksI18n is not defined\n\nAt oauth-auth/rest-service.js, line: 544\n\nand the authentication is not removed."
61d424e7f4d395ee22005765,34877,64800,"From http://jira.atlassian.com/browse/CONFDEV-3031\n\nFor the dialog to work, the the admin user needs to add urls to the trusted app configuration - this goes against the idea of the simple wizard which does all the config for you automatically."
61d424e7f4d395ee22005792,34496,14400,Please see https://jdog.atlassian.com/browse/JRADEV-4604 for details
61d424e7f4d395ee2200579b,34370,14400,"I am trying to create an Application Link and configure it with OAuth. In the reciprocal link URL, I have used a non-fully qualified domain name, and AppLinks tells me that the remote application is unable to connect using that URL. Good.\n\nHowever, once I fix the link it tells me ""Unable to reach the other application to determine if you have admin rights to create an application link"", which is wrong, since it has to have reached the application in order to determine that my hostname was wrong in the first place.\n\nScreenshots:\n\n!applinks_1.png|thumbnail!\n!applinks_2.png|thumbnail!\n!applinks_3.png|thumbnail!"
61d424e7f4d395ee2200579c,34329,21600,"This is the minimum supported res for JIRA. Users can't get to the ""Update"" and ""Close"" buttons.\n\nIn addition:\n\n- The dialog needs to scale such that when the content within the dialog is larger than the users viewport it does not simply clip content and stop the user completing/submitting the form\n- The dialog needs to scale to incorporate any error messaging\n- Images within the dialog need to be appropriately aligned in each use case.\n"
61d424e7f4d395ee220057a4,34215,7200,I deferred writing unit tests for APL-564 in order to get functionality out the door for the deadline.  This is a reminder to write them.
61d424e7f4d395ee220057a6,34184,7200,"1) In Confluence 3.4.1, create a trusted apps link. Configure it with two IP addresses and separate them with line breaks.\n2) Export the data.\n3) Import the data into Confluence 3.5.\n4) Navigate to /admin/listapplicationlinks.action\n\nThe page does not render and it gives an error. It's trying to parse the two IP addresses as one.\n\n{noformat}\norg.apache.velocity.exception.MethodInvocationException: Invocation of method 'getOrphanedTrustCertificates' in  class\n com.atlassian.applinks.ui.velocity.ListApplicationLinksContext threw exception\n com.atlassian.security.auth.trustedapps.IPAddressFormatException: \n""172.20.9.194192.168.1.1"" does not represent a valid IP address. \nat com/atlassian/applinks/ui/admin/list_application_links.vm[line 64, column 20]\n	at org.apache.velocity.runtime.parser.node.ASTIdentifier.execute(ASTIdentifier.java:223)\n	at org.apache.velocity.runtime.parser.node.ASTReference.execute(ASTReference.java:252)\n	at org.apache.velocity.runtime.parser.node.ASTReference.evaluate(ASTReference.java:460)\n	at org.apache.velocity.runtime.parser.node.ASTNotNode.evaluate(ASTNotNode.java:63)\n	at org.apache.velocity.runtime.parser.node.ASTExpression.evaluate(ASTExpression.java:62)\n	at org.apache.velocity.runtime.parser.node.ASTIfStatement.render(ASTIfStatement.java:85)\n	at org.apache.velocity.runtime.parser.node.SimpleNode.render(SimpleNode.java:336)\n	at org.apache.velocity.runtime.directive.Parse.render(Parse.java:260)\n	at org.apache.velocity.runtime.parser.node.ASTDirective.render(ASTDirective.java:175)\n	at org.apache.velocity.runtime.parser.node.SimpleNode.render(SimpleNode.java:336)\n	at org.apache.velocity.Template.merge(Template.java:328)\n	at org.apache.velocity.Template.merge(Template.java:235)\n	at com.opensymphony.webwork.dispatcher.VelocityResult.doExecute(VelocityResult.java:91)\n	at com.atlassian.xwork.results.ProfiledVelocityResult.doExecute(ProfiledVelocityResult.java:21)\n	at com.opensymphony.webwork.dispatcher.WebWorkResultSupport.execute(WebWorkResultSupport.java:116)\n	at com.opensymphony.xwork.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:263)\n	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:187)\n	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:35)\n	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\n	at com.atlassian.confluence.util.LoggingContextInterceptor.intercept(LoggingContextInterceptor.java:49)\n	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\n	at com.atlassian.confluence.core.CancellingInterceptor.intercept(CancellingInterceptor.java:23)\n	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\n	at com.atlassian.confluence.security.websudo.WebSudoInterceptor.intercept(WebSudoInterceptor.java:63)\n	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\n	at com.atlassian.confluence.security.actions.PermissionCheckInterceptor.intercept(PermissionCheckInterceptor.java:57)\n	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\n	at com.atlassian.confluence.setup.webwork.BootstrapAwareInterceptor.intercept(BootstrapAwareInterceptor.java:26)\n	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\n	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:35)\n	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\n	at com.atlassian.confluence.user.actions.UserAwareInterceptor.intercept(UserAwareInterceptor.java:58)\n	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\n	at com.atlassian.confluence.pages.actions.CommentAwareInterceptor.intercept(CommentAwareInterceptor.java:43)\n	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\n	at com.atlassian.confluence.pages.actions.PageAwareInterceptor.intercept(PageAwareInterceptor.java:106)\n	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\n	at com.atlassian.confluence.spaces.actions.SpaceAwareInterceptor.intercept(SpaceAwareInterceptor.java:68)\n	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\n	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:35)\n	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\n	at com.atlassian.confluence.core.actions.LastModifiedInterceptor.intercept(LastModifiedInterceptor.java:38)\n	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\n	at com.atlassian.confluence.core.ConfluenceAutowireInterceptor.intercept(ConfluenceAutowireInterceptor.java:38)\n	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\n	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:35)\n	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\n	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:35)\n	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\n	at com.atlassian.xwork.interceptors.TransactionalInvocation.invokeAndHandleExceptions(TransactionalInvocation.java:72)\n	at com.atlassian.xwork.interceptors.TransactionalInvocation.invokeInTransaction(TransactionalInvocation.java:59)\n	at com.atlassian.xwork.interceptors.XWorkTransactionInterceptor.intercept(XWorkTransactionInterceptor.java:56)\n	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\n	at com.atlassian.confluence.xwork.SetupIncompleteInterceptor.intercept(SetupIncompleteInterceptor.java:40)\n	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\n	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:35)\n	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:165)\n	at com.opensymphony.xwork.DefaultActionProxy.execute(DefaultActionProxy.java:115)\n	at com.atlassian.confluence.servlet.ConfluenceServletDispatcher.serviceAction(ConfluenceServletDispatcher.java:53)\n	at com.opensymphony.webwork.dispatcher.ServletDispatcher.service(ServletDispatcher.java:199)\n	at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n	at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:25)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.confluence.security.websudo.MessagesDecoratorFilter.doFilter(MessagesDecoratorFilter.java:49)\n	at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)\n	at com.atlassian.confluence.util.profiling.ProfilingPageFilter.parsePage(ProfilingPageFilter.java:84)\n	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:54)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.confluence.jmx.JmxFilter.doFilter(JmxFilter.java:106)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.core.filters.ServletContextThreadLocalFilter.doFilter(ServletContextThreadLocalFilter.java:19)\n	at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.confluence.util.LoggingContextFilter.doFilter(LoggingContextFilter.java:40)\n	at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.confluence.web.filter.ThreadLocalCacheFilter.doFilter(ThreadLocalCacheFilter.java:22)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.confluence.util.UserThreadLocalFilter.doFilter(UserThreadLocalFilter.java:44)\n	at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.seraph.filter.SecurityFilter.doFilter(SecurityFilter.java:213)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:98)\n	at com.atlassian.confluence.util.AbstractBootstrapHotSwappingFilter.doFilter(AbstractBootstrapHotSwappingFilter.java:30)\n	at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.seraph.filter.BaseLoginFilter.doFilter(BaseLoginFilter.java:144)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n	at com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:69)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.confluence.util.ClusterHeaderFilter.doFilter(ClusterHeaderFilter.java:34)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.johnson.filters.AbstractJohnsonFilter.doFilter(AbstractJohnsonFilter.java:72)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at org.springframework.orm.hibernate.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:170)\n	at com.atlassian.spring.filter.FlushingSpringSessionInViewFilter.doFilterInternal(FlushingSpringSessionInViewFilter.java:29)\n	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:75)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.confluence.util.ConfluenceErrorFilter.doFilter(ConfluenceErrorFilter.java:22)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.util.profiling.filters.ProfilingFilter.doFilter(ProfilingFilter.java:99)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.confluence.core.datetime.RequestTimeThreadLocalFilter.doFilter(RequestTimeThreadLocalFilter.java:35)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.gzipfilter.GzipFilter.doFilterInternal(GzipFilter.java:81)\n	at com.atlassian.gzipfilter.GzipFilter.doFilter(GzipFilter.java:51)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.core.filters.cache.AbstractCachingFilter.doFilter(AbstractCachingFilter.java:33)\n	at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n	at com.atlassian.confluence.extra.webdav.servlet.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:43)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.confluence.web.filter.validateparam.RequestParamValidationFilter.doFilter(RequestParamValidationFilter.java:58)\n	at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.confluence.plugin.servlet.filter.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:71)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.confluence.web.filter.LanguageExtractionFilter.doFilter(LanguageExtractionFilter.java:61)\n	at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.confluence.util.RequestCacheThreadLocalFilter.doFilter(RequestCacheThreadLocalFilter.java:25)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.core.filters.encoding.AbstractEncodingFilter.doFilter(AbstractEncodingFilter.java:41)\n	at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.core.filters.HeaderSanitisingFilter.doFilter(HeaderSanitisingFilter.java:44)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.confluence.servlet.FourOhFourErrorLoggingFilter.doFilter(FourOhFourErrorLoggingFilter.java:65)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\n	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\n	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\n	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\n	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:555)\n	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:298)\n	at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:852)\n	at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)\n	at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)\n	at java.lang.Thread.run(Thread.java:619)\nCaused by: com.atlassian.security.auth.trustedapps.IPAddressFormatException: ""172.20.9.194192.168.1.1"" does not represent a valid IP address.\n	at com.atlassian.security.auth.trustedapps.DefaultIPMatcher.parsePatternString(DefaultIPMatcher.java:77)\n	at com.atlassian.security.auth.trustedapps.RequestConditions$RulesBuilder.addIPPattern(RequestConditions.java:45)\n	at com.atlassian.confluence.security.trust.ConfluenceTrustedApplication.toDefaultTrustedApplication(ConfluenceTrustedApplication.java:149)\n	at com.atlassian.confluence.security.trust.DefaultTrustedApplicationsManager$1.apply(DefaultTrustedApplicationsManager.java:319)\n	at com.atlassian.confluence.security.trust.DefaultTrustedApplicationsManager$1.apply(DefaultTrustedApplicationsManager.java:312)\n	at com.google.common.collect.Iterators$8.next(Iterators.java:690)\n	at com.atlassian.applinks.core.auth.trusted.TrustedAppsOrphanedTrustDetector.findOrphanedTrustCertificates(TrustedAppsOrphanedTrustDetector.java:49)\n	at com.atlassian.applinks.core.auth.DelegatingOrphanedTrustDetector.findOrphanedTrustCertificates(DelegatingOrphanedTrustDetector.java:29)\n	at com.atlassian.applinks.ui.velocity.ListApplicationLinksContext.getOrphanedTrustCertificates(ListApplicationLinksContext.java:116)\n	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n	at java.lang.reflect.Method.invoke(Method.java:597)\n	at org.apache.velocity.runtime.parser.node.PropertyExecutor.execute(PropertyExecutor.java:142)\n	at org.apache.velocity.util.introspection.UberspectImpl$VelGetterImpl.invoke(UberspectImpl.java:533)\n	at org.apache.velocity.runtime.parser.node.ASTIdentifier.execute(ASTIdentifier.java:198)\n	... 195 more\n{noformat}"
61d424e7f4d395ee220057ad,34071,21600,"In Safari and Chrome, if you click-drag off the right edge of a UAL dialog (as Penny did by mistake while selecting text), the whole dialog scrolls to the right and obscures the content.\n\nVideo:\nhttp://screencast.com/t/wBXnf0Jr7KR\n"
61d424e7f4d395ee220057b0,34068,21600,"This is the minimum supported res for JIRA. Users can't get to the ""Update"" and ""Close"" buttons."
61d424e7f4d395ee220057b2,34066,60,"When you go to an empty UAL config screen, there is a message saying ""There are no Application Links configured. Click here to add one."". In IE7 and IE8, the second half of the message (the link) is missing.\n\n"
61d424e7f4d395ee220057b9,34000,14400,The application logos overlap each other. See screenshot.
61d424e7f4d395ee220057bb,33983,14400,"When I access a server through the localhost hostname, and then try to create a bidirectional link to an application running on another host, UAL fails to configure trusted apps correctly (even if I put the FQDN in the ""reciprocal url"" text field).\n\nIf I then try to configure it manually in the app link configuration, I get some kind of ConnectException.\n"
61d424e7f4d395ee220057be,33891,21600,"After upgrading Confluence to applinks 3.1.1-alpha5, I couldn't get refapp 2.8.8 to link properly.\n\nWhen I tried to setup an EntityLink I get\n\n{noformat}\n[WARNING] [talledLocalContainer] Jan 13, 2011 11:32:05 AM com.sun.jersey.server.impl.application.WebApplicationImpl onException\n[WARNING] [talledLocalContainer] SEVERE: Internal server error\n[WARNING] [talledLocalContainer] java.lang.ClassCastException: org.json.JSONObject$Null cannot be cast to java.lang.String\n[WARNING] [talledLocalContainer] 	at com.atlassian.applinks.core.DefaultEntityLinkService.nullSafe(DefaultEntityLinkService.java:435)\n[WARNING] [talledLocalContainer] 	at com.atlassian.applinks.core.DefaultEntityLinkService.nullSafeUri(DefaultEntityLinkService.java:418)\n[WARNING] [talledLocalContainer] 	at com.atlassian.applinks.core.DefaultEntityLinkService.getStoredEntityLinks(DefaultEntityLinkService.java:357)\n[WARNING] [talledLocalContainer] 	at com.atlassian.applinks.core.DefaultEntityLinkService.getEntityLinksForKey(DefaultEntityLinkService.java:483)\n[WARNING] [talledLocalContainer] 	at com.atlassian.applinks.core.rest.EntityLinkResource.getEntityLinks(EntityLinkResource.java:133)\n{noformat}"
61d424e7f4d395ee220057c2,33876,21600,"Frequently, but not reliably, the OAuth tab of the UAL configuration dialog gets completely broken in IE. That is, it has no buttons, the layout of the page is wrong, and there are stars scattered across it.\n\nThis usually happens when I am switching between the tabs of the dialog.\n\nIf you cannot reproduce it, please ask me for assistance rather than closing as ""No Repro""."
61d424e7f4d395ee220057c3,33875,43200,"The UAL dialog information gets out of date in IE, showing incorrect operations that cause errors if you attempt them.\n\ne.g. If incoming authentication is configured as OAuth...\n1) In IE (7 or 8), click ""configure"" for the applink.\n2) Go to incoming authentication -> OAuth and click ""Disable"".\n3) Wait for the Ajax request to complete.\n4) Click on ""outgoing"" and then back to ""incoming"".\n\nThe screen incorrectly shows that OAuth is enabled.\n\n5) Click ""Disable"" again.\n\nUAL gets very unhappy."
61d424e7f4d395ee220057c4,33874,14400,"1) Set up a bunch of Trusted App/OAuth relationships (more than 5)\n2) Open the ""Legacy Trust Relationships"" dialog in IE7.\n\nThe content falls off the bottom and doesn't scroll when you move the scrollbar."
61d424e7f4d395ee220057cb,33513,43200,"the only clue as to what is going wrong is this warning in the logs:\n\n{noformat}2010-12-21 17:18:39,320 WARN  [btpool0-7] com.atlassian.applinks.ui.ListEntityLinksServlet com.atlassian.applinks.ui.AbstractApplinksServlet-service - Unable to serve page: \n""/fisheye/plugins/servlet/applinks/listEntityLinks/com.atlassian.applinks.api.application.fecru.FishEyeCrucibleProjectEntityType/"": \ncom.atlassian.applinks.ui.AbstractApplinksServlet$BadRequestException: Servlet URL should be of form /listEntityLinks/{entity-type}/{entity-key}{noformat}\n\nit was found in this support case: https://support.atlassian.com/browse/FSH-4897\n\n\noriginal description: \n{quote}When click ""delete"" button,the confirmation window could pop up. But after click ""Confirm"" button nothing happened and the confirm button \nwill become gray and unclickable.Then in the left bottom corner of the brower will show up ""Error"" on the page. So I have to click ""Cancel"" to \nquit that confirm window and the existing application link is still on the list.\nWhen click on the error on the left bottom corner and view the details, it says:\n\nWebpage error details.\nUser Agent: Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; WOW64; Trident/4.0; SLCC2; .NET CLR 2.0.50727)\nTimestamp: Mon, 13 Dec 2010 05:32:06 UTC\nMessage: Syntax error\nLine: 202\nChar: 9\nCode: 0\nURI: https://uat.atlassian/fisheye/static/lch0qi/concat.aui.e34ce60007fafe8fdec757aeca549e40.cache.js\n\nAnd the same case happened when try to add link between fisheye project and jira projects under ""Projects Settings - project""in the left menu.\n\nSo I enable the debug concole(I am using IE8) and finally found out the error come from the following code:\n\nreturn window.JSON && window.JSON.parse ? window.JSON.parse(data):(new Function(""return "" + data))();{quote}\n\nwhat this means is that the response from applinks is supposed to be JSON, but its not.\n\njira version was 4.2\nfe version was 2.4.3\n\nI was not able to reproduce it."
61d424e7f4d395ee220057e2,32526,14400,* branch off 3.1.x\n* move trunk to 2.x\n* move applinks-3.0 branch to trunk
61d424e7f4d395ee22005801,31591,7200,"fecru ships with SAL 2.2.0, which has an extra method added to the {{Request}} interface. It is crucial APL also upgrades to this newer version of SAL and implements this new method."
61d424e7f4d395ee2200580f,31499,7200,Can't create issue from Review - using 3.13 - sub tasks enabled - review is linked to a JIRA issue http://skitch.com/felixschmitz/d48k8/cr-1-under-review
61d424e7f4d395ee22005813,31495,10800,BUG: cant create subtask because the inline dialog is screwed (FF) http://img.skitch.com/20101007-fu3breds7q8tqu8j1cty6bdwx2.png
61d424e7f4d395ee2200581e,31484,21600,MINOR: should trim names - http://img.skitch.com/20101007-1dm1tmpc3583betxccmca3t8sf.jpg
61d424e7f4d395ee22005826,31476,10800,"http://img.skitch.com/20101007-nc7sp9x2x3ffjcdeqdqrc9mhek.jpg options remembered accross applink being removed/re-added\n\nWhilst this looks like a minor side effect, this is critical if it means underlying properties associated with Application Links are being persisted across application link deletion"
61d424e7f4d395ee2200582e,31468,3600,"BUG: When linking to a fisheye repo, the success banner shows an empty applink name http://img.skitch.com/20101007-nd1qswtsahcnef5spgbwa516wn.jpg"
61d424e7f4d395ee22005836,31459,10800,UPER-MINOR: space is part of href http://img.skitch.com/20101007-n6i3u27pejftihi64esgrddugq.jpg
61d424e7f4d395ee2200583c,31453,21600,There isn't a way to test my BASIC auth credentials http://img.skitch.com/20101007-ja366a6wcsc9cq7ir98h8jheqm.jpg
61d424e7f4d395ee2200583d,31452,3600,MINOR: unnecessary scrollbar http://img.skitch.com/20101007-bptfapu2k3gpw9rj88pg4abm9u.jpg
61d424e7f4d395ee22005840,31449,3600,BUG: Help link goes to a 404ing cac page http://img.skitch.com/20101007-ru7hye2enwn56eb65g94peqcyn.jpg
61d424e7f4d395ee22005841,31448,3600,"BUG: Two ""configure auth"" links http://img.skitch.com/20101007-pniigsiyeeajcs6yqwxb2cf3j1.jpg\n http://img.skitch.com/20101007-88t4bs77b5bfyafqepi3fmth2t.jpg"
61d424e7f4d395ee22005842,31447,3600,"BUG: I can give a new app link a name with only spaces, and it validates"
61d424e7f4d395ee22005843,31446,3600,"What does ""application name"" mean? Is that a pretty name that I'm going to be giving the link? Should it be ""JIRA"" or ""Public JAC instance"" for example? maybe that could be clearer? http://img.skitch.com/20101006-cggdk1enwash7kn9tddnh24xu1.jpg\n\n\neb: Okay, i would rename it to ""Name""\n11:00:12 AM purecrafty: seb: Like so: http://img.skitch.com/20101006-ff6rahdxjg3er8tty5c3pq5x1k.jpg http://img.skitch.com/20101007-i3w9gnt7ry9ju5xb5i7bh1htm.jpg"
61d424e7f4d395ee22005844,31445,3600,Deleting an app link pluralisation is incorrect http://img.skitch.com/20101006-eq3rmyb4rgdb3abm85mwqurnmx.jpg
61d424e7f4d395ee22005845,31417,7200,!http://content.screencast.com/users/tpettersen/folders/Jing/media/f9422027-c708-4491-be85-acda5500fc2b/2010-10-06_1653.png!
61d424e7f4d395ee22005849,31290,7200,"Include a warning in the Trusted Apps Configuration UI that not specifying allowed IP addresses or allowing *.*.*.* is an insecure configuration, and should not be used."
61d424e7f4d395ee2200584c,31182,7200,"On the application link table, use grey separators between entries, like the JIRA Issue Navigator: http://jira.atlassian.com/secure/IssueNavigator.jspa?reset=true&mode=hide&jqlQuery=key+in+issueHistory%28%29"
61d424e7f4d395ee2200584d,31181,7200,Upgrade' and 'Relocate' links should be displayed in a message above the application links table.
61d424e7f4d395ee2200584e,31180,7200,Remove the inline editing in:\n- Add application link wizard\n- Configure Application Link 2x\n- Upgrade Wizard (should overlap with configure application link)
61d424e7f4d395ee2200584f,31179,1740,JT will provide new icons for\n- help\n- primary\n- warning\n- generic application\n
61d424e7f4d395ee22005851,31082,7200,Currently it only allows you to enter one new URL which is stored as the rpcUrl. We need and optional second input field where the user can specify a custom displayUrl.\n\nRelated to this change: {{RelocateApplicationLinkUIResource.update()}} also needs to update the value for iconUrl
61d424e7f4d395ee22005853,31019,3600,And render a link to the profile page that allows you to clear the tokens.
61d424e7f4d395ee22005854,31018,7200,"* -Add help link-\n* -More useful description on list entity links screen-\n* -remove brackets on ENTITY LINK NAME-\n* -Have a generic icon if no icon URL is supplied.-\n* -Add spinner when loading-\n* -Rename ""Generic Entity"" to ""Generic Project""-\n* -Change messaging to ""You have chosen to delete the link from ABC to DEF. Please confirm that you would like to delete this link.""-\n* -Connecting the remote application This message is written with one word per line. This should all be in one line. Also, is it necessary to show this message?-"
61d424e7f4d395ee22005855,31016,7200,"*  No user feedback when you press create... it just takes me back to the admin screen and waits for 4 seconds... Would be nice to provide an ajax spinner to indicate something is saving, or take me to the listing with a spinner/message a the top that loads straight away to say its saving..\n* We have blue feedback for something successful here. But in the ""Cofigure application dialog"" we use green feedback for something successful. Lets choose one.\n"
61d424e7f4d395ee22005856,30903,43200,Verify that the user has sufficient permission when managing entity links.
61d424e7f4d395ee22005857,30902,3600,"* -Ensure hosts exists for provided server URL-\n* Use radio buttons in 2-Way link config form\n* -Step 3: Use radio buttons to configure full trust or no trust. TBC-\n* -Form alignment:  Needs to be more to the left-\n* -I think this form needs a description (eg ""Enter the server address you wish to link to below""). Placed before the server URL field.-\n* -When you hover over the image of the servers syncing you get a tooltip of ""Step 1"". Could probably change this to be the form title eg ""Link to another server"".-\n* -URL validation logic is invalid-"
61d424e7f4d395ee22005858,30901,21600,* Introduce 2-Step process when deleting a two way link
61d424e7f4d395ee22005859,30900,14400,"* -BASIC authentication configuration screen: remove ""new password""-\n* remove all scrollbars\n* ensure alignment in config forms are the same"
61d424e7f4d395ee2200585a,30899,10800,"* -if no authentication type configured display text instead of nothing-\n* -hide primary authentication type icon, if only authentication type configured-\n* -find a better icon for primary authentication type-\n* Relocate and upgrade icon looks like an error\n"
61d424e7f4d395ee2200585b,30898,3600,"* -Use help link in the lower left in dialogs instead help link icons-\n* -Agree on which help icon should be used or application specific?-\n* -Remove 'YES' in delete two way links messages-\n* -""Next"" and ""Cancel"" are much smaller than the normal dialog size?- \n* Padding between ""Link to another server"" and ""Step 1...2..3"" is quite large. \n* -Help in the dialog should be a gray ""Help link"". Eg:-\n* -Add the ability to close (x) or acknowledge the feedback that my link has been created would be great.-"
61d424e7f4d395ee2200585c,30897,10800,"UAL Application Links\n* -entity links drop-down needs label: ""only first 10 results are show""-\n* -selected entity in drop-down should be highlighted until the end of the drop-down box.-\n* -radio button to create 2-Way link-\n\nNON-UAL Application Links\n* -If the application has only one entity type use textbox instead of select drop down.-\n* -missing description-\n* -form fields hovers are wrong-\n* -missing asterisk on form fields-\n* -doesn't clear form-\n* -When no remote entities are available use entity type in error message and disable create button-"
61d424e7f4d395ee2200585e,30861,43200,We store a remote entity's displayUrl at entity link creation time and then later fail to update it when the user changes the AppLink's displayUrl.
61d424e7f4d395ee22005860,30777,3600,"when a peer is offline, I can no longer delete the applink, because the delete button gets disabled: !http://img.skitch.com/20100913-ha8psmashnmxj8kncj75ia7c7.png!\n\nWe should probably warn the user that if the peer is offline, we cannot do anything reciprocally, but still allow the user to delete the applink (the peer may be offline indefinitely).\n\nAtm the local rest resource returns a 404 to the browser in this scenario, making it impossible for the UI to distinguish between a delete operation for a local applink that doesn't exist (nothing can be deleted), or a peer that happens to be offline (local deletion still ok)."
61d424e7f4d395ee22005861,30776,10800,"Can't edit the application URL due to ""can't access application"" message, even though there is definitely a JIRA server running on the specified URL \n\nScreenshot: http://screencast.com/t/MjZiNjY5OGE"
61d424e7f4d395ee22005862,30753,10800,"Configuration Tabs\n-> in FishEye gap on the left\n-> -description inside the authentication configuration UIs should mention the application type-\n-> -indicate visually which authentication types are configured/which one is the primary authentication type-\n\nList application link screen\n-> -add column with configured authentication types-\n-> -indicate primary authentication type and click opens config UI with specific authentication configuration UI-\n-> -link on primary authentication type to the docs-\n\nAdd application link screen\n-> -Step 2 - text no aligned on the left with the rest-\n-> -NON UAL application add text to indicate ""no auto detection or auto configuration""-\n-> -Pressing 'enter' should trigger to go to the next step.-\n-> -Checkbox for trusting should always be enabled.-\n\nDelete Application link\n-> -more information about what gets deleted-\n\n-Add Generic Application Type-\n\nAdd entity link screen\n-> -Create reciprocal link needs more explanation-\n-> -Change title to ""Enter link details""-\n-> -icon should line up with application name-\n\nActions in Entity and Application link screens\n-> -add separators-\n\nDelete Entity Link\n-> -eliminate the term ""entity""-"
61d424e7f4d395ee22005863,30750,7200,When generating the URL for the various configuration screens we should consider the request URL and use this to build the URL for the iframe.
61d424e7f4d395ee22005866,30629,3600,!http://img.skitch.com/20100906-dmpt1s8yebcdqc7tb91gqigfqg.jpg!
61d424e7f4d395ee22005869,30431,7200,"We assume that the application URL the users is exactly in the right format (no trailing etc., hostname and context path). I think we need to have some validation and logic that validates and changes the URL the user provides, so we can fetch the remote manifest.\nCurrently a slightly incorrect (from our point of view) application URL will lead to the NON-UAL step and create a broken application link."
61d424e7f4d395ee2200587e,30407,10800,http://skitch.com/jakecausby/dwms4/twenty-148-proper-readable-batch-emails-for-crucible-atlassian-jira-extranet-special-projects\nAlso fix these alignment issues:\nhttp://skitch.com/jakecausby/dwmaq/application-links\n\nhttp://skitch.com/jakecausby/dwma3/application-links-2\n
61d424e7f4d395ee22005880,30360,21600,"* Show loading message while detecting available remote entities \n* Drop down of available entities disappears when focussing the second time on the input text box\n* Drop down of available entities can exceed size of the dialog, leading to scroll bars"
61d424e7f4d395ee22005883,30335,21600,"2010-08-27 11:44:18,503 ERROR [http-8080-3] [[Catalina].[localhost].[/confluence].[servlet-module-container-servlet]] log Servlet.service() for servlet servlet-module-container-servlet threw exception\norg.springframework.dao.DataIntegrityViolationException: Hibernate operation: could not insert: [com.atlassian.confluence.security.trust.ConfluenceTrustedApplication#1507340]; SQL []; Violation of unique constraint $$: duplicate value(s) for column(s) $$: SYS_CT_112 in statement [insert into TRUSTEDAPP (NAME, TIMEOUT, PUBLIC_KEY_ID, TRUSTEDAPPID) values (?, ?, ?, ?)]; nested exception is java.sql.SQLException: Violation of unique constraint $$: duplicate value(s) for column(s) $$: SYS_CT_112 in statement [insert into TRUSTEDAPP (NAME, TIMEOUT, PUBLIC_KEY_ID, TRUSTEDAPPID) values (?, ?, ?, ?)]\nCaused by: java.sql.SQLException: Violation of unique constraint $$: duplicate value(s) for column(s) $$: SYS_CT_112 in statement [insert into TRUSTEDAPP (NAME, TIMEOUT, PUBLIC_KEY_ID, TRUSTEDAPPID) values (?, ?, ?, ?)]\n	at org.hsqldb.jdbc.Util.throwError(Unknown Source)\n	at org.hsqldb.jdbc.jdbcPreparedStatement.executeUpdate(Unknown Source)\n	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.executeUpdate(NewProxyPreparedStatement.java:105)\n	at net.sf.hibernate.impl.NonBatchingBatcher.addToBatch(NonBatchingBatcher.java:22)\n	at net.sf.hibernate.persister.EntityPersister.insert(EntityPersister.java:462)\n	at net.sf.hibernate.persister.EntityPersister.insert(EntityPersister.java:436)\n	at net.sf.hibernate.impl.ScheduledInsertion.execute(ScheduledInsertion.java:37)\n	at net.sf.hibernate.impl.SessionImpl.execute(SessionImpl.java:2447)\n	at net.sf.hibernate.impl.SessionImpl.executeAll(SessionImpl.java:2433)\n	at net.sf.hibernate.impl.SessionImpl.execute(SessionImpl.java:2390)\n	at net.sf.hibernate.impl.SessionImpl.flush(SessionImpl.java:2259)\n	at net.sf.hibernate.transaction.JDBCTransaction.commit(JDBCTransaction.java:61)\n	at org.springframework.orm.hibernate.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:510)\n	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:662)\n	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:632)\n	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:314)\n	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:116)\n	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\n	at $Proxy48.addTrustedApplication(Unknown Source)\n	at sun.reflect.GeneratedMethodAccessor423.invoke(Unknown Source)\n	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n	at java.lang.reflect.Method.invoke(Method.java:597)\n	at com.atlassian.plugin.osgi.hostcomponents.impl.DefaultComponentRegistrar$ContextClassLoaderSettingInvocationHandler.invoke(DefaultComponentRegistrar.java:129)\n	at $Proxy188.addTrustedApplication(Unknown Source)\n	at sun.reflect.GeneratedMethodAccessor423.invoke(Unknown Source)\n	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n	at java.lang.reflect.Method.invoke(Method.java:597)\n	at com.atlassian.plugin.osgi.bridge.external.HostComponentFactoryBean$DynamicServiceInvocationHandler.invoke(HostComponentFactoryBean.java:147)\n	at $Proxy188.addTrustedApplication(Unknown Source)\n	at com.atlassian.applinks.core.auth.trusted.TrustConfigurator.issueInboundTrust(TrustConfigurator.java:52)\n	at com.atlassian.applinks.core.auth.trusted.ProviderConfigurationServlet.issueLocalTrust(ProviderConfigurationServlet.java:234)\n	at com.atlassian.applinks.core.auth.trusted.ProviderConfigurationServlet.configureLocalTrust(ProviderConfigurationServlet.java:175)\n	at com.atlassian.applinks.core.auth.trusted.ProviderConfigurationServlet.doPost(ProviderConfigurationServlet.java:146)\n	at javax.servlet.http.HttpServlet.service(HttpServlet.java:637)\n	at com.atlassian.applinks.ui.AbstractApplinksServlet.service(AbstractApplinksServlet.java:85)\n	at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n	at com.atlassian.plugin.servlet.DelegatingPluginServlet.service(DelegatingPluginServlet.java:42)\n	at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n	at com.atlassian.plugin.servlet.ServletModuleContainerServlet.service(ServletModuleContainerServlet.java:52)\n	at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n	at com.atlassian.applinks.ui.auth.AdminFilter.doFilter(AdminFilter.java:57)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n	at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:25)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)\n	at com.atlassian.confluence.util.profiling.ProfilingPageFilter.parsePage(ProfilingPageFilter.java:84)\n	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:54)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.confluence.util.LoggingContextFilter.doFilter(LoggingContextFilter.java:47)\n	at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.seraph.filter.SecurityFilter.doFilter(SecurityFilter.java:213)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:98)\n	at com.atlassian.confluence.util.AbstractBootstrapHotSwappingFilter.doFilter(AbstractBootstrapHotSwappingFilter.java:30)\n	at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.seraph.filter.BaseLoginFilter.doFilter(BaseLoginFilter.java:140)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n	at com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:69)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.confluence.util.ClusterHeaderFilter.doFilter(ClusterHeaderFilter.java:34)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.johnson.filters.AbstractJohnsonFilter.doFilter(AbstractJohnsonFilter.java:72)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at org.springframework.orm.hibernate.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:170)\n	at com.atlassian.spring.filter.FlushingSpringSessionInViewFilter.doFilterInternal(FlushingSpringSessionInViewFilter.java:29)\n	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:75)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.confluence.util.ConfluenceErrorFilter.doFilter(ConfluenceErrorFilter.java:22)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.util.profiling.filters.ProfilingFilter.doFilter(ProfilingFilter.java:99)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.confluence.core.datetime.RequestTimeThreadLocalFilter.doFilter(RequestTimeThreadLocalFilter.java:35)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.confluence.util.RequestCacheThreadLocalFilter.doFilter(RequestCacheThreadLocalFilter.java:25)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.gzipfilter.GzipFilter.doFilterInternal(GzipFilter.java:81)\n	at com.atlassian.gzipfilter.GzipFilter.doFilter(GzipFilter.java:51)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.core.filters.cache.AbstractCachingFilter.doFilter(AbstractCachingFilter.java:33)\n	at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n	at com.atlassian.confluence.extra.webdav.servlet.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:43)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.core.filters.encoding.AbstractEncodingFilter.doFilter(AbstractEncodingFilter.java:41)\n	at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.core.filters.HeaderSanitisingFilter.doFilter(HeaderSanitisingFilter.java:44)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at com.atlassian.confluence.servlet.FourOhFourErrorLoggingFilter.doFilter(FourOhFourErrorLoggingFilter.java:65)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\n	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\n	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)\n	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\n	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293)\n	at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:849)\n	at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583)\n	at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:454)\n	at java.lang.Thread.run(Thread.java:637)\n2010-08-27 11:44:18,508 INFO [http-8080-3] [atlassian.confluence.status.SystemErrorInformationLogger] writeToLog "
61d424e7f4d395ee22005884,30334,21600,"When creating an application link from fecru to confluence, applinks fails to setup TA authentication and chooses oauth instead.\nWhen creating the link from confluence to fecru the link gets created with TA, but the authentication fails.\nThe log indicates that the certificate is too old:\n[java] 11:18:07 ERROR - Error handling trusted applications authentication attempt:OLD_CERT;	Certificate too old. Application: {0} Certificate Created: {1} Timeout: {2};	[""confluence:4264775"",""Fri Aug 27 11:18:06 EST 2010"",""100""]\n\nIs this behavior correct?"
61d424e7f4d395ee22005885,30333,10800,     [java] 27/08/2010 11:48:43 AM com.sun.jersey.server.impl.application.WebApplicationImpl onException\n     [java] SEVERE: Internal server error\n     [java] java.lang.RuntimeException: java.lang.NullPointerException\n     [java] 	at com.atlassian.event.internal.SingleParameterMethodListenerInvoker.invoke(SingleParameterMethodListenerInvoker.java:50)\n     [java] 	at com.atlassian.event.internal.AsynchronousAbleEventDispatcher$2.run(AsynchronousAbleEventDispatcher.java:60)\n     [java] 	at com.atlassian.event.internal.AsynchronousAbleEventDispatcher$1.execute(AsynchronousAbleEventDispatcher.java:28)\n     [java] 	at com.atlassian.event.internal.AsynchronousAbleEventDispatcher.dispatch(AsynchronousAbleEventDispatcher.java:56)\n     [java] 	at com.atlassian.event.internal.LockFreeEventPublisher$Publisher.dispatch(LockFreeEventPublisher.java:222)\n     [java] 	at com.atlassian.event.internal.LockFreeEventPublisher.publish(LockFreeEventPublisher.java:81)\n     [java] 	at com.atlassian.fisheye.event.FisheyeEventPublisher.publish(FisheyeEventPublisher.java:29)\n     [java] 	at sun.reflect.GeneratedMethodAccessor126.invoke(Unknown Source)\n     [java] 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n     [java] 	at java.lang.reflect.Method.invoke(Method.java:597)\n     [java] 	at com.atlassian.plugin.osgi.hostcomponents.impl.DefaultComponentRegistrar$ContextClassLoaderSettingInvocationHandler.invoke(DefaultComponentRegistrar.java:129)\n     [java] 	at $Proxy84.publish(Unknown Source)\n     [java] 	at sun.reflect.GeneratedMethodAccessor126.invoke(Unknown Source)\n     [java] 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n     [java] 	at java.lang.reflect.Method.invoke(Method.java:597)\n     [java] 	at com.atlassian.plugin.osgi.bridge.external.HostComponentFactoryBean$DynamicServiceInvocationHandler.invoke(HostComponentFactoryBean.java:147)\n     [java] 	at $Proxy84.publish(Unknown Source)\n     [java] 	at com.atlassian.applinks.core.DefaultApplicationLinkService.deleteApplicationLink(DefaultApplicationLinkService.java:178)\n     [java] 	at com.atlassian.applinks.core.rest.ApplicationLinkResource.deleteApplicationLink(ApplicationLinkResource.java:196)\n     [java] 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n     [java] 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n     [java] 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n     [java] 	at java.lang.reflect.Method.invoke(Method.java:597)\n     [java] 	at com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper$ResponseOutInvoker$1.invoke(DispatchProviderHelper.java:206)\n     [java] 	at com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper$1.intercept(DispatchProviderHelper.java:90)\n     [java] 	at com.atlassian.plugins.rest.common.interceptor.impl.DefaultMethodInvocation.invoke(DefaultMethodInvocation.java:61)\n     [java] 	at com.atlassian.applinks.core.rest.context.ContextInterceptor.intercept(ContextInterceptor.java:19)\n     [java] 	at com.atlassian.plugins.rest.common.interceptor.impl.DefaultMethodInvocation.invoke(DefaultMethodInvocation.java:61)\n     [java] 	at com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper.invokeMethodWithInterceptors(DispatchProviderHelper.java:98)\n     [java] 	at com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper.access$100(DispatchProviderHelper.java:28)\n     [java] 	at com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper$ResponseOutInvoker._dispatch(DispatchProviderHelper.java:202)\n     [java] 	at com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:67)\n     [java] 	at com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:163)\n     [java] 	at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:111)\n     [java] 	at com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:71)\n     [java] 	at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:111)\n     [java] 	at com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:63)\n     [java] 	at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:654)\n     [java] 	at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:612)\n     [java] 	at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:603)\n     [java] 	at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:309)\n     [java] 	at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:425)\n     [java] 	at com.atlassian.plugins.rest.module.RestDelegatingServletFilter$JerseyOsgiServletContainer.doFilter(RestDelegatingServletFilter.java:130)\n     [java] 	at com.sun.jersey.spi.container.servlet.ServletContainer.doFilter(ServletContainer.java:689)\n     [java] 	at com.atlassian.plugins.rest.module.RestDelegatingServletFilter.doFilter(RestDelegatingServletFilter.java:64)\n     [java] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n     [java] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n     [java] 	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\n     [java] 	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\n     [java] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n     [java] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n     [java] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n     [java] 	at com.atlassian.plugins.rest.module.servlet.RestServletUtilsUpdaterFilter.doFilterInternal(RestServletUtilsUpdaterFilter.java:26)\n     [java] 	at com.atlassian.plugins.rest.module.servlet.RestServletUtilsUpdaterFilter.doFilter(RestServletUtilsUpdaterFilter.java:40)\n     [java] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n     [java] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n     [java] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n     [java] 	at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:25)\n     [java] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n     [java] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n     [java] 	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\n     [java] 	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\n     [java] 	at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1209)\n     [java] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\n     [java] 	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\n     [java] 	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\n     [java] 	at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1209)\n     [java] 	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:83)\n     [java] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)\n     [java] 	at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1209)\n     [java] 	at com.cenqua.crucible.filters.CrucibleFilter.doFilter(CrucibleFilter.java:141)\n     [java] 	at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1209)\n     [java] 	at com.cenqua.fisheye.web.filters.TotalityFilter.doFilter(TotalityFilter.java:246)\n     [java] 	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:236)\n     [java] 	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167)\n     [java] 	at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1209)\n     [java] 	at com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:98)\n     [java] 	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:236)\n     [java] 	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167)\n     [java] 	at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1209)\n     [java] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\n     [java] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n     [java] 	at com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:69)\n     [java] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n     [java] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n     [java] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n     [java] 	at com.atlassian.plugins.rest.module.servlet.RestSeraphFilter.doFilter(RestSeraphFilter.java:40)\n     [java] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n     [java] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n     [java] 	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\n     [java] 	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\n     [java] 	at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1209)\n     [java] 	at org.mortbay.servlet.UserAgentFilter.doFilter(UserAgentFilter.java:78)\n     [java] 	at org.mortbay.servlet.GzipFilter.doFilter(GzipFilter.java:131)\n     [java] 	at com.cenqua.fisheye.web.filters.CustomIncludableGzipFilter.doFilter(CustomIncludableGzipFilter.java:21)\n     [java] 	at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1209)\n     [java] 	at com.cenqua.fisheye.web.filters.ProductInfoFilter.doFilter(ProductInfoFilter.java:36)\n     [java] 	at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1209)\n     [java] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\n     [java] 	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\n     [java] 	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\n     [java] 	at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1209)\n     [java] 	at com.cenqua.fisheye.web.filters.UpfrontFilter.doFilter(UpfrontFilter.java:74)\n     [java] 	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:236)\n     [java] 	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167)\n     [java] 	at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1209)\n     [java] 	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\n     [java] 	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n     [java] 	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\n     [java] 	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\n     [java] 	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\n     [java] 	at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)\n     [java] 	at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)\n     [java] 	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n     [java] 	at org.mortbay.jetty.Server.handle(Server.java:326)\n     [java] 	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\n     [java] 	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:926)\n     [java] 	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)\n     [java] 	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)\n     [java] 	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\n     [java] 	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)\n     [java] 	at org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:451)\n     [java] Caused by: java.lang.NullPointerException\n     [java] 	at com.google.common.base.Preconditions.checkNotNull(Preconditions.java:180)\n     [java] 	at com.google.common.collect.ImmutableMap.entryOf(ImmutableMap.java:135)\n     [java] 	at com.google.common.collect.ImmutableMap.copyOf(ImmutableMap.java:241)\n     [java] 	at com.atlassian.oauth.consumer.sal.PluginSettingsConsumerTokenStore.getConsumerTokens(PluginSettingsConsumerTokenStore.java:112)\n     [java] 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n     [java] 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n     [java] 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n     [java] 	at java.lang.reflect.Method.invoke(Method.java:597)\n     [java] 	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:307)\n     [java] 	at org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:58)\n     [java] 	at org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:62)\n     [java] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n     [java] 	at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)\n     [java] 	at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)\n     [java] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n     [java] 	at org.springframework.osgi.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:56)\n     [java] 	at org.springframework.osgi.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:39)\n     [java] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n     [java] 	at org.springframework.osgi.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:59)\n     [java] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n     [java] 	at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)\n     [java] 	at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)\n     [java] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n     [java] 	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\n     [java] 	at $Proxy211.getConsumerTokens(Unknown Source)\n     [java] 	at com.atlassian.applinks.core.auth.oauth.DefaultConsumerTokenStoreService.removeAllConsumerTokens(DefaultConsumerTokenStoreService.java:64)\n     [java] 	at com.atlassian.applinks.core.auth.oauth.OAuthConfigListener.onApplicationLinkDeleted(OAuthConfigListener.java:61)\n     [java] 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n     [java] 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n     [java] 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n     [java] 	at java.lang.reflect.Method.invoke(Method.java:597)\n     [java] 	at com.atlassian.event.internal.SingleParameterMethodListenerInvoker.invoke(SingleParameterMethodListenerInvoker.java:36)\n     [java] 	... 121 more\n     [java] 11:48:43 ERROR - Internal server error\n     [java] java.lang.RuntimeException: java.lang.NullPointerException\n     [java] 	at com.atlassian.event.internal.SingleParameterMethodListenerInvoker.invoke(SingleParameterMethodListenerInvoker.java:50)\n     [java] 	at com.atlassian.event.internal.AsynchronousAbleEventDispatcher$2.run(AsynchronousAbleEventDispatcher.java:60)\n     [java] 	at com.atlassian.event.internal.AsynchronousAbleEventDispatcher$1.execute(AsynchronousAbleEventDispatcher.java:28)\n     [java] 	at com.atlassian.event.internal.AsynchronousAbleEventDispatcher.dispatch(AsynchronousAbleEventDispatcher.java:56)\n     [java] 	at com.atlassian.event.internal.LockFreeEventPublisher$Publisher.dispatch(LockFreeEventPublisher.java:222)\n     [java] 	at com.atlassian.event.internal.LockFreeEventPublisher.publish(LockFreeEventPublisher.java:81)\n     [java] 	at com.atlassian.fisheye.event.FisheyeEventPublisher.publish(FisheyeEventPublisher.java:29)\n     [java] 	at sun.reflect.GeneratedMethodAccessor126.invoke(Unknown Source)\n     [java] 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n     [java] 	at java.lang.reflect.Method.invoke(Method.java:597)\n     [java] 	at com.atlassian.plugin.osgi.hostcomponents.impl.DefaultComponentRegistrar$ContextClassLoaderSettingInvocationHandler.invoke(DefaultComponentRegistrar.java:129)\n     [java] 	at $Proxy84.publish(Unknown Source)\n     [java] 	at sun.reflect.GeneratedMethodAccessor126.invoke(Unknown Source)\n     [java] 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n     [java] 	at java.lang.reflect.Method.invoke(Method.java:597)\n     [java] 	at com.atlassian.plugin.osgi.bridge.external.HostComponentFactoryBean$DynamicServiceInvocationHandler.invoke(HostComponentFactoryBean.java:147)\n     [java] 	at $Proxy84.publish(Unknown Source)\n     [java] 	at com.atlassian.applinks.core.DefaultApplicationLinkService.deleteApplicationLink(DefaultApplicationLinkService.java:178)\n     [java] 	at com.atlassian.applinks.core.rest.ApplicationLinkResource.deleteApplicationLink(ApplicationLinkResource.java:196)\n     [java] 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n     [java] 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n     [java] 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n     [java] 	at java.lang.reflect.Method.invoke(Method.java:597)\n     [java] 	at com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper$ResponseOutInvoker$1.invoke(DispatchProviderHelper.java:206)\n     [java] 	at com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper$1.intercept(DispatchProviderHelper.java:90)\n     [java] 	at com.atlassian.plugins.rest.common.interceptor.impl.DefaultMethodInvocation.invoke(DefaultMethodInvocation.java:61)\n     [java] 	at com.atlassian.applinks.core.rest.context.ContextInterceptor.intercept(ContextInterceptor.java:19)\n     [java] 	at com.atlassian.plugins.rest.common.interceptor.impl.DefaultMethodInvocation.invoke(DefaultMethodInvocation.java:61)\n     [java] 	at com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper.invokeMethodWithInterceptors(DispatchProviderHelper.java:98)\n     [java] 	at com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper.access$100(DispatchProviderHelper.java:28)\n     [java] 	at com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper$ResponseOutInvoker._dispatch(DispatchProviderHelper.java:202)\n     [java] 	at com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:67)\n     [java] 	at com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:163)\n     [java] 	at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:111)\n     [java] 	at com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:71)\n     [java] 	at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:111)\n     [java] 	at com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:63)\n     [java] 	at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:654)\n     [java] 	at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:612)\n     [java] 	at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:603)\n     [java] 	at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:309)\n     [java] 	at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:425)\n     [java] 	at com.atlassian.plugins.rest.module.RestDelegatingServletFilter$JerseyOsgiServletContainer.doFilter(RestDelegatingServletFilter.java:130)\n     [java] 	at com.sun.jersey.spi.container.servlet.ServletContainer.doFilter(ServletContainer.java:689)\n     [java] 	at com.atlassian.plugins.rest.module.RestDelegatingServletFilter.doFilter(RestDelegatingServletFilter.java:64)\n     [java] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n     [java] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n     [java] 	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\n     [java] 	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\n     [java] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n     [java] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n     [java] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n     [java] 	at com.atlassian.plugins.rest.module.servlet.RestServletUtilsUpdaterFilter.doFilterInternal(RestServletUtilsUpdaterFilter.java:26)\n     [java] 	at com.atlassian.plugins.rest.module.servlet.RestServletUtilsUpdaterFilter.doFilter(RestServletUtilsUpdaterFilter.java:40)\n     [java] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n     [java] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n     [java] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n     [java] 	at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:25)\n     [java] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n     [java] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n     [java] 	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\n     [java] 	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\n     [java] 	at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1209)\n     [java] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\n     [java] 	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\n     [java] 	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\n     [java] 	at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1209)\n     [java] 	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:83)\n     [java] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)\n     [java] 	at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1209)\n     [java] 	at com.cenqua.crucible.filters.CrucibleFilter.doFilter(CrucibleFilter.java:141)\n     [java] 	at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1209)\n     [java] 	at com.cenqua.fisheye.web.filters.TotalityFilter.doFilter(TotalityFilter.java:246)\n     [java] 	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:236)\n     [java] 	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167)\n     [java] 	at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1209)\n     [java] 	at com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:98)\n     [java] 	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:236)\n     [java] 	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167)\n     [java] 	at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1209)\n     [java] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\n     [java] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n     [java] 	at com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:69)\n     [java] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n     [java] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n     [java] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n     [java] 	at com.atlassian.plugins.rest.module.servlet.RestSeraphFilter.doFilter(RestSeraphFilter.java:40)\n     [java] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n     [java] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n     [java] 	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\n     [java] 	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\n     [java] 	at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1209)\n     [java] 	at org.mortbay.servlet.UserAgentFilter.doFilter(UserAgentFilter.java:78)\n     [java] 	at org.mortbay.servlet.GzipFilter.doFilter(GzipFilter.java:131)\n     [java] 	at com.cenqua.fisheye.web.filters.CustomIncludableGzipFilter.doFilter(CustomIncludableGzipFilter.java:21)\n     [java] 	at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1209)\n     [java] 	at com.cenqua.fisheye.web.filters.ProductInfoFilter.doFilter(ProductInfoFilter.java:36)\n     [java] 	at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1209)\n     [java] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\n     [java] 	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)\n     [java] 	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)\n     [java] 	at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1209)\n     [java] 	at com.cenqua.fisheye.web.filters.UpfrontFilter.doFilter(UpfrontFilter.java:74)\n     [java] 	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:236)\n     [java] 	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167)\n     [java] 	at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1209)\n     [java] 	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\n     [java] 	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n     [java] 	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\n     [java] 	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\n     [java] 	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\n     [java] 	at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)\n     [java] 	at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)\n     [java] 	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n     [java] 	at org.mortbay.jetty.Server.handle(Server.java:326)\n     [java] 	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\n     [java] 	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:926)\n     [java] 	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)\n     [java] 	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)\n     [java] 	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\n     [java] 	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)\n     [java] 	at org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:451)\n     [java] Caused by: java.lang.NullPointerException\n     [java] 	at com.google.common.base.Preconditions.checkNotNull(Preconditions.java:180)\n     [java] 	at com.google.common.collect.ImmutableMap.entryOf(ImmutableMap.java:135)\n     [java] 	at com.google.common.collect.ImmutableMap.copyOf(ImmutableMap.java:241)\n     [java] 	at com.atlassian.oauth.consumer.sal.PluginSettingsConsumerTokenStore.getConsumerTokens(PluginSettingsConsumerTokenStore.java:112)\n     [java] 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n     [java] 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n     [java] 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n     [java] 	at java.lang.reflect.Method.invoke(Method.java:597)\n     [java] 	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:307)\n     [java] 	at org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:58)\n     [java] 	at org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:62)\n     [java] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n     [java] 	at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)\n     [java] 	at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)\n     [java] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n     [java] 	at org.springframework.osgi.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:56)\n     [java] 	at org.springframework.osgi.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:39)\n     [java] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n     [java] 	at org.springframework.osgi.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:59)\n     [java] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n     [java] 	at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)\n     [java] 	at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)\n     [java] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n     [java] 	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\n     [java] 	at $Proxy211.getConsumerTokens(Unknown Source)\n     [java] 	at com.atlassian.applinks.core.auth.oauth.DefaultConsumerTokenStoreService.removeAllConsumerTokens(DefaultConsumerTokenStoreService.java:64)\n     [java] 	at com.atlassian.applinks.core.auth.oauth.OAuthConfigListener.onApplicationLinkDeleted(OAuthConfigListener.java:61)\n     [java] 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n     [java] 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n     [java] 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n     [java] 	at java.lang.reflect.Method.invoke(Method.java:597)\n     [java] 	at com.atlassian.event.internal.SingleParameterMethodListenerInvoker.invoke(SingleParameterMethodListenerInvoker.java:36)\n     [java] 	... 121 more\n
61d424e7f4d395ee2200588a,30303,7200,"Click Configure or Delete on an application link in Confluence, and RHS of the admin menu, along with the web panel that is rendered by applinks all moves a handful of pixels to the right.\n\nDoesn't happen in FE."
61d424e7f4d395ee22005890,30294,21600,We need some explanatory text so people understand what they're looking at when they click 'Outgoing Authentication' or 'Incoming Authentication'.\n\nSee 'redesigned auth' attachment for how it should look.
61d424e7f4d395ee22005893,30290,3600,- needs more whitespace; feels cramped\n- text & icon vertical alignment
61d424e7f4d395ee22005896,30287,3600,"Firefox 4b4 on Mac OS X.\nConfluence UAL branch as of 11am 26 Aug.\nConnecting to refapp, current as of 12 am 26 Aug."
61d424e7f4d395ee22005897,30286,3600,See attached Skitch.
61d424e7f4d395ee22005898,30112,43200,"See: [https://extranet.atlassian.com/display/~evzijst/AppLinks+Upgrade+Application+Link+workflow]\n\n{quote}\nh2. Relocating a Peer\n\n* From the perspective of the relocatee:\n** Nothing changes, but modifications to TA/OAuth will break during headless reciprocal actions (as the peer will use the old baseUrl)\n** Even if we detect changes, what can we do to fix it on the peer?\n\n* From the perspective of the peer:\n** The List Applications page gets Conn Refused and renders ""Peer Down or Relocated"" link, or the admin actively clicks on ""Configure""\n** Brings up configure dialog with rpcUrl editable\n\n** User types new URL and we retrieve manifest through the ApplicationType class:\n*** If new manifest reports a different app type, we barf (JiraApplicationTypeImpl.getManifest() attempts to download first)\n*** On conn refused we don't barf, but accept the new url\n\n** If the new manifest has a different server id (will happen with non-UAL peers, or if the UAL peer is offline, or if the user mis-types the URL)\n*** Maybe simply change the server id in the db and emit an event. After all, a mere relocation would not change app type, auth config or entities\n*** ^--- fail, because might be UAL peer that is temporarily offline, so don't do anything and rely on server id detection in List Applications\n*** Conclusion: don't make state changes to keep the process reversible\n{quote}\n"
61d424e7f4d395ee2200589a,30110,43200,"Implement detection logic (OAuth and TA), render result on List Applications page"
61d424e7f4d395ee220058a0,30104,21600,"Implement logic for detecting offline and upgraded peers, render result in List Applications page (synchronous/background/ajax?)"
61d424e7f4d395ee220058a4,30100,64800,"See: [https://extranet.atlassian.com/display/~evzijst/AppLinks+Upgrade+Application+Link+workflow]\n\n{quote}\nThe upgrade task looks at the JIRA config records in config.xml and creates applink records for it.\n\n* records will be uni-directional and of type jira.\n* for each record the upgrade task will attempt to download the manifest to obtain the proper server id;\n* if the server is unreachable (or non-UAL), we'll use NonAppLinksApplicationType.getManifest() to generate one\n* if a username/password is set in <defaultAuth/> in config.xml, we add them to the new applink's peroperties;\n* if not, trusted apps is assumed to be used, which is then configured as outbound authenticator\n{quote}\n"
61d424e7f4d395ee220058a6,29782,14400,Every REST resource and action/servlet that is accessible only by an administrator should be WebSudo protected as well.\n\nYou can find more information about WebSudo here:\nhttp://confluence.atlassian.com/display/DOC/Configuring+Secure+Administrator+Sessions\n\nAdding WebSudo to the plugin is really easy but requires SAL 2.2 and REST 2.2.\n\nI've just added preliminary documentation to the SAL space on CAC:\nhttp://confluence.atlassian.com/display/SAL/Adding+WebSudo+support+to+your+plugin\n\nLet me know if you need more information and I'd like to improve the docs so please feel free to send me any feedback you might have!
61d424e7f4d395ee220058ad,29691,43200,Ensure the AppLinks UI works in Fisheye.
61d424e7f4d395ee220058ae,29686,3600,"The Javadoc on {{com.atlassian.applinks.host.spi.HostApplication#getId()}} suggests using the Atlassian server id as the application id.\nIf I try to create an {{com.atlassian.applinks.api.ApplicationId}} based on the server id the creation fails because the ctor of ApplicationId checks if the ctor argument is a valid UUID (which the server id is not).\n\n\nThe {{HostApplication#getId()}} defines the following restrictions for the ApplicationId:\n\n{quote}\n     * The returned string must use anything [sic] ONLY upper and lowercase\n     * characters, the digits [0-9] and dashes \(-). There are no length\n     * requirements for the returned string.\n{quote}\n\nwheres the check in the ApplicationId\n\n{code}\nUUID.fromString(id); //test to see if the supplied id String is a valid UUID string\n{code}\n\nis much stricter and checks if the given id is an valid UUID string.\n\nThe UUID string is defined as:\n\n{code}\n     * UUID                   = <time_low> ""-"" <time_mid> ""-""\n     *                          <time_high_and_version> ""-""\n     *                          <variant_and_sequence> ""-""\n     *                          <node>\n{code}\n\n\nEither the ApplicationId needs to change to allow instance creation based on the Server id (preferred) or the {{HostApplication#getId()}} needs to be updated to require UUID based application ids.\n\n\n"
61d424e7f4d395ee220058b2,29661,3600,"As seen on EAC/CRU:\n\n{noformat}\n010-08-05 03:44:14,098 ERROR [btpool0-26] com.sun.jersey.server.impl.application.WebApplicationImpl com.sun.jersey.server.impl.application.WebApplicationImpl-onException - Internal server error\njava.lang.NullPointerException\n       at com.atlassian.applinks.core.rest.EntityLinkResource.getEntityLinks(EntityLinkResource.java:133)\n       at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n       at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n       at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n       at java.lang.reflect.Method.invoke(Method.java:597)\n       at com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper$ResponseOutInvoker$1.invoke(DispatchProviderHelper.java:206)\n       at com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper$1.intercept(DispatchProviderHelper.java:90)\n       at com.atlassian.plugins.rest.common.interceptor.impl.DefaultMethodInvocation.invoke(DefaultMethodInvocation.java:61)\n       at com.atlassian.applinks.core.rest.context.ContextInterceptor.intercept(ContextInterceptor.java:19)\n       at com.atlassian.plugins.rest.common.interceptor.impl.DefaultMethodInvocation.invoke(DefaultMethodInvocation.java:61)\n       at com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper.invokeMethodWithInterceptors(DispatchProviderHelper.java:98)\n       at com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper.access$100(DispatchProviderHelper.java:28)\n       at com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper$ResponseOutInvoker._dispatch(DispatchProviderHelper.java:202)\n       at com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:67)\n       at com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:163)\n       at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:111)\n       at com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:71)\n       at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:111)\n       at com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:63)\n{noformat}\n"
61d424e7f4d395ee220058b6,29538,21600,"All application types for the atlassian products implement NonAppLinksApplicationType and this leads to a problem, when we would like to detect if the remote application is not reachable (no manifest found), because these application types try first to fetch a 'proper' manifest from the rest end point of the remote application, if they can't find one, they will return a ""static"" manifest, thus they never return no manifest.\nTo fix this we should store a property or flag indicating that the remote application doesn't support UAL and when we attempt to fetch a manifest we will only return a static manifest if this flag is present.\nThis flag can also be used to detect ""upgrades"", meaning the remote application has been upgraded to a version that supports/ships with UAL."
61d424e7f4d395ee220058cf,29345,43200,"So instead of trying to deal with an oauth-dance message in every failed jira issue link and popup, just don't apply any link rendering or popups, but just add a single info banner to the top of the page saying something along these lines:\n\n""This page refers to JIRA issues on server JAC. To enrich this page with data from JIRA, click here to establish a session with JAC""\n\nWhen a page contains info from multiple JIRA servers, the messages would be aggregated and have two login links.\n\n!http://img.skitch.com/20100728-b1wh4mcw8bgmt9c1u88u5wdqx1.png!"
61d424e7f4d395ee220058d2,29277,21600,"If either system has public signup enabled, it should be accessible to applinks to do things like display a warning.\n"
61d424e7f4d395ee220058d4,29262,43200,"The latest versions of JIRA (4.1), Confluence (3.3), FishEye/Crucible (2.3) and Bamboo (2.6) all implement context-sensitive help (as described here: https://extranet.atlassian.com/display/TECHWRITING/Online+help+architecture).\n\nHelp links from the App Links screens should implement this as well, so that we can point customers to the correct version of the App Links documentation, e.g. [App Links 3.0 docs|http://confluence.atlassian.com/display/APPLINKS/Application+Links+Documentation].\n\nIdeally, we should go a step further and improve the implementation, so that UAL can detect which application it is installed into and redirect the user to the appropriate product documentation. For example, if UAL 3.0 is installed in JIRA 4.1, then it will direct users to a page in the [JIRA 4.1 admin guide|http://confluence.atlassian.com/display/JIRA/JIRA+Administrator%27s+Guide]. If we can do this, I will plan for the documentation to be included into each of the product admin guides.\n\n"
61d424e7f4d395ee220058d6,29256,43200,"We attempt to resolve the manifest for the remote application multiple times during the UAL administration process. If the remote server is down, we wait for the default timeout (10 seconds?) multiple times.\n\nWe should reduce the number of times we retrieve the manifest, or temporarily remember the fact that the remote server is unreachable, or both."
61d424e7f4d395ee220058df,29167,43200,FishEye/Crucible\nJIRA FishEye Plugin\nStudio (AppLinks 2)\nExisting non-Studio AppLinks plugin installations (do we need to support this?)\nTrusted Applications\nOAuth\nBamboo (do we need to do this? or just note in the migration guide)
61d424e7f4d395ee220058e2,29164,43200,"Talk to Johnathon and Matt, see what the likely issues are and get a solid estimate on work."
61d424e7f4d395ee220058e3,29163,21600,https://extranet.atlassian.com/display/INTEGRATION/UAL+Product+Integration+Guide
61d424e7f4d395ee220058e4,29162,21600,- Jason said that there are still some issues with Tabs in IE
61d424e7f4d395ee220058e6,29144,7200,"@felix: not sure why, but oauth i18n is barfing:      [java] 10:53:18 ERROR - /plugins/servlet/applinks/auth/conf/oauth/outbound/3rdparty/688890b2-02b5-3eb4-a5f0-79f8067998b3\n     [java] com.atlassian.templaterenderer.RenderingException: org.apache.velocity.exception.MethodInvocationException: Invocation of method 'getText' in  class $Proxy190 threw exception java.lang.NullPointerException at auth/oauth/outbound_nonapplinks_edit.vm[line 19, column 48]\n     [java] 	at com.atlassian.templaterenderer.velocity.one.six.internal.VelocityTemplateRendererImpl.render(VelocityTemplateRendererImpl.java:99)\n     [java] 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n     [java] 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n     [java] 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n     [java] 	at java.lang.reflect.Method.invoke(Method.java:592)\n     [java] 	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:307)\n     [java] 	at org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:58)\n     [java] 	at org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:62)\n     [java] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n     [java] 	at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)\n     [java] 	at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)\n     [java] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n     [java] 	at org.springframework.osgi.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:56)\n     [java] 	at org.springframework.osgi.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:39)\n     [java] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n     [java] 	at org.springframework.osgi.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:59)\n     [java] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n     [java] 	at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)\n     [java] 	at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)\n     [java] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n     [java] 	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\n     [java] 	at $Proxy196.render(Unknown Source)\n     [java] 	at com.atlassian.applinks.ui.AbstractApplinksServlet.render(AbstractApplinksServlet.java:127)\n     [java] 	at com.atlassian.applinks.core.auth.oauth.servlets.consumer.AddServiceProviderManuallyServlet.view(AddServiceProviderManuallyServlet.java:148)\n     [java] 	at com.atlassian.applinks.core.auth.oauth.servlets.consumer.AddServiceProviderManuallyServlet.doGet(AddServiceProviderManuallyServlet.java:96)\n     [java] 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:617)\n     [java] 	at com.atlassian.applinks.ui.AbstractApplinksServlet.service(AbstractApplinksServlet.java:71)\n     [java] 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n     [java] 	at com.atlassian.plugin.servlet.DelegatingPluginServlet.service(DelegatingPluginServlet.java:42)\n     [java] 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n     [java] 	at com.atlassian.fisheye.plugin.servlet.FisheyeServletModuleContainerServlet.service(FisheyeServletModuleContainerServlet.java:61)\n     [java] 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n     [java] 	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)\n     [java] 	at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1217)\n     [java] 	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\n     [java] 	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n     [java] 	at com.atlassian.applinks.ui.auth.AdminFilter.doFilter(AdminFilter.java:57)"
61d424e7f4d395ee220058e7,28915,21600,This will make it easier for applications that require customization after an applink is created. For instance FECRU connecting to JIRA requires the admin to specify workflow actions.\n\n!http://img.skitch.com/20100715-f26n11betjtjx4tek9hru7rumu.png!\n
61d424e7f4d395ee220058e8,28788,7200,"Applinks should fire events for key changes like application added/removed, and entity added/removed."
61d424e7f4d395ee220058e9,28746,21600,* -styling of application link dropdown-\n* -behaviour of auto-complete drop down / pre-fill drop down with available values (subset)-\n* Fix text alignment
61d424e7f4d395ee220058ea,28745,21600,* Review styling and wording\n* -Remove the warning. No need to warn me; it's not a problem that it's a 1-way link-\n* -Needs total redesign; has to be read very carefully before it makes sense.-
61d424e7f4d395ee220058eb,28744,21600,"* -config tabs iframes should refresh when you click on them-\n* -Move the Update button down where it should be; by the cancel button.-\n* Review various config UI and make them consistent, use the same label for the update or save button.\n* -Eliminate scrollbars-\n* Space things out a bit; there's heaps of space\n* -The button is 'Save' here, and 'Update' on the Details screen. And it should be down by the Cancel button.-\n* -missing link updated after user clicked update-\n* -If no in\- or out-going authentication providers are available display a message rather than blank screen.- "
61d424e7f4d395ee220058ec,28743,21600,* -Make server URL clickable-\n* -Make message dialog unugly: Raise it ~10px above the header. The blue should be lighter.-
61d424e7f4d395ee220058ed,28742,21600,"* -If the ability to change is absolutely necessary, can we use a JIRA-style pencil-to-edit metaphor?-\n"
61d424e7f4d395ee2200590a,28276,3600,# Go to Add Application Link\n# Enter a hostname without http:// or https://\n# Receive the error in the screenshot. Oops.
61d424e7f4d395ee2200590b,28275,10800,"To reproduce:\n# Login to the refapp\n# Open ""Create an application link"" dialog in refapp\n# Enter a valid server URL\n# In a second tab, log out of the refapp\n# Click Next.\n\nA message appears saying ""Client must be authenticated to access this resource."" Instead, message should say ""You are no longer logged in. Please log in again and retry."""
61d424e7f4d395ee22005912,28237,21600,Looks like an OSGi visibility issue [http://stackoverflow.com/questions/177242/the-encoding-utf-8-is-not-supported-by-the-java-runtime]
61d424e7f4d395ee2200591c,28038,21600,Organise a blog/presentation about the magic that is AppLinks and get people excited about it. 
61d424e7f4d395ee2200593f,27142,43200,"We need to implement a method of rendering links in AppLinks views to product-specific online help.\n\nWe should leverage, and be consistent with, existing help architecture: https://extranet.atlassian.com/display/TECHWRITING/Online+help+architecture\n\nWe should be able to resolve the product and version from SAL. However Confluence doesn't currently support context-version specific help, so perhaps this is something we should delegate to our SPI. {{HostApplication.resolveHelpUrl(String page)}} or some such.\n\n"
61d424e7f4d395ee2200594b,27128,7200,"At the moment Application Links are ordered by create date, and with Entity Links primary always comes first. \n\nWe should be consistent. (primary first?)"
61d424e7f4d395ee2200594f,27124,21600,"Error message should be better than ""client must be authenticated to access this resource"""
61d424e7f4d395ee22005950,27123,3600,So it looks like your left without a new primary until you refresh the page http://screencast.com/t/Y2VhOTQzNTc
61d424e7f4d395ee22005954,27103,3600,Create an application link to an application doesn't support applinks and thus doesn't allow us to auto suggest possible entities.\nGo to the entity linking screen and select this application. Instead of auto suggestion we need a simple input type text field to be able to specify a linked entity.
61d424e7f4d395ee22005955,27044,14400,"Currently there is no way to easily access i18n properties from JavaScript. As an intermediate solution these can come from a REST endpoint, but should really be in the web resource manager."
61d424e7f4d395ee22005959,27012,21600,- write selenium tests that test the current functionality of the applinks plugin (e.g. adding/removing/updating application links and entity links)
61d424e7f4d395ee22005985,25739,28800,"# Write a read-only API for consuming established application links, including: (2w)\n## *Link Resolution*\n### service(s) for retrieving links and remote entities that have been configured via the adminisitration UI *\[C1-8\]*\n## *Authentication*\n### a factory for creating SAL HTTP requests targeting a remote application, using a configured authentication type for that remote application *\[C1-3, C6-7\]*\n### a service for authenticating non-SAL HTTP requests, using a configured authentication type for that remote application *\[C1-3, C6-7\]*\n### ability to discover supported authentication types for a link *\[C4-5\]*\n## *Property Annotation*\n### a service providing CRUD for String properties and simple data structures against links and remote entities *\[C9, E3\]*\n# Create a writeable API for mutating application links, to be used by administrative plugins to perform CRUD on application links, including:&nbsp; (1w)\n## service(s) for performing CRUD for links, remote entities and authentication types *\[A13, A15\]*\n# Write an SPI for applinks persistence (1w)\n## Write a default implementation using SAL\n# Write dynamic plugin module types for adding additional remote application and entity types *\[E2\]* (2d)\n# Write a dynamic plugin module type for adding additional authentication types *\[E1\]* (3d)\n"
61d424e7f4d395ee220059bc,16493,43200,The best way to implement this would be to move the synchronisation logic out of the JIRA EditInstances action and into applinks-core where it can be  reused.
61d424e7f4d395ee220059bd,16492,43200,"Currently when using the AppLinks synchronisation function, the local instance name when synchronising from JIRA is always ""jira"" and when synchronising from Confluence is always ""confluence"".  This means that all JIRA and Confluence instances that you want to perform synchronisation from must be called ""jira"" and ""confluence"".  A configuration item should be added to specify the local instance name."
61d424e7f4d395ee220059ef,283257,7200,Creating our Bitbucket branches via Jira but the commits do not reflect anywhere in Jira. 
61d424e7f4d395ee22005c6e,56823,21600,This is a generic module type that any plugin should be able to use.
61d424e7f4d395ee22005c80,56858,14400,"In order to preserve backward compatibility, all JUL logging should be happening by default, refactoring so that all calls go through an ActiveObjects logging facade makes it easier to switch to another framework afterwards."
61d424e7f4d395ee22005c86,56641,7200,"Most of the Class.forName() usages aren't going to hurt us, but we should fix all of them anyway."
61d424e7f4d395ee22005c87,56797,1800,"ActiveObjects has its own implementation of a HashMap with soft references, it is suggested to use the {{com.google.common.collect.MapMaker}} to create such a map instead."
61d424e7f4d395ee22005c89,56591,14400,"It should use a runtime exception (tree) wrapping the SQLException if necessary. If we cannot do that in ActiveObject itself, then we should do that at our plugin level."
61d424e7f4d395ee22005d6f,137761,3600,"After creating the Licesing API Support module and starting crowd with atlas-run it fails to load the com.atlassian.upm.plugin-license-storage-plugin as\r\n{noformat}\r\n2016-04-28 14:47:35,367 ThreadPoolAsyncTaskExecutor::Thread 7 ERROR [plugin.osgi.factory.OsgiPlugin] Unable to start the plugin container for plugin com.atlassian.upm.plugin-license-storage-plugin\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'licenseReceiptValidator' defined in URL [bundle://37.0:0/META-INF/spring/atlassian-plugins-components.xml]: Unsatisfied dependency expressed through constructor argument with index 0 of type [com.atlassian.upm.license.internal.PluginLicenseRepository]: : Error creating bean with name 'pluginLicenseRepository' defined in URL [bundle://37.0:0/META-INF/spring/atlassian-plugins-components.xml]: Unsatisfied dependency expressed through constructor argument with index 0 of type [com.atlassian.upm.license.internal.HostLicenseProvider]: : No unique bean of type [com.atlassian.upm.license.internal.HostLicenseProvider] is defined: Unsatisfied dependency of type [interface com.atlassian.upm.license.internal.HostLicenseProvider]: expected at least 1 matching bean; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No unique bean of type [com.atlassian.upm.license.internal.HostLicenseProvider] is defined: Unsatisfied dependency of type [interface com.atlassian.upm.license.internal.HostLicenseProvider]: expected at least 1 matching bean; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'pluginLicenseRepository' defined in URL [bundle://37.0:0/META-INF/spring/atlassian-plugins-components.xml]: Unsatisfied dependency expressed through constructor argument with index 0 of type [com.atlassian.upm.license.internal.HostLicenseProvider]: : No unique bean of type [com.atlassian.upm.license.internal.HostLicenseProvider] is defined: Unsatisfied dependency of type [interface com.atlassian.upm.license.internal.HostLicenseProvider]: expected at least 1 matching bean; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No unique bean of type [com.atlassian.upm.license.internal.HostLicenseProvider] is defined: Unsatisfied dependency of type [interface com.atlassian.upm.license.internal.HostLicenseProvider]: expected at least 1 matching bean\r\n	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:591)\r\n	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:193)\r\n	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:925)\r\n	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:835)\r\n	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:440)\r\n	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$1.run(AbstractAutowireCapableBeanFactory.java:409)\r\n	at java.security.AccessController.doPrivileged(Native Method)\r\n	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:380)\r\n	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:264)\r\n	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:261)\r\n	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:185)\r\n	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:164)\r\n	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:429)\r\n	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:728)\r\n	at org.springframework.osgi.context.support.AbstractDelegatedExecutionApplicationContext.access$1600(AbstractDelegatedExecutionApplicationContext.java:69)\r\n	at org.springframework.osgi.context.support.AbstractDelegatedExecutionApplicationContext$4.run(AbstractDelegatedExecutionApplicationContext.java:355)\r\n	at org.springframework.osgi.util.internal.PrivilegedUtils.executeWithCustomTCCL(PrivilegedUtils.java:85)\r\n	at org.springframework.osgi.context.support.AbstractDelegatedExecutionApplicationContext.completeRefresh(AbstractDelegatedExecutionApplicationContext.java:320)\r\n	at org.springframework.osgi.extender.internal.dependencies.startup.DependencyWaiterApplicationContextExecutor$CompleteRefreshTask.run(DependencyWaiterApplicationContextExecutor.java:132)\r\n	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n	at java.lang.Thread.run(Thread.java:745)\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'pluginLicenseRepository' defined in URL [bundle://37.0:0/META-INF/spring/atlassian-plugins-components.xml]: Unsatisfied dependency expressed through constructor argument with index 0 of type [com.atlassian.upm.license.internal.HostLicenseProvider]: : No unique bean of type [com.atlassian.upm.license.internal.HostLicenseProvider] is defined: Unsatisfied dependency of type [interface com.atlassian.upm.license.internal.HostLicenseProvider]: expected at least 1 matching bean; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No unique bean of type [com.atlassian.upm.license.internal.HostLicenseProvider] is defined: Unsatisfied dependency of type [interface com.atlassian.upm.license.internal.HostLicenseProvider]: expected at least 1 matching bean\r\n	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:591)\r\n	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:193)\r\n	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:925)\r\n	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:835)\r\n	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:440)\r\n	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$1.run(AbstractAutowireCapableBeanFactory.java:409)\r\n	at java.security.AccessController.doPrivileged(Native Method)\r\n	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:380)\r\n	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:264)\r\n	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:261)\r\n	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:185)\r\n	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:164)\r\n	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:671)\r\n	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:610)\r\n	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:622)\r\n	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:584)\r\n	... 22 more\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No unique bean of type [com.atlassian.upm.license.internal.HostLicenseProvider] is defined: Unsatisfied dependency of type [interface com.atlassian.upm.license.internal.HostLicenseProvider]: expected at least 1 matching bean\r\n	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:613)\r\n	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:622)\r\n	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:584)\r\n	... 38 more\r\n\r\n{noformat}\r\nReproduce the issue:\r\n# Generate an empty Crowd plugin with atlas-create-crowd-plugin. Add the three missing dependency versions.\r\n# Generate the License API Support module with atlas-create-crowd-plugin-module selecting the option 4 and accept the default values. Comment out the <!--Atlassian-Plugin-Key>${atlassian.plugin.key}</Atlassian-Plugin-Key--> as this module generator is not yet spring scanner aware.\r\n# atlas-run and see the log or try the license servlet page\r\n\r\nThis plugin is essential for licensed plugin development as the UPM is still not available for crowd."
61d424e7f4d395ee22005ddb,110397,28800,"Integration tests won't work in Stash \r\nSteps to reproduce:\r\n1) Create a dummy plugin{code}atlas-create-stash-plugin{code}\r\n2) Run integration test{code}atlas-integration-test{code}\r\n3) Error \r\n{code}No tests found in class [it.mygroup.MyComponentWiredTest]  Time elapsed: 1.792 sec  <<< ERROR!{code}\r\nThe integration test have tests in them. \r\nI debugged the issue and it looks like the test plugin doesn't get enabled.\r\n{code}2014-04-16 19:52:38,239 WARN  [localhost-startStop-1]  c.a.plugin.manager.PluginEnabler Plugin 'mygroup.myartifact-tests' did not enable within 5 seconds{code}\r\nIf I remove  ""Atlassian-Plugin-Key"" property from the manifest file of the test plugin('mygroup.myartifact-tests' ) everything works, the plugin gets enabled and tests run properly.\r\nThe following line is causing the issue, Any idea why we added it? and is it possible to remove this line\r\nhttps://bitbucket.org/atlassian/amps/src/644074e885c145e0f920e4ac6e614418d6ac1897/maven-amps-plugin/src/main/java/com/atlassian/maven/plugins/amps/TestJarMojo.java?at=master#cl-72\r\n"
61d424e7f4d395ee22005e11,96774,57600,"Run the {{atlas-create-jira-plugin}} command. The created POM contains these properties:\r\n\r\n{code}    <properties>\r\n        <jira.version>6.3</jira.version>\r\n        <amps.version>5.0.3</amps.version>\r\n        <plugin.testrunner.version>1.2.0</plugin.testrunner.version>\r\n	<!-- TestKit version 5.x for JIRA 5.x, 6.x for JIRA 6.x -->\r\n	<testkit.version>5.2.26</testkit.version>\r\n    </properties>{code}\r\n\r\nThe testkit version is clearly wrong for a JIRA 6.x plugin, as explained in the generated comment. The latest 6.x version of {{jira-testkit-client}} is 6.3.11, according to maven.atlassian.com; that's probably the version it should use."
61d424e7f4d395ee22005e4e,87236,28800,"Atlassian bin commands and mvn.bat do not work correctly when external mvn configurations are present. Specifically, we have a local caching server for maven, however the SDK isn't smart enough to use its own configuration file. This means that the -gs flag must be changed to -s in all sdk batch files.\r\n\r\nIn addition, commands which call maven external to the batch scripts do not include any flag (or if they do, it is baked in and unavailable for modification) - a specific example is Fastdev. As a result, the maven command fails. To fix this problem, it is suggested to modify the mvn.bat or unix equivalent to directly point to the sdk configuration file at all times."
61d424e7f4d395ee22005e56,85745,10800,"Currently the existing  documentation regarding using Atlassian SDK with IntelliJ IDEA is extremely incomplete, providing help on how to use the IDE as an extended notepad: https://developer.atlassian.com/display/DOCS/Configure+IDEA+to+use+the+SDK \r\n\r\nWhile IDEA is smart enough in order to detect the maven projects it lacks few essentials integrations which have to be documented by Atlassian.\r\n\r\nPlease clarify, for IDEA:\r\n* how to build\r\n* how to run the tests\r\n* how to debug\r\n* how to deploy and debug a remote instance\r\n\r\nThis is what it would make the page really useful, to be able to properly use an IDE to develop plugins, not to use it as a text editor. "
61d424e7f4d395ee22005e5e,84818,10800,"Current installation instructions for Debian systems are incorrect and not using the recommended methods, which are two:\r\n\r\nVia {{add-apt-repository}} utility which simplifies the process and that's available on most distros.\r\n\r\nAlways working method of to add new {{apt}} repositoriy: creating a new file inside like {{/etc/apt/sources.list.d/atlassian.list}}\r\n\r\nAltering the sources.list method is not recommended anymore, this is supposed to include only Linux distribution files and not custom ones.\r\n"
61d424e7f4d395ee2200603d,42658,14400,Fix studio-crowd
61d424e7f4d395ee2200604c,42392,10800,Amps should do the same as the Fireball does for local deployments.
61d424e7f4d395ee2200604d,42391,32400,"We must enable all that's required so that any plugin developer (including outside of Atlassian) can run integration tests in Studio using Amps.\nTask includes:\n* Have a ""client"" - a plugin developer\n* Put the normal Studio artifacts in public repos - See: https://extranet.atlassian.com/display/~aragot/About+publishing+the+Studio+wars\n* Have a developer license\n\n"
61d424e7f4d395ee2200604f,42389,32400,"Studio Amps must start with sample data: one project, a few users.\nSo:\n* The normal Studio build must create the test-resources in its regular work."
61d424e7f4d395ee22006052,42382,7200,"Impacts only Amps 3.5-m3 to -m9.\n\nIn MavenGoals#copyWebappWar(), we use maven-dependency-plugin:copy.\n\nWhen Amps tries to test 2 applications in parallel, it tries to copy their war approximately at the same time:\n* maven-dependency-plugin:copy - first call: succeeds\n* maven-dependency-plugin:copy - concurrent call: exit without copying the file and without exception.\nIt started in 3.5-m3, just after AMPS-515 implementation. No problem with -m2.\n\n*Steps to reproduce*:\n{code}\ncd applinks-test\nmvn install -Dskip.integration.tests=false -Damps.version=3.5-m3\n{code}\nYou get ""error in opening zip file"" because the file wasn't extracted.\n\n*Details*\nIf you run it with -X, you'll notice executeMojo(maven-dependency-plugin:copy) (in MavenGoals.java:278) is called with the right arguments, but there is an interference, causing the maven plugin to be actually called twice with the same arguments.\n\n*Solution*\nThere is no solution. We must back out AMPS-515."
61d424e7f4d395ee220060de,35087,3600,Does it need more explanation?
61d42696f4d395ee220060f9,32619,3600,Newly created plugins have:\n\n{code}\n    <properties>\n        <crowd.version>2.0.4</crowd.version>\n        <crowd.data.version>2.0.3</crowd.data.version>\n    </properties>\n{code}\n\nWe should bump these both to 2.1.0 once Crowd 2.1.0 is officially released.\n\nThe latest released version of Crowd now is 2.0.7.
61d42696f4d395ee2200610b,31230,14400,"AMPS sets the http.port and context.path properties for the surefire integration test execution, but it should set these for the product instance as well, to support tests ran from plugins via the functest-plugin.\n\nAlso, system properties for other application instances should be made available as well."
61d42696f4d395ee2200610d,31088,14400,"A common pattern in writing plugins is to write another plugin that contains REST resources that consume plugin services.  However, it means a multi-module project, which is a bit of a pain and quite difficult to get right for Maven beginners.\n\nAmps should support packaging and deploying test classes as a plugin for testing.  This will significantly simplify plugin projects and enable neat things like the [functest-plugin|https://studio.atlassian.com/browse/FP], which allows functional tests to be written as a plugin.  This plugin is currently being used by the platform team and the same concept by the FeCru team, which will soon migrate.\n\nIt should work by detecting if the test classes should be a plugin, and if so, jar them up and deploy them.  The manifest can be a simple one that dynamically imports everything (this is how pax exam works).  The detection should trigger if an atlassian-plugin.xml file is found in the test resources."
61d42696f4d395ee22006148,27164,43200,"To be able to run selenium test during the integration test phase a selenium server has to be started and stopped.\nFurthermore for builds running on a build server where no guarantee about open ports can be made, the amps plugin has to determine an open port and pass this port to the surefire plugin, so the tests know where the selenium server is running."
61d42696f4d395ee2200618a,24365,14400,"Most of the archetypes auto-generate unit test and integration test classes. Most have names of the form TestFoo but some use FooTest. We should prefer FooTest and use it consistently, since class names should generally be nouns, not verbs."
61d42696f4d395ee22006193,23879,14400,"When you create your plugin, the SDK automatically creates a {{README}} file:\n* It's out of date.\n* It tells you to ""delete this file"" -- no-one ever does that.\n\nI'd suggest we just remove the README file, or put some simple text in it referring to our CAC docs:\nhttp://confluence.atlassian.com/display/DEVNET/Developing+your+Plugin+using+the+Atlassian+Plugin+SDK"
61d42696f4d395ee2200619d,23795,43200,"The problem is that using atlas-cli and pi only works if a developer can have confidence that the plugin will be updated. Otherwise I have to restart atlas-run, or even worse run atlas-clean, atlas-run. \nI think what is needed is a complete list of what will work with pi and what won't. For instance, .vm template files appear to not get refreshed with pi, and in fact I have to delete all transformed plugin jar files as well.\nIf a developer can't reply on pi, then the code/deploy/test cycle requires atlas-run every time and becomes incredibly tedious. \n\nDon - who has developed new plugins for JIRA using the new SDK so far? What's their feedback?\n"
61d42696f4d395ee220061bd,23504,21600,"Try the following:\n\n{noformat}\n$ atlas-debug --jvmargs ""-Dcom.sun.management.jmxremote -Xmx512m""\n{noformat}\n\nIt executes\n{noformat}\nExecuting: /opt/atlassian-plugin-sdk-3.0-rc1/apache-maven/bin/mvn com.atlassian.maven.plugins:maven-amps-dispatcher-plugin:debug  -Djvmargs=-Dcom.sun.management.jmxremote -Xmx512m\n{noformat}\n\nwhile fails with \n{noformat}\nInvalid task 'mx512m': you must specify a valid lifecycle phase, or a goal in the format plugin:goal or pluginGroupId:pluginArtifactId:pluginVersion:goal\n{noformat}"
61d42696f4d395ee2200624a,21758,64800,"I.e. multiple versions, home directory per application..."
61d42696f4d395ee2200624d,21755,7200,Use the local repository as far as possible.
61d42696f4d395ee2200624e,21754,14400,* public blog\n* forums\n* lists
61d42696f4d395ee22006251,21751,21600,The same way it exists for other products
61d42696f4d395ee22006252,21750,21600,The same way as it exists for other products.
61d42696f4d395ee22006254,21748,21600,Test resources used by this plugin should be artifact deployed as part of the products' build.
61d42696f4d395ee22006255,21747,21600,Test resources used by this plugin should be artifact deployed as part of the products' build.
61d42696f4d395ee22006256,21746,21600,Test resources used by this plugin should be artifact deployed as part of the products' build.
61d42696f4d395ee2200625c,21740,7200,Integration tests in packages {{all.*}} should be run against all products.
61d42696f4d395ee22006e89,48612,324000,"UX notes:\r\n\r\ncodegeist listing and voting page:\r\n- clicking circle pictures or text below will take to relevant section in details page\r\n- codegeist add-ons on this page do not have the ribbon in other listing page\r\n\r\ncodegeist contest details page:\r\n- clicking add-on previous winners will take to public listing page on pac\r\n- clicking on judges will take somewhere?\r\n\r\ncodegeist listing and voting page BLANK STATE: \r\n- this is what appears if there are NO add-ons\r\n- do not display sidebar lists if no add-ons\r\n- once we have one add-on, do not show this state\r\n\r\nlegal details page:\r\n- link at top takes back to contest details page\r\n- otherwise just static legal text\r\n\r\npac landing page:\r\n- a sidebar banner linking to the codegeist listing and voting page\r\n- a ribbon in the upper left corner of any codegeist add-on\r\n\r\npac public add-on page: \r\n- a ribbon in the upper left corner of any add-on that is codegeist 2011 listed\r\n\r\nTo-do:\r\n- Rich to get confirmation on pictures and funny titles of the judges"
61d42696f4d395ee220070f8,47124,64800,"We currently don't have an approval process for plugin versions. However, when a non-marketplace plugin is transitioned to marketplace (as defined by a new version being set as marketplace-enabled), we want to approve that version without having to de-list the entire plugin.\n"
61d42696f4d395ee2200749c,135337,2880,confluence gadgets were moved to early startup and in order for upgrade atlassian gadgets need to be moved as well.
61d42696f4d395ee22007540,51494,64800,"Did all but integration tests, since they will be rewritten anyway."
61d42696f4d395ee22007541,50212,648000,"Currently, the gadget directory can subscribe from any URL entered via the UI.  This should instead be changed to only allow the user to select one or more applinks as approved gadget directories.\n\nImplementation notes:\n* Consume the applinks service via component-import\n* Change REST resource to accept applink ids for gadget subscriptions\n* Change UI for entering gadget server url to instead show list of applinks with, say, checkboxes for which are active gadget servers\n** Include verbiage, or better yet, a link to the applinks UI for adding a new applink.  Ideally, this kicks off the wizard, and refreshes the list of applinks upon completion."
61d42696f4d395ee22007543,50219,216000,The open proxy currently doesn't filter who it sends requests to.  This should be done by using a whitelist.\n\nThe work here is:\n* Create a SAL {{Whitelist}} interface\n* Add component-import for {{Whitelist}}\n* Update HttpClientFetcher to check the URI against the whitelist before making requests\n* log requests to failed URIs\n* Integration test\n* Lots of manual testing\n
61d42696f4d395ee22007545,51486,3600,"PLUG-275 was filed on the plugin framework. However seems AG already works correctly (as of today) without any changes in PLUG required.\n\nIn this JIRA, I will just write a test case to demonstrate that it already works."
61d42696f4d395ee2200754d,50773,3600,"We see a lot of this error: logDetailedWarning OAuth fetch fatal error. It gets printed out at WARN level, but it's far too verbose for that.\nThe detailed error with headers should be printed only at DEBUG or maybe INFO, at WARN it should be just the error message.\nSee CONFDEV-665\n"
61d42696f4d395ee22007591,50285,14400,We should remove all gadgets from that subscription immediately.  When a user tries to add a gadget from a now removed subscription they get a permission error - not a great experience.
61d42696f4d395ee22007592,50465,14400,"If you add a new subscription (say DTAC) and immediately add a gadget to your dashboard it shows up with the permission error shown in the attached screenshot.  Once the page is refreshed, it shows up fine.  \n\nI haven't really investigated the cause for this.  It *could* be an issue with the permissionService in JIRA however given that it works on refresh I'm tempted to say for now that it's a bug in AG :)."
61d42696f4d395ee22007593,50429,14400,"This happened for me when I was adding DTAC as a subscription.  Guess it takes a while to retrieve gadgets across the pacific.  We should probably either stay on the add subscription page (disable form inputs) and show a throbber, or at the very least go back to the gadget listing and show existing gadgets, with a throbber somehwere to indicate something is still being loaded in the background."
61d42696f4d395ee22007594,50488,14400,See screenshot
61d42696f4d395ee22007595,50486,14400,The text in the directory popup could be improved when there's no subscriptions yet (which will be the initial state for all users).  We should probably say something along the lines of 'JIRA currently subscribes to no applications.
61d42696f4d395ee22007596,50471,14400,"I just tried upgrading JIRA to AG 2.0.2 and got the following error on startup:\nbq. org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'publishedGadgetSpecStore' defined in URL [bundle://28.0:0/META-INF/spring/atlassian-plugins-components.xml]: Unsatisfied dependency expressed through constructor argument with index 3 of type [com.atlassian.gadgets.publisher.spi.PluginGadgetSpecProviderPermission]: : No unique bean of type [com.atlassian.gadgets.publisher.spi.PluginGadgetSpecProviderPermission] is defined: expected single matching bean but found 2: [aggregatePermissions, pluginGadgetSpecProviderPermission]; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No unique bean of type [com.atlassian.gadgets.publisher.spi.PluginGadgetSpecProviderPermission] is defined: expected single matching bean but found 2: [aggregatePermissions, pluginGadgetSpecProviderPermission]\n\nI'm pretty sure that this is due to the fact that the publishedGadgetSpecStore no longer has a spring context where it explicitly requests the aggregatePermissions Provider (from AG-1.0.x):\n{noformat}\n <bean id=""publishedGadgetSpecStore""\n          class=""com.atlassian.gadgets.publisher.internal.impl.PublishedGadgetSpecStoreImpl"">\n        <constructor-arg type=""com.atlassian.gadgets.util.GadgetSpecUrlBuilder"" ref=""gadgetSpecUrlBuilder""/>\n        <constructor-arg type=""com.atlassian.gadgets.publisher.internal.GadgetSpecValidator"" ref=""gadgetSpecValidator""/>\n        <constructor-arg type=""com.atlassian.gadgets.publisher.internal.GadgetProcessor"" ref=""gadgetProcessor""/>\n        <constructor-arg type=""com.atlassian.gadgets.spi.PluginGadgetSpecProviderPermission"" ref=""aggregatePermissions"" />\n        <constructor-arg type=""com.atlassian.sal.api.ApplicationProperties"" ref=""applicationProperties""/>\n    </bean>\n{noformat}\n\nIt seems to be the most likely cause of the error I'm getting.  JIRA exports a PluginGadgetSpecProviderPermission which causes the ambiguity when constructing the publishedGadgetSpecStore."
61d42696f4d395ee220075b8,50474,14400,"Every time I access an OAuth gadget (such as the Pie Chart) in Confluence or the RefApp (and it probably occurs in JIRA too) I get the following errors :\n\n{code}\n2009-11-16 11:22:23,631 WARN [http-9080-Processor18] [http.impl.client.DefaultRequestDirector] handleResponse Authentication error: Unable to respond to any of these challenges: {oauth=WWW-Authenticate: OAuth realm=""http%3A%2F%2Flocalhost%3A8090%2Fjira""}\n -- url: /plugins/servlet/gadgets/makeRequest | userName: admin | referer: http://localhost:9080/plugins/servlet/gadgets/ifr?container=atlassian&mid=40802254848&nocache=1&country=GB&lang=en&view=default&view-params=%7B%22writable%22%3A%22true%22%7D&st=atlassian%3A2NzaL%2Bu7u9qlWAWvD4MgPVcP%2FfT9FdkNb3SHPFJ6Ubekm6g69inLf%2FM347F7%2FAPrN8TG%2BXRQx85koJejjqvw6V3ZpWGh%2B4FpTRsGaLrDfwXMUvqYQ2Mq0d%2FWEGanqvnC31Pb%2FpqHGyWNRE1TYkDcooQ32%2FjhRhbYuH1KJxUhQmOieM4VDIJHi4GXloV063dsjpQT%2FGmFjqbSG4NWEi5l2ZhBHMCR%2BKFulGI4o%2FTVq7MmgBdnUNRutNg%2F87KdLc%2BtMSomET5Oa59IUdbJkvvBBtm5xJ3G8Hhd83IfEI3iEaxqfmZxWUL%2B8YSD%2FjvmDLH8zNCB0fQU%2BRXSHEfpUh9nY299Cnw%3D&up_num=10&up_isConfigured=false&up_columnNames=--Default--&up_refresh=false&url=http%3A%2F%2Flocalhost%3A8090%2Fjira%2Frest%2Fgadgets%2F1.0%2Fg%2Fcom.atlassian.jira.gadgets%3Aassigned-to-me-gadget%2Fgadgets%2Fassigned-to-me-gadget.xml\n{code}\n\nThis is logged in DefaultRequestDirector (and is thrown by AbstractAuthenticanHandler), which is within httpclient, so I don't believe it would be that straightforward to fix it.\n"
61d42696f4d395ee220075b9,51479,600,plugin disabling/re-enabling causing build failure and preventing rc2 build.
61d42696f4d395ee220075ba,50821,21600,"(03:24:15 PM) Don Brown: I think that warning is because the plugin is being enabled then disabled before it is finished coming up\n(03:24:41 PM) Don Brown: if you called pluginmanager.enablePlugin(), you wouldn't have this problem\n(03:25:01 PM) Don Brown: you shouldn't be calling setEnabled() at all on the plugin object\n(03:25:19 PM) Don Brown: the code that caused this is a tightening up on the allowed state transitions\n(03:25:28 PM) Don Brown: so it was working before mostly by accident\n(03:25:30 PM) rich: that's not THE plugin object, that's the JAXB representation of the plugin object\n(03:26:02 PM) Don Brown: ah\n(03:27:54 PM) Don Brown: hmm...the explanation mostly holds still since we don't block the disable process, waiting for the plugin to fully shut down\n(03:27:57 PM) Don Brown: where we do for enable\n(03:28:39 PM) Don Brown: if you call disable then enable real quick, the plugin is probably not fully down, so the extra event from spring screws up the enabling"
61d42696f4d395ee220075ca,50176,21600,"I've just come across an issue with Gadgets embedded on pages other than the dashboard (i.e. activity stream on view profile) since upgrading to 1.1.1 of the dashboard plugin.  I tried downgrading to 1.0.3 of AG and things worked fine.\n\nWhat happens with 1.1.1 is that the gadget doesn't resize vertically and the browser (reproducible in FF and Safari...haven't tried IE or any others) throws this error:\nError: uncaught exception: [Exception... ""An invalid or illegal string was specified""  code: ""12"" nsresult: ""0x8053000c (NS_ERROR_DOM_SYNTAX_ERR)""  location: ""http://localhost:8090/jira/plugins/servlet/gadgets/ifr?container=atlassian&mid=stream&nocache=1&country=AU&lang=en&view=default&debug=1&view-params=%7B%22writable%22%3A%22false%22%7D&st=atlassian%3AhTJKqq00Q782qJwnnYO4QH0J5CfHQvjxDJPCBZdgkwFAlmY03pYyeL8vUOYp%2FUDRK1doRjLsOsBLMcy36FLzkTwQDLaMnl3aNYXACJnzQKJsgy%2BgNRBxt6O4ygDf%2FK9jsrDXcW%2FbZ6p836ukRRvD8YW%2ByW6arddFKrYt0GtaeFaerqJ3ZyorLTwzVmr5yPbyMif3T50AGwvrw8sibeH1U9YbtXvh%2FoPOvdg4WmgbsdznEGUDNfE79S%2BMtMnUeLo9fxCNuZ8KyaVgZSe0ECGbXqr9AJ94F6b2%2Fs5qXnJqgMmn1KH%2B&up_isConfigured=true&up_isConfigurable=false&up_refresh=false&up_title=&up_titleRequired=false&up_keys=&up_itemKeys=&up_username=admin&up_numofentries=20&url=http%3A%2F%2Flocalhost%3A8090%2Fjira%2Frest%2Fgadgets%2F1.0%2Fg%2Fcom.atlassian.streams.streams-jira-plugin%2Fgadgets%2Factivitystream-gadget.xml#rpctoken=1929103575 Line: 2836""]\n\nIt happens on line 2836 of the javascript included by shindig in the gadget iframe:\n{noformat}\n2834 case 'wpm': // use window.postMessage.\n2835    var targetWin = targetId === '..' ? parent : frames[targetId];\n2836    targetWin.postMessage(rpcData, relayUrl[targetId]);\n2837    break;\n{noformat}\n\nFrom what I can tell, when the gadgets.adjustHeight() method is called it makes some sort of an RPC call once the height has been adjusted successfully, which ends up calling the javascript on line 2836 which fails with the error above. \n\nI'll keep investigating it from this end, but you know this code better than me.  I've looked through most of the changes in AG from 1.0.3 - 1.1.1 but nothing sticks out that could be causing this to me.\n\nThis is currently holding up JIRA 4.0.1 so it should be priority over any other work."
61d42696f4d395ee220075ce,51355,7200,"According to the OpenSocial spec* a person id must contain only alphanumeric characters, underscore, dash, and dot.  Validate this in the ctor.\n\n* http://www.opensocial.org/Technical-Resources/opensocial-spec-v09/OpenSocial-Specification.html#rfc.section.4.1.1.1"
61d42696f4d395ee220075cf,50357,14400,"App data should be stored per-application, using the appId."
61d42696f4d395ee220075d3,50509,7200,"Our message bundles are too specific: by specifying language _and_ country, it means that if someone uses a locale with the same language, but another country, it will use the fallback locales for them. For example, a user with the Germany German locale will see dashbords/gadgets in German, but a user with Swiss German or Austrian German will see them in Australian English. Same goes for French Canadian, etc.\n\nOTOH, the en_US locale should keep the country code."
61d42696f4d395ee220075d7,51235,3600,"Two totally different issues, but they were bothering me at a specific time.\n\n1) OpenSocialTest creates new dashboards for each test, which DashboardTestBase doesn't clean up. That leaves the gadgets on the board between tests.\n2) There's a ton of spam coming from the auth plugin... should push a log4j change to eliminate the worst of it."
61d42696f4d395ee220075d9,51371,14400,https://studio.atlassian.com/source/cru/CR-AG-741#c9917
61d42696f4d395ee220075db,51381,7200,see https://studio.atlassian.com/source/cru/CR-AG-733#c9896
61d42696f4d395ee220075dc,51311,14400,https://studio.atlassian.com/source/cru/CR-AG-727/review#c9881
61d42696f4d395ee220075e7,50843,43200,Now that the smocial services are implemented we should consider making sure they pass all the compliance tests:\n\nhttp://code.google.com/p/opensocial-resources/wiki/ComplianceTests\n\nand add these compliance tests to our test suite.
61d42696f4d395ee220075ea,50405,7200,1) remove serialization marker\n2) implement toString properly\n3) check for null where appropriate
61d42696f4d395ee220075ee,50483,14400,move use of the fields parameter to filter Activity contents out of our ActivityService and into ShindigActivityServiceImpl. and the Activity.Field class should not be part of the SPI: the class should be moved to where it is used. \n\nthis is based on comments on https://studio.atlassian.com/source/cru/CR-AG-708
61d42696f4d395ee220075ef,50676,43200,"At the moment, when almost any problem occurs such that the gadget spec cannot be retrieved by the gadget container, we see an error like this:\n\n{code}\nError loading gadget: org.apache.shindig.gadgets.GadgetException: Unable to retrieve gadget xml. HTTP error 500\n{code}\n\nIt would be nice to have an error message describing the problem to aid diagnosis. (e.g. server certificate not accepted)"
61d42696f4d395ee220075f0,50349,7200,https://studio.atlassian.com/source/cru/CR-AG-688#c9443
61d42696f4d395ee220075f1,50290,14400,https://studio.atlassian.com/source/cru/CR-AG-711/#c9601
61d42696f4d395ee220075f2,51177,14400,"if we want to support MediaItems in our Activities (and some have said we should), we need to make our own version of MediaItem and conversion code to go between our and the Shindig versions. and we'd need to update the code that converts an Activity to Properties for storage"
61d42696f4d395ee220075f4,51243,7200,Need to delete the fields parameter in the SPI layer
61d42696f4d395ee220075f5,50943,14400,"all of the methods in ShindigActivityServiceImpl should be used in a sample gadget, and there should be an integration test (or tests) to show they work. (they call into parallel methods in our ActivityService which is unit tested)"
61d42696f4d395ee220075f7,51438,14400,see https://studio.atlassian.com/source/cru/CR-AG-710#c9541
61d42696f4d395ee220075f8,51273,600,"Please update the Gadgets version number at the top of the {{help-paths.properties}} file in the {{atlassian-gadgets-dashboard-plugin-x.x.x.jar}} file.\n\nCurrent version is ""010"":\n{code}\nbase.url = http://docs.atlassian.com/atlassian-gadgets/docs-010/\n{code}\n\nThis should be updated to ""020"":\n{code}\nbase.url = http://docs.atlassian.com/atlassian-gadgets/docs-020/\n{code}\n\n*Note:* The .htaccess file will rely on this version number to re-direct the help links to the proper documentation space. See AG-1112."
61d42696f4d395ee220075f9,50226,14400,"Now that we're approaching the release of Gadgets 2.0, the help links in on the 1.0 UI should be redirected to the GADGETS010 space.\n\nPlease update the {{.htaccess}} file on docs.atlassian.com to redirect the help calls from Gadgets 1.0 to the GADGETS010 space, and to send help calls from Gadgets 2.0 to the GADGETS space.\n\n_Update Tues 20 Oct_: Please also update the .htaccess file to redirect calls from Gadgets 1.1 to the GADGETS010 space. (Same space as Gadgets 1.0.) See AG-1131. \n\nReference: https://extranet.atlassian.com/display/CROWD/Updating+Help+Links"
61d42696f4d395ee220075fb,50452,21600,"If you embed a gadget that is configurable, but you are not logged in or haven't authorized the gadget yet you get a nice warning that more information might be available if you authorize the gadget. This is not implemented for gadgets that are not configurable, instead you only get a very minimalistic ""Login & Approve"" button."
61d42696f4d395ee220075fc,51376,14400,"In Confluence the static resource path may contain a '$' character if the build number is not set, which makes com.atlassian.gadgets.publisher.internal.impl.GadgetProcessorImpl.processStaticResourceUrl(String) blow up on matcher.appendReplacement(processedGadgetSpec, staticResourceUrl).\nI know this is a very rare case but I think we should try to give better error messages if processing the gadget spec fails and in this particular case we should replace ""\"" and ""$"" in the url with the escaped versions to avoid this kind of problems.\n"
61d42696f4d395ee22007605,50786,14400,"These need to be implemented. There should also be a test gadget that demos the service from start to finish, and an integration test for that gadget.\n\nMake sure to wrap in transactions, too (ref: AG-1071)."
61d42696f4d395ee22007606,50181,14400,"If you construct a gadget with a base URL that matches the beginning of the gadget iframe URL, then requesting a URL using OAuth that *does not* fall under the base URL does not go through the OAuth dance properly.\n\nThere are a couple of things wrong with this:\n\n# Using OAuth should work correctly when the request URL has nothing to do with either the container URL or the gadget's configured base URL\n# Checking that the gadget's iframe location starts with the gadget's base URL is checking the wrong thing. This won't correctly handle the case when the gadget base URL is EAC and the container is EACJ"
61d42696f4d395ee22007607,50644,43200,"The current transaction template implementation in the refimpl does nothing, which means that our PluginSettingsDashboardStateStore and other services that will use transactions (e.g. smocial) have atomicity problems.\n\nWe could use the atlassian concurrency library to create a simple lock-based implementation of transaction template and use that."
61d42696f4d395ee22007608,50368,14400,"For symmetry, the app data service should treat empty sets of fields as requests for all fields."
61d42696f4d395ee22007609,50915,14400,"The documentation for {{AJS.Gadget}} specifies that the {{ajaxOptions}} object is compatible with the {{jQuery.ajax}} options object. This is not entirely true, there are some differences. Aside from that, some problems can arise because the call may be made using {{jQuery.ajax}}, or may be made using {{gadgets.io.makeRequest}}, depending on various factors including the requested URL and the container the gadget is running on.\n\nOne problem, in particular, is that the {{dataType}} option is passed to jQuery directly when making calls with {{jQuery.ajax}}, and is upper-cased and used as the value for {{gadgets.io.RequestParameters.CONTENT_TYPE}} when using {{gadgets.io.makeRequest}}. However, these don't accept the same set of values:\n\n[{{jQuery.ajax}} {{options.dataType}} values|http://docs.jquery.com/Ajax/jQuery.ajax#options]:\n\n* ""xml"": Returns a XML document that can be processed via jQuery.\n* ""html"": Returns HTML as plain text; included script tags are evaluated when inserted in the DOM.\n* ""script"": Evaluates the response as JavaScript and returns it as plain text. Disables caching unless option ""cache"" is used. Note: This will turn POSTs into GETs for remote-domain requests.\n* ""json"": Evaluates the response as JSON and returns a JavaScript Object.\n* ""jsonp"": Loads in a JSON block using JSONP. Will add an extra ""?callback=?"" to the end of your URL to specify the callback. (Added in jQuery 1.2)\n* ""text"": A plain text string.\n\n[{{gadgets.io.makeRequst}} {{gadgets.io.ContentType}} values|http://code.google.com/apis/opensocial/docs/0.8/reference/gadgets/#gadgets.io.ContentType]:\n\n* ""DOM"": Returns a DOM object; used for fetching XML\n* ""FEED"": Returns a JSON representation of an RSS or Atom feed\n* ""JSON"": Returns a JSON object\n* ""TEXT"": Returns text; used for fetching HTML\n\nThere are a few issues to note:\n\n* The set of allowed options don't overlap completely. The {{makeRequest}} method doesn't support html, script, or jsonp, and {{jQuery.ajax}} doesn't support feed.\n* jQuery uses ""xml"" where {{makeRequest}} uses ""DOM"" *this means it is currently impossible to access XML resources in an AJS gadget in a way that will work correctly across containers*\n\n\nFor simplicity's sake, I'd suggest that we only allow the values of ""xml"", ""json"", and ""text"", and internally map ""xml"" to ""DOM"" when using {{makeRequest}}. If there's a demand for additional data types, those can be added later."
61d42696f4d395ee2200760c,51189,14400,There are no unit tests for PluginSettingsAppDataService. Add them.
61d42696f4d395ee2200760d,51120,14400,We need to look over the SecurityToken wrapper class (it wraps Shindig's SecurityToken) and see if we're exposing everything that we should be.
61d42696f4d395ee2200760e,51389,14400,"John Kodumal\n11:04\nsorry, gotta ask again--- can someone clue me in on threading and the dashboard state store?\n\nrich\n11:05\nwhat do you mean by ""is it single threaded""?\n\nJohn Kodumal 11:05\nis it supposed to be thread safe?\n\nrich 11:05\ni think the expectation is that any concurrency issues will be handled by the product implementation of the SAL api\n\nJohn Kodumal 11:06\nwhich says: ""Instances are assumed to be not threadsafe and mutable.""\nin the javadoc \n\nrich\n11:06\noh are you kidding me? i don't remember that being there\n\nJohn Kodumal 11:06\nyeah, that's pretty awful\nputting the concurrency burden up a level is kinda sucky\nbut either way I think that most uses are going to have atomicity issues anyway\n\nrich 11:07\nthat is just f'ing ridiculous\n\nJohn Kodumal 11:07\nso.... how is this stuff working at all?\nmaybe the implementation is synced and we're just not hitting atomicity issues?\n\ncheryl 11:08\ntests aren't multithreaded really?\n\nrich 11:09\ni think the refimpl implementation is thread-safe, though i could be wrong\n\nJohn Kodumal 11:10\neven then doesn't PS dashboard state store have atomicity problems?\n\nrich 11:10\nah but you are right, even if it were the store is not thread-safe because it does multiple operations all at once\n\nJohn Kodumal 11:10\nright\nsadface\n\nrich\n11:11\nya, we should use atlassian-concurrency-utils and striped locking, in that case\n\nJohn Kodumal 11:12\nI wonder if the jira impl is unsafe\n\nrich 11:13\nheh i doubt it, jed would kill andreas if it were and i know andreas made sure the oauth store impls were safe with the atlassian-concurrency-utils and striped locks, so i'd be really surprised if he didn't do the same for dashboards\n\nJohn Kodumal 11:13\nok, I'll just file a bug for us\nwe should probably update the SPI javadocs to make threading requirements a little more clear, too\n"
61d42696f4d395ee2200760f,50976,14400,"the current synchronization in PluginSettingsActivityService is not as efficient as it could be, and it may not even be complete. brought up in https://studio.atlassian.com/source/cru/CR-AG-681/review#c9268"
61d42696f4d395ee22007610,51218,21600,"does our Activity class provide all the needed methods and members? according to the shindig Activity javadoc, the activity fields that are required to have container support are title, titleid, and appid. right now we do not include titleid in our Activity representation, and we might want more fields from shindig's Activity brought over as well. then we should make sure all required fields are present when building our Activity"
61d42696f4d395ee22007612,51183,14400,"""Do we plan to only support a fixed set of attributes across apps or will apps be able to define their own attributes?  If it will be a fixed set, this should probably be a final class with a builder.  If not, then it's fine as is - though will need to provide that capability."" -https://studio.atlassian.com/source/cru/CR-AG-662#c8902"
61d42696f4d395ee22007613,51413,14400,https://studio.atlassian.com/source/cru/CR-AG-675#c9145
61d42696f4d395ee22007614,51049,14400,https://studio.atlassian.com/source/cru/CR-AG-675#c9146
61d42696f4d395ee22007615,51314,14400,https://studio.atlassian.com/source/cru/CR-AG-675#c9144
61d42696f4d395ee22007616,50366,14400,https://studio.atlassian.com/source/cru/CR-AG-670#c9054
61d42696f4d395ee22007617,51380,21600,"some of the ActivityService methods take a ""fields"" parameter. in the current PluginSettingsActivityService these parameters are unused. the shindig example service impl (JsonDbOpensocialService) doesn't use the parameter in the createActivity method, but does in some other methods, and this seems inconsistent. so we need to decide how we want to support the ""fields"" parameter and implement that"
61d42696f4d395ee22007618,50951,14400,https://studio.atlassian.com/source/cru/CR-AG-681/review#c9269
61d42696f4d395ee22007619,51209,14400,change IncorrectStoredDataException to ActivityServiceException and doc that it's thrown. and catch it ... also do something similar for other services. https://studio.atlassian.com/source/cru/CR-AG-681/review#c9255\nneed javadocs on IncorrectStoredDataException https://studio.atlassian.com/source/cru/CR-AG-681/review#c9250
61d42696f4d395ee2200761a,50989,14400,https://studio.atlassian.com/source/cru/CR-AG-681/review#c9256\nhttps://studio.atlassian.com/source/cru/CR-AG-677#c9128\n
61d42696f4d395ee2200761b,51274,14400,https://studio.atlassian.com/source/cru/CR-AG-681/review#c9248\nhttps://studio.atlassian.com/source/cru/CR-AG-681/review#c9238
61d42696f4d395ee2200761c,50893,14400,* did this get addressed? what do we do when a gadget requests a userID that doesn't exist? Shindig throws a runtime exception... I'm returning a dummy user for now. Does the spec say what to do here? I couldn't find anything. https://studio.atlassian.com/source/cru/CR-AG-662/#c8885\n* We should be consistent about the way we're checking the type https://studio.atlassian.com/source/cru/CR-AG-662#c8916\n* javadoc - Person needs overall https://studio.atlassian.com/source/cru/CR-AG-662#c8894 https://studio.atlassian.com/source/cru/CR-AG-662#c8899\n* mark Group @Immutable (make sure it's ok first) https://studio.atlassian.com/source/cru/CR-AG-663#c8975\n* might want to make who to log in as a parameter too (other changes in this area suggested in another review) https://studio.atlassian.com/source/cru/CR-AG-663#c8964\n* Still need to make a decision about CollectionOptions (which contain sort order and the like). https://studio.atlassian.com/source/cru/CR-AG-663/#c8961
61d42696f4d395ee2200761d,51135,14400,* star import in ShindigPersonServiceImpl https://studio.atlassian.com/source/cru/CR-AG-670#c9053\n* private constructor that throws an AssertionError for ShindigOpenSocialTypeAdapter https://studio.atlassian.com/source/cru/CR-AG-670#c9055\n* update javadoc to use set not list in PersonService https://studio.atlassian.com/source/cru/CR-AG-675#c9141\n* weird indentation in appdata-demo-gadget.xml https://studio.atlassian.com/source/cru/CR-AG-675#c9140 https://studio.atlassian.com/source/cru/CR-AG-675#c9142\n* better doc of appId https://studio.atlassian.com/source/cru/CR-AG-675#c9144
61d42696f4d395ee2200761e,50926,14400,* move helper methods to ShindigOpenSocialTypeAdapter https://studio.atlassian.com/source/cru/CR-AG-677#c9152\n* matcher instead of boolean https://studio.atlassian.com/source/cru/CR-AG-681/review#c9249\n* make sure items on activity all there if required https://studio.atlassian.com/source/cru/CR-AG-681/review#c9257\n* note unsafe for clusters https://studio.atlassian.com/source/cru/CR-AG-681/review#c9259\n* rename activity id plugin settings key https://studio.atlassian.com/source/cru/CR-AG-681/review#c9258\n* use Collections.singleton(activityId) https://studio.atlassian.com/source/cru/CR-AG-681/review#c9266\n* use getSettings().remove(activityId) https://studio.atlassian.com/source/cru/CR-AG-681/review#c9267\n* synchronizedness changes https://studio.atlassian.com/source/cru/CR-AG-681/review#c9268\n* ActivityId javadocs and @Immutable https://studio.atlassian.com/source/cru/CR-AG-681/review#c9271
61d42696f4d395ee2200761f,50238,43200,"I have the problem the after starting up confluence, the quicknav gadget from the confluence gadget plugin is not in the PublishedGadgetSpecStore. I tried to debug it a bit and I only got this far:\n\n# The gadget spec gets added correctly in the first place\n# Then something happens to cause the plugin system to update the confluence gadgets plugin and the publisher plugin:\n{noformat}\n2009-10-02 17:23:19,951 INFO [main] [atlassian.plugin.manager.DefaultPluginManager] updatePlugin Updating plugin 'com.atlassian.confluence.plugins.gadgets' to 'com.atlassian.confluence.plugins.gadgets'\n2009-10-02 17:23:20,133 INFO [main] [atlassian.plugin.manager.DefaultPluginManager] updatePlugin Updating plugin 'com.atlassian.gadgets.publisher' to 'com.atlassian.gadgets.publisher'\n{noformat}\nI assume this is somehow because of the cyclic dependency caused by at least the gadget spec store and the permission service\n# At this point the PluginGadgetFinder doesn't seem to have any event listeners and therefore doesn't add the spec for the quicknav gadget to the store\n\nUnfortunately I don't have any more time to investigate as this is the end of the day, but I wanted to make these details available to you guys to see if you have an idea what's going wrong, as this issue is rather critical, especially as I think I've run into a situation where specs would just disappear over time (but this might be caused by plugin installations?).\nInstalling the confluence gadget plugin again using CLI, makes the spec register correctly.\n"
61d42696f4d395ee22007620,51179,14400,I just tried to access the new gadget syndication feed under /rest/gadgets/1.0/g/feed and all I got was this:\n\njava.lang.NullPointerException\n	at java.util.Properties$LineReader.readLine(Properties.java:418)\n	at java.util.Properties.load0(Properties.java:337)\n	at java.util.Properties.load(Properties.java:325)\n	at com.sun.syndication.io.impl.PropertiesLoader.<init>(PropertiesLoader.java:74)\n	at com.sun.syndication.io.impl.PropertiesLoader.getPropertiesLoader(PropertiesLoader.java:46)\n	at com.sun.syndication.io.impl.PluginManager.<init>(PluginManager.java:54)\n	at com.sun.syndication.io.impl.PluginManager.<init>(PluginManager.java:46)\n	at com.sun.syndication.io.impl.FeedGenerators.<init>(FeedGenerators.java:47)\n	at com.sun.syndication.io.WireFeedOutput.getFeedGenerators(WireFeedOutput.java:53)\n	at com.sun.syndication.io.WireFeedOutput.outputJDom(WireFeedOutput.java:262)\n	at com.sun.syndication.io.WireFeedOutput.output(WireFeedOutput.java:211)\n	at com.sun.syndication.io.WireFeedOutput.output(WireFeedOutput.java:190)\n	at com.atlassian.gadgets.publisher.internal.rest.FeedWriter.writeTo(FeedWriter.java:52)\n	at com.atlassian.gadgets.publisher.internal.rest.FeedWriter.writeTo(FeedWriter.java:19)\n	at com.sun.jersey.spi.container.ContainerResponse.write(ContainerResponse.java:254)\n	at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:689)\n	at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:612)\n	at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:603)\n	at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:309)\n	at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:425)\n	at com.atlassian.plugins.rest.module.RestDelegatingServletFilter$JerseyOsgiServletContainer.doFilter(RestDelegatingServletFilter.java:198)\n[...]
61d42696f4d395ee22007622,51351,14400,We need to use SAL TransactionTemplate to wrap any code where multiple reads and/or writes could happen within a single request
61d42696f4d395ee22007623,51069,14400,The JavaDocs on the new SPI interfaces are a little anemic. They should provide all of the information that implementors need to understand what they're implementing and how. This might include links back to the original specifications on opensocial.org.
61d42696f4d395ee22007624,51459,7200,This should probably include a general audit to ensure that all new SPIs and APIs are properly tagged
61d42696f4d395ee22007626,51424,3600,This includes the parent version in all of the submodules. There is a [versions-maven-plugin|http://mojo.codehaus.org/versions-maven-plugin/] that might make this simpler
61d42696f4d395ee2200762a,50913,14400,When you use the checkbox documented here:\n\nhttp://confluence.atlassian.com/display/GADGETS/Field+Definitions#FieldDefinitions-CheckboxGroup\n\nNothing gets saved into the user preferences when you submit the preferences form. Setting a break point shows it being saved with an empty string no matter what the state of the checkboxes is. 
61d42696f4d395ee2200762b,51259,21600,"The multi select field documented here: \n\nhttp://confluence.atlassian.com/display/GADGETS/Field+Definitions#FieldDefinitions-MultiSelect\n\nwhen you save the preferences form, only the last selection ends up saved to the user preference because it sets the user preference once for each selection but using the same key. Something like\n\n{code}\nsetUserPref(key, val1);\nsetUserPref(key, val2);\nsetUserPref(key, val3);\n{code}\n\nonly val3 gets stored\n"
61d42696f4d395ee2200762d,50651,21600,"When upgrading SAC the securetextportlet looks like the attached screenshot. When I click on the ""Error Details"" (also, it isn't clear at all that is a clickable element until you hover over it) I can't actually read the error details because the gadget doesn't resize to fit the new content."
61d42696f4d395ee22007630,50297,14400,The fix for AG-1008 was incomplete in that it exposed the interface without publishing the implementation.\n\nThe DirectoryImpl bean defined in directory-context.xml should be published as a service in directory-context-osgi.xml
61d42696f4d395ee22007631,50462,21600,"We're working around this currently by using a set of exclusion patterns, but this is pretty fragile.\n\nThere are a couple of bugs:\n\n1. Is that the plugin opens the output file for each input file before deciding whether the input file should be minified (i.e., ends in .js or .css). This should be changed so that it only opens the file right before writing to it.\n\n2. I originally tried to work around this by setting a custom <resources> configuration for the plugin so that I could specify the correct inclusion pattern, but this didn't appear to work. It continued to use the default set of project resources. I believe this may have to do with using {{@expression}} instead of {{@default-value}} in the plugin parameter configuration JavaDoc."
61d42696f4d395ee22007635,51287,14400,"there is a downcast in shindig which doesn't always succeed, which can lead to the following error when trying to retrieve activities:\n[{""error"":{""message"":""internalError: Unknown error org.apache.shindig.social.opensocial.service.RpcRequestItem cannot be cast to org.apache.shindig.social.opensocial.service.RestfulRequestItem"",""code"":500}}]\n\nthe downcast occurs in ActivityHandler in the isValidSupportedFieldsRestCall method:\nString url = ((RestfulRequestItem)request).getUrl();\non the current shindig trunk, the ActivityHandler file is totally different, so this particular bug was probably fixed as a byproduct of other changes there\n"
61d42696f4d395ee22007636,51148,14400,"With AG-984 we deprecated the classes and interfaces in c.a.gadgets.spi.  They are deprecated, but they are not fully backwards compatible.  Making them fully backwards compatible would require quite a bit of effort because of things like inner interfaces, enums and final classes.  So we need to decide if we should just get rid of the legacy stuff or try and properly support it.  Since JIRA is the only user of the legacy SPI, it would probably be easiest just to get rid of it.  But we need to confirm this is ok with the JIRA team first."
61d42696f4d395ee22007637,50278,14400,"This fixes a major performance regression.\n\nNote that getting the running version in the refimpl to use 2.4 will mean upgrading the refapp first, releasing that and upgrading the version of the refapp used by AG to the new release.\n\nThe refapp is in a bit of a funny state right now. The trunk is 2.3.x, but there is a 2.4.0 branch as well. The 2.4.0 branch is not using plugins 2.4, and it's not clear whether all of the changes on trunk since the branch point have been (or should be) merged over.. All of this is going to have to be worked out with the larger integration team first."
61d42696f4d395ee22007638,50180,14400,"The {{ui-tests}} module needs to suffice the following use-cases:\n* Developer needing to run Selenium via their development environment to confirm changes before VCS check-in\n* CI builds that don't need to build & test the refimpl\n\nI suggest that the following be done:\n* Remove the {{qa}} profile, as it is no longer used\n* Implement profiles for each supported browser:\n** Removes the necessity to set the browser via the Maven command line\n** Allows for the use of {{<singleWindow>true</singleWindow>}} with Internet Explorer to improve performance\n* General clean-up of the POM\n\nAfter some further investigation, the current POM suffices both use-cases as it can be run from the parent pom by specifying the {{-Pselenium}} profile via the Maven invocation, or by issuing a similar command from within the {{ui-tests}} module; which will grab the refimpl WAR from the Maven repo.\n\nAs such, these suggestions are to improve clarity of the {{ui-tests}} POM.\n\nPlease include myself on any Crucible reviews raised from this JIRA issue."
61d42696f4d395ee22007639,50999,21600,this should avoid a lot of klunky visual bouncing during page rendering because in most cases the gadget will render into a space which is the right size for it.\n\nthis should improve user experience and improve the apparent trustworthyness of the dashboard and gadgets
61d42696f4d395ee22007641,51178,3600,"Inside of AG.Gadget I create a method updateShadow, but I only create the method if the layout is writable. I need it to be available if the layout is read-only also"
61d42696f4d395ee22007642,50371,600,...as soon as it's available
61d42696f4d395ee22007643,50841,600,...as soon as it's available
61d42696f4d395ee22007644,51451,600,...as soon as it's ready
61d42696f4d395ee22007647,50572,14400,See AG-999\n\nThis basically entails reversing the r43140 and r43142 commits.
61d42696f4d395ee2200764e,50889,14400,noticed in https://studio.atlassian.com/source/cru/CR-AG-627/#c8587
61d42696f4d395ee22007654,51095,21600,Scott's JS build script strips out code delimited by {{/* debug \*/}} and {{/* debug end \*/}}. We should replicate this in our publisher plugin's Maven build.
61d42696f4d395ee22007657,51390,21600,The parsers are only used by integration tests so they can be moved into the test packages in refapp.
61d42696f4d395ee22007658,50616,14400,It would be nice to present even more detailed error messages in the error gadget when there's a rendering error.\n\nSee https://studio.atlassian.com/source/cru/CR-AG-621#c8538
61d42696f4d395ee2200765a,51229,14400,"JsonContainerConf is a wrapper class around ContainerConfig. We'll want to be able to use injection for this thing, but the ctor  explicitly constructs a ContainerConfig implementation. Instead, add an @Injected ctor that takes in a ContainerConfig so that our AtlassianContainerConfig can be injected."
61d42696f4d395ee2200765e,50190,86400,"Currently shinding will request gadget specs available locally using the same baseurl used for the incoming request.  This can cause interesting issues when running via SSL and Apache, where shindig then makes a request via apache back to itself to get the gadget spec.  This means that Java's keystore needs to be aware of the SSL certificates used in Apache.\n\nI think eventually local gadget specs shouldn't be requested at all via the network, but simply via an API call. \n\nFor reference:\n{quote}\n11:40:07 AM Andreas Knecht: so basically it's all working with self-signed certificates.   However there is a little gotcha\n11:40:36 AM Andreas Knecht: So previously you'd only setup SSL on apache, and didn't really have to worry about SSL in Tomcat or JAVA's keystore\n11:40:48 AM Andreas Knecht: Because that would sit behind apache not using ssl\n11:41:30 AM Andreas Knecht: However now, shindig requests the gadget spec using the external url which goes through Apache to reach 'itself' to get local gadget specs\n11:41:56 AM Andreas Knecht: Which means all of a sudden you now need the SSL stuff in the keystore as well\n11:42:05 AM Andreas Knecht: So for JIRA 4.0 we'll update our docs\n11:42:30 AM Andreas Knecht: However I think I'll raise an improvement for AG 1.1, to perhaps detect that we're requesting a local gadget in the HTTPClientFetcher and use localhost to fetch it\n11:42:33 AM Andreas Knecht: What do you think?\n11:43:02 AM Tim Moore: I 'm hoping that we can eventually avoid fetching over HTTP entirely\n11:43:09 AM Andreas Knecht: yes! \n11:43:13 AM Andreas Knecht: acutally that would be ideal!\n11:43:13 AM Tim Moore: I've poked into Shindig a bit, and I think it's theoretically possible\n11:43:21 AM Tim Moore: but would require swapping out a bunch of Shindig components\n11:43:34 AM Andreas Knecht: Just get local gadget specs via API calls!\n11:43:37 AM Tim Moore: I think it's doable, though, and definitely worth giving it a shot\n11:43:44 AM Tim Moore: yeah exactly\n11:43:50 AM Andreas Knecht: ok.  Do you have an issue for this already or do you want me to raise it?\n11:43:53 AM Tim Moore: obviously would be better, just didn't seem possible\n11:44:05 AM Tim Moore: but they've refactored the fetch pipeline a bit since we originally started using Shindig\n11:44:10 AM Andreas Knecht: right\n11:44:12 AM Tim Moore: not sure\n11:44:18 AM Andreas Knecht: I'll raise an issue about it\n11:44:20 AM Andreas Knecht: then\n11:44:22 AM Tim Moore: thanks\n{quote}"
61d42696f4d395ee22007663,50799,36000,"dashboard.vm is using the auto-HTML-escpaing provided by ATR, but that's not really right for what it's doing. Any expression that gets interpolated into a JavaScript string needs to be escaped using {{StringEscapeUtils.escapeJavaScript}} (or equivalent) to prevent things like quote characters from messing it up.\n\nOn the other hand, it should _not_ do HTML escaping in JS strings, since the browser apparently does not unescape entities within script blocks. (I'm still trying to find a good reference for this behavior, but that's what I'm seeing happen in testing.)"
61d42696f4d395ee22007667,50859,7200,GadgetUserPrefsTest is verifying that user prefs are parsed correctly by DashboardParser.\nRename it into DashboardParserUserPrefsTest and moved it into test-framework.
61d42696f4d395ee2200766d,51482,14400,"The split between the *Parser classes and the *Tester classes is kind of difficult to understand. We have unit tests such as DashboardParserTest and GadgetUserPrefsTest that act as hybrids between unit tests and integration tests, and it's not really clear whether they're supposed to be testing the renderers, the parsers, or what. The GadgetChromeParserTest is testing against a pre-rendered html file, which may not be especially useful. There's a bit of a tangled dependency graph, with DashboardParser living in the test framework but DashboardParserTest living in the dashboard plugin."
61d42696f4d395ee22007670,50233,14400,"From: http://jira.atlassian.com/browse/JRA-18598\n\nAs Brad pointed out, I think we should improve the wording of the error message in that gadget a little (perhaps even the styling)."
61d42696f4d395ee22007671,51379,14400,See \n\nhttp://jira.atlassian.com/browse/JRA-18599\n\nThe following is from a gadget that cant be found.  However there is not enough information that to be useful in finding out why it cant be rendered and what the URL is and so on.\n\nThis should be improved to help support in the wild.\n\n!missing_gadget_xml.png!
61d42696f4d395ee22007676,51268,43200,"Add support for Person, Activity api's to the renderer plugin."
61d42696f4d395ee22007677,50720,21600,"I ran across this interesting article:\n\nhttp://blog.xing.com/2009/07/i-only-believe-what-i-see-50-less-traffic/\n\nRegarding the use of iframes to render gadgets:\n\n{quote}\nSo, at the moment, you might have several iFrames on your start page. An elegant solution, except for the heavy load they put on your browser - the extreme case, Internet Explorer, requires up to 8 Megabyte of RAM for each rendered iFrame. Furthermore, as the front and profile page often extends vertically way beyond the viewport. But still we have to render the content in iFrames you might not even see.\n\nWait. Do we have to do that?\n{quote}\n\nThe solution:\n\n{quote}\nTherefore I decided to initially put an empty html element (eg. <div>) into the page, which gets replaced by the application iFrame as soon as it appears in the user's viewport.\n\nThe last step was not that high on the challenge scale again:  The script checks whether the iFrame is visible every 200ms, and also on resizing the window and scrolling within it. Easy stuff.\n{quote}\n\nThe code was contributed to github:\n\nhttp://github.com/xing/prototype-within-viewport/tree/master\n\nIt was written as a prototype plugin, but looks like it could be ported to jQuery pretty easily."
61d42696f4d395ee22007679,51076,10800,The Selenium tests AddGadgetsToColumnsInEachLayoutTest and ChangeColumnLayoutTest are currently failing and haven't been properly refactored to use the new model.
61d42696f4d395ee2200767a,51467,14400,The Selenium test for dragging and dropping is currently incomplete.
61d42696f4d395ee2200767b,51108,14400,The GadgetBrowserSearchTest should be extended to include tests of the categories feature.
61d42696f4d395ee2200767d,51258,7200,The Selenium tests rely on externally hosted gadgets. If these gadgets change in any way or become inaccessible then the automated tests will fail (despite there being no actual problem with the gadgets code).
61d42696f4d395ee2200767f,51300,14400,"Otherwise, source builds won't work for customers"
61d42696f4d395ee22007680,50811,21600,See https://bamboo.developer.atlassian.com/browse/AG-STABLE-21/test/it.com.atlassian.gadgets.dashboard.UserPrefsTest:assertThatBlankValueIsUsedWhenThePrefValueIsBlank\n\nLooks like it might be an HtmlUnit bug
61d42696f4d395ee2200768b,50545,21600,"Currently we've mixed together useful SAL implementations of SPIs and implementations that are only suitable for testing purposes. We should split the SAL implementations out, so that applications that want to use them can do so more easily."
61d42696f4d395ee22007695,51384,21600,"The blank """" value is saved , however when the window is refreshed it reverts to it's previous value. \n\nHave attached an example gadget.xml to simulate this bug.\n\nOriginally from http://jira.atlassian.com/browse/JRA-17827"
61d42696f4d395ee22007699,51005,14400,The change I checked in for AG-936 does a full page refresh when the target tab for a move operation has reached its maximum number of gadgets. This is a hack; we should reposition the gadget without a refresh.
61d42696f4d395ee220076a1,50537,3600,revised header dimension (9px high sans border) and font size (match Helvetica 12pt Bold)
61d42696f4d395ee220076a4,51269,21600,"Steps:\n1. Suppose user has 15 gadgets in Dashboard A, maximum allowed on DTAC or 20 in JIRA.\n2. Try dragging a gadget from Dashboard B to Dashboard A.\n\nResult:\n1. The drag and drop happens without any error message.\n2. User can drag and drop as many gadget as wanted without any error message.\n\nExpected:\n1. Drag and drop between tabs should follow the limit of the total number of gadgets allowed in Dashboard. "
61d42696f4d395ee220076a8,50500,14400,See https://extranet.atlassian.com/display/QA/AP%27s+IE6+-+JIRA+dashboard+findings for a screenshot
61d42696f4d395ee220076aa,51386,7200,This is pretty annoying — the docs should load in a new tab or window.\n\nhttps://extranet.atlassian.com/display/QA/Andrew+Lui%27s+Blitz+Findings+2009-08-11
61d42696f4d395ee220076ac,51263,14400,"To reproduce:\n1. Click ""Add Gadget to Directory"" from the directory dialog\n2. Add ""http://www.google.com/ig/modules/wikipedia.xml"" and click ""add""\n\n"
61d42696f4d395ee220076ad,51224,14400,"The newly added atlassian.util.getRendererBaseUrl();  javascript method unfortunately returns the incorrect baseurl for a server when using multiple hostnames.  From what I can tell this happens because we initialize its value in the AtlassianContainerConfig constructor, which means it will fallback to the value stored in the database.\n\nThis baseurl should be looked up via applicationProperties on each incoming request.  This ensures that it will be the baseurl of the incoming request (since the SAL applicationProperties.getBaseUrl() method uses the JiraVelocityRequestContext which looks up the baseurl via a threadlocal from the incoming request and will only fall back to the database if there was no incoming request.\n\nCurrently gadgets can't detect correctly if they're running locally, if I access JIRA with http://localhost:8080/jira vs http://threesheets:8080/jira."
61d42696f4d395ee220076af,50276,14400,"There should be a way to distinguish between a local JIRA gadget and the same gadget from a different JIRA instance. (and for multiple Confluence instances etc)\n\nExample: If I add the Pie Chart gadget from JAC to Studio, how do I distinguish which is which when I'm in the Gadget Directory?"
61d42696f4d395ee220076b4,51281,14400,"This should help us debug problems with the Shindig features, like AG-915."
61d42696f4d395ee220076b7,51345,7200,"Steps:\n1. Login to JIRA as admin.\n2. Goto Dashboard.\n3. Click ""Add gadget"". Click on ""Add gadget to directory"" to add external gadget.\n\nResult:\n1. By default the focus/cursor is not there on ""Add gadget"" text box.\n2. From user experience this is not good.\n\nExpected:\n1. The cursor should be on ""Add gadget"" textbox, so that user can start typing after clicking the button.\n"
61d42696f4d395ee220076b9,50974,14400,"To Reproduce:\n\n1. Go to dashboard\n2. Add ""Dynamic Height"" gadget\n3. Type some copy into the input box\n4. Click ""Add"" a few times\n5. Click ""Clear"".\n\nExpected: \nAfter clicking clear the iframe should return to original height."
61d42696f4d395ee220076bb,51239,14400,Steps:\n1. Login to JIRA.\n2. Add any JIRA gadget which support canvas view.\n3. I tested with average age chart gadget. Set and save the gadget.\n4. Click on maximize icon to view the gadget in canvas view.\n5. User has option to modify the preferences of the gadget.\n6. Select another filter or any other setting. Save it\n7. User can see the chart with new selected setting.\n8. Restore to normal view.\n\nResult:\n1. User sees the chart with old data.\n2. Refresh is key to fix it.\n\nExpected:\n1. The gadget should be showing latest chart when user return to normal view.\n
61d42696f4d395ee220076bc,50912,3600,Steps:\nUnable to reproduce on DTAC\nSteps:\n1. Login to JIRA.\n2. In the dashboard create some tabs. I have maximum number of tabs.\n3. Now add some gadgets on one the tabs.\n4. Minimize all gadgets in the page and now try dragging and dropping one gadget to another tab.\n5. Click on tab to access the gadget.\n\nResult.\n1. User is unable to maximize the gadget by double clicking the menu header bar or selecting expand from the menu button.\n2. page refresh solves the issue.\n\nExpected:\n1. user should be able to maximize the dragged gadget.\n
61d42696f4d395ee220076bd,50945,7200,"Steps:\n1. Login to  JIRA or goto DTAC\n2. Click ""Add gadget"" to open the directory.\n\nResult:\n1. Inside the directory, the down scroll bar is not visible \n2. User can drag the page down but having a down scroll bar button is beneficial. \n\nExpected:\n1. User should have access to the up and down scroll bar.\n"
61d42696f4d395ee220076c1,50669,14400,"Steps:\n1. Login to JIRA and add any gadget having canvas mode supported.\n2. I tested with pie chart one. Set and save the preferences of the gadget.\n3. Click on icon to view the gadget in canvas mode.\n\nResult:\n1. The gadget preferences are reset.\n\nExpected:\n1. No reset of preferences, user should be able to view the saved gadget."
61d42696f4d395ee220076c4,50617,14400,see https://studio.atlassian.com/source/cru/CR-AG-576/#c7875\n\n
61d42696f4d395ee220076c6,50304,10800,View CR-AG-560 for more details.
61d42696f4d395ee220076c8,51480,3600,See https://extranet.atlassian.com/jira/browse/UI-1001
61d42696f4d395ee220076cb,50917,14400,There is an API change between beta1 and rc1. We need to update so we don't hold the products back.\n\nThis has several steps:\n\n# Update the RefApp trunk to use Plugins 2.3.0.rc1\n# Update AG trunk to use the latest RefApp SNAPSHOT version\n# Update AG's parent pom.xml to use Plugins 2.3.0.rc1\n# Change uses of WebResourceManager in AG so that it uses the new top-level UrlMode (formerly nested inside WebResourceManager)\n# Test that everything works\n# Commit RefApp\n# Release a new version of the RefApp\n# Update AG to use the new RefApp release\n# Commit AG
61d42696f4d395ee220076cd,50281,7200,See summary. This is more consistent with maven's standard layout.
61d42696f4d395ee220076ce,50165,14400,"originally reported in AG-436. a gadget in error state's error message just said ""error"" and didn't include the errorMessage, even though i saw the errorMessage in the gadget when debugging. see screenshot\n\nthis may be due to AG-844 not being implemented"
61d42696f4d395ee220076d1,51340,3600,"Steps:\n1. Login to JIRA.\n2. Click on Dashboard link.\n3. Suppose user has 3-4 tabs on the dashboard.\n4. Try dragging and dropping the gadget from 1 tab to another.\n\nResult:\n1. First of all the tabs width is so less that user is confuse where its currently.\n2. Second, the move icon is near the gadget drop down menu and if user drag the gadget from there and try to find a tab, it totally confusing. The gadget hide the tab information.\n3. Dragging and dropping from left top is still better but don't know if user can figure out easily.\n\nExpected:\n1. It will be great if we can make gadget transparent like igoogle while dragging and dropping between tabs.\n2. And may be we should document that dragging and dropping is easy when gadget is dragged from left top.\n"
61d42696f4d395ee220076d2,50956,3600,Steps:\n1. Goto JIRA dashboard having 3-4 tabs in it.\n2. Try to drag a gadget to the first or second tab.\n\nResult:\n1. User in a particular scenario can select two tabs together.\n2. See the video for detail.\n\nExpected:\n1. User should n't be allowed to select two tabs at one go \n
61d42696f4d395ee220076d3,51398,3600,"Currently the dashboard-item-title class has a 0.6em text-indent, which, when the title wraps only affects the first line.\n\nBy changing this to a left padding (still 0.6em) the text looks much nicer when wrapping."
61d42696f4d395ee220076d6,51238,3600,The main dashboard <div> isn't closed properly in the dashboard plugin.
61d42696f4d395ee220076d7,51008,14400,"Rich says:\n\n""An empty PUT is definitely a bad thing.  A PUT should be done with the representation as you would expect to receive by doing a GET to that URI.  Otherwise, this is just an RPC call.""\n\nhttps://studio.atlassian.com/source/cru/CR-AG-547#c7763"
61d42696f4d395ee220076d8,50979,14400,"Some recent changes have caused spurious errors and warnings in IDEA. These are due to bugs in IDEA, but still really annoying and interfere with the ability of IDEA users to work effectively. We should try to work around these problems until they're fixed in IDEA."
61d42696f4d395ee220076da,51023,3600,"Need to not escape the dashboard title again in javascript, since it's already been escaped by velocity."
61d42696f4d395ee220076db,51426,21600,"This changeset: https://studio.atlassian.com/source/changelog/AG/trunk/ui-tests/src/test/js/src/lib?cs=41116 violates several of the AG project structure policies. \n\n1) It copies build artifacts outside of the proper maven target/ directory structure, so that my VCS says my local repo is dirty after doing a build but touching no files\n2) It copies jar files into our repo. Maven should be handling that\n3) It uses antrun and has an ant build script. If at all possible, we should just be doing this within our maven poms."
61d42696f4d395ee220076dd,50222,21600,"If you have a gadget that has only 'hidden' user prefs, then saving these prefs wont get persisted to the server.\n\nThis is because the prefs queuing function (setUserPref) is only bound to the iframe, if the gadget if isEditable().  isEditable() is implemented like this:\n{code}\nreturn !!(this.getLayoutManager().isWritable() && this.hasNonHiddenUserPrefs);   \n{code}\n\nSo to re-produce the problem:\n* Create a gadget spec with hidden user prefs *only*\n* Call prefs.set() on one of those prefs\n\nThe prefs wont get POSTed to the server."
61d42696f4d395ee220076e1,51339,3600,Bamboo failure: https://bamboo.developer.atlassian.com/browse/AG-TRUNK-1474\n\nThe first error in the output.log is:\n\n{noformat}\njava.lang.IllegalAccessError: tried to access class org.springframework.aop.framework.AdvisedSupport$MethodCacheKey from class org.springframework.aop.framework.AdvisedSupport\n	at org.springframework.aop.framework.AdvisedSupport.getInterceptorsAndDynamicInterceptionAdvice(AdvisedSupport.java:462)\n	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:190)\n	at $Proxy13.getServiceReference(Unknown Source)\n	at org.springframework.osgi.service.importer.support.internal.collection.OsgiServiceCollection.destroy(OsgiServiceCollection.java:300)\n	at org.springframework.osgi.service.importer.support.DisposableBeanRunnableAdapter.run(DisposableBeanRunnableAdapter.java:43)\n	at org.springframework.osgi.service.importer.support.AbstractServiceImporterProxyFactoryBean.destroy(AbstractServiceImporterProxyFactoryBean.java:64)\n	at org.springframework.osgi.extender.internal.activator.ContextLoaderListener.shutdown(ContextLoaderListener.java:565)\n	at org.springframework.osgi.extender.internal.activator.ContextLoaderListener.stop(ContextLoaderListener.java:458)\n	at org.apache.felix.framework.util.SecureAction.stopActivator(SecureAction.java:613)\n	at org.apache.felix.framework.Felix._stopBundle(Felix.java:1995)\n	at org.apache.felix.framework.Felix.stopBundle(Felix.java:1952)\n	at org.apache.felix.framework.Felix$RefreshHelper.stop(Felix.java:3957)\n	at org.apache.felix.framework.Felix.refreshPackages(Felix.java:3260)\n	at org.apache.felix.framework.PackageAdminImpl.run(PackageAdminImpl.java:258)\n	at java.lang.Thread.run(Thread.java:595)\n{noformat}\n\nFollowed by a large number of:\n\n{noformat}org.osgi.framework.BundleException: Unable to resolve due to constraint violation.{noformat}
61d42696f4d395ee220076e2,51477,14400,"If I move a gadget (say with id 10000) from dashboard A to dashboard B the following currently happens:\ndashboard B:\n* AddGadgetChange (with gadget with id 10000)\n\ndashboard A:\n* RemoveGadgetChange (with id 10000)\n\nWhen I implemented this the first time in JIRA the following happened:\n* When the AddGadgetChange event was executed, I got a primary key constraint error, because I was trying to add a gadget with an id that already existed in the DB\n* RemoveGadgetChange would have deleted the gadget from the new dashboard (since it's got the same id)\n\nSo I tried implementing this by saving it with a new id if I detect that it already exists in the DB.  This now has the effect that the equals() comparison fails at the end of the update() method since the gadgetId is now different.\n\nSo the current implementation works around like this:\n* If the gadget being added already exists, I simply update the position and which dashboard the gadget belongs to\n* On remove I will only delete the gadget if the gadget's parent dashboard is the same as the dashboard being updated.  Since the previous step changed the parent dashboard, during a move, the gadget wont be deleted.\n\nI think this is fairly unintuitive for host apps.  I'm not sure what the right solution here is, but perhaps a MoveGadgetChange class that is fired on both the source and target dashboard would be clearer."
61d42696f4d395ee220076e7,51163,14400,"With the update to the latest closedsource parent pom, we're seeing a pair of problems:\n\n- for some of us, 105/110 tests fail with ""com.sun.jersey.api.client.ClientHandlerException: java.net.ConnectException: Connection refused""\n- mvn -Pdebug exits"
61d42696f4d395ee220076ef,50921,3600,Turns out this occurs in Safari as well. Need to make solution generic.
61d42696f4d395ee220076f0,51290,14400,"See http://happy-goblin:8080/dashboards/100000\n\nAs soon as mouse is moved after drag, they come back..."
61d42696f4d395ee220076f1,50857,14400,See http://happy-goblin:8080/dashboards/100000
61d42696f4d395ee220076f4,51472,7200,"The UpdateGadgetUserPrefsHandler includes the 'method -> put' mapping as a userpref.  This used to work by fluke until now, since the DashboardImpl.updateGadgetUserPrefs() method used to iterate over the userprefs on the gadgetspec and only set those as updated in the GadgetState.\n\nHowever now, the UpdateGadgetUserPrefsChange() takes the userPrefs as is which means that you'll get a userpref like this: 'hod -> put' (method without 'up_')\n\nThe UpdateGadgetUserPrefsHandler should really not include the 'method -> put' mapping as a userpref when passing it down to DashboardImpl etc."
61d42696f4d395ee220076f5,50961,3600,"After establishing trusted apps relationship between (RefApp and JIRA) and added RefApp to JIRA's OAuth consumer list.\nAdding a quicklinks JIRA gadget to RefApp dashboard results in the following error:\n- Authentication error: Unable to respond to any of these challenges: {oauth=WWW-Authenticate: OAuth realm=""http%3A%2F%2Flocalhost%3A8090%2Fjira""}\nAug 3, 2009 1:57:33 PM org.apache.shindig.gadgets.oauth.OAuthResponseParams logDetailedWarning\nWARNING: OAuth fetch unexpected fatal error\nOAuth error [null, null] for application http://localhost:8090/jira/rest/gadgets/1.0/g/com.atlassian.jira.gadgets/gadgets/quicklinks-gadget.xml.  Request trace:\n==== Original request:\nGET /jira/rest/gadget/1.0/currentUser?cacheBuster=1249271853455\n\nHost: localhost:8090\nX-Shindig-AuthType: oauth\nX-Seraph-Trusted-App-Cert: 4Ad5pfQz7frCCkFPlrk3+G/hM4TycrLfMVy8TQHfnQ==\nX-Seraph-Trusted-App-ID: refapp:40046\nX-Seraph-Trusted-App-Key: KjU7/r6962zoF8VxGMrew+vSnhVLjnkfvpPk7iAYqiu4BLc5VfYMsWFvtfUHO/cJLYlo6qoqoTJgWzJd6/0ObPTrFMkskYyhfdza24B1biu9t3N8XflrdznM+Y1TJdK1SPEh+bElN7lXSiATiw/fnEELoVY9dTo47Ugu2m6agNMUI7Qcl+xp4nahcclbUpt+Hlzni7MxyHjgIFbZ+1cEgj2OnnPmFOCD+6Skh2UaX8PXZeb7V1kMQAEllCwbo2aIDwaeSt9hsDMsSDQt3T5h09fS1nUX1/4Tob/PI//RkyUi2yIihVftQ37ghe3HrpaxPQtzapWeCPSbL6sKmyJDaw==\nX-shindig-dos: on\n\n\n====\njava.lang.NullPointerException\n	at com.atlassian.oauth.consumer.sal.PluginSettingsConsumerTokenStore.get(PluginSettingsConsumerTokenStore.java:70)\n	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n	at java.lang.reflect.Method.invoke(Method.java:585)\n	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:310)\n	at org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:58)\n	at org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:62)\n	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n	at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)\n	at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)\n	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n	at org.springframework.osgi.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:36)\n	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n	at org.springframework.osgi.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:59)\n	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n	at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)\n	at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)\n	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\n	at $Proxy135.get(Unknown Source)\n	at com.atlassian.gadgets.renderer.internal.oauth.AtlassianOAuthStore.getTokenInfo(AtlassianOAuthStore.java:62)\n	at org.apache.shindig.gadgets.oauth.GadgetOAuthTokenStore.lookupToken(GadgetOAuthTokenStore.java:232)\n	at org.apache.shindig.gadgets.oauth.GadgetOAuthTokenStore.getOAuthAccessor(GadgetOAuthTokenStore.java:115)\n	at org.apache.shindig.gadgets.oauth.OAuthFetcher.fetchNoThrow(OAuthFetcher.java:185)\n	at org.apache.shindig.gadgets.oauth.OAuthFetcher.fetch(OAuthFetcher.java:169)\n	at org.apache.shindig.gadgets.http.ContentFetcherFactory.fetch(ContentFetcherFactory.java:54)\n	at com.atlassian.gadgets.renderer.internal.http.TrustedAppContentFetcherFactory.fetch(TrustedAppContentFetcherFactory.java:43)\n	at org.apache.shindig.gadgets.servlet.MakeRequestHandler.fetch(MakeRequestHandler.java:84)\n	at org.apache.shindig.gadgets.servlet.MakeRequestServlet.doGet(MakeRequestServlet.java:55)\n	at org.apache.shindig.gadgets.servlet.MakeRequestServlet.doPost(MakeRequestServlet.java:65)\n	at javax.servlet.http.HttpServlet.service(HttpServlet.java:710)\n	at javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\n	at com.atlassian.plugin.servlet.DelegatingPluginServlet.service(DelegatingPluginServlet.java:42)\n	at javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\n	at com.atlassian.plugin.servlet.ServletModuleContainerServlet.service(ServletModuleContainerServlet.java:52)\n	at javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n	at com.atlassian.refapp.decorator.DecoratorServletFilter.doFilter(DecoratorServletFilter.java:46)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n	at com.atlassian.gadgets.refimpl.ui.DashboardFilter.doFilter(DashboardFilter.java:80)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n	at org.apache.shindig.auth.AuthenticationServletFilter.callChain(AuthenticationServletFilter.java:123)\n	at org.apache.shindig.auth.AuthenticationServletFilter.doFilter(AuthenticationServletFilter.java:86)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:41)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\n	at com.opensymphony.sitemesh.webapp.SiteMeshFilter.obtainContent(SiteMeshFilter.java:129)\n	at com.opensymphony.sitemesh.webapp.SiteMeshFilter.doFilter(SiteMeshFilter.java:77)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n	at com.atlassian.core.filters.ServletContextThreadLocalFilter.doFilter(ServletContextThreadLocalFilter.java:19)\n	at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:41)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n	at com.atlassian.refapp.auth.internal.AuthenticationContextCopyFilter.doFilter(AuthenticationContextCopyFilter.java:39)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n	at com.atlassian.seraph.filter.SecurityFilter.doFilter(SecurityFilter.java:192)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n	at com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:98)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n	at com.atlassian.seraph.filter.BaseLoginFilter.doFilter(BaseLoginFilter.java:125)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n	at com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:69)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:41)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:41)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\n	at com.atlassian.plugin.refimpl.webresource.RequestCacheCleaner.doFilter(RequestCacheCleaner.java:28)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\n	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)\n	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:174)\n	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\n	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:117)\n	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:544)\n	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:108)\n	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:151)\n	at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:874)\n	at org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:665)\n	at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:528)\n	at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:81)\n	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:689)\n	at java.lang.Thread.run(Thread.java:613)\n- Unhandled exception occurred whilst decorating page\njava.lang.NullPointerException\n	at com.atlassian.oauth.consumer.sal.PluginSettingsConsumerTokenStore.get(PluginSettingsConsumerTokenStore.java:70)\n	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n	at java.lang.reflect.Method.invoke(Method.java:585)\n	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:310)\n	at org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:58)\n	at org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:62)\n	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n	at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)\n	at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)\n	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n	at org.springframework.osgi.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:36)\n	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n	at org.springframework.osgi.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:59)\n	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n	at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)\n	at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)\n	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\n	at $Proxy135.get(Unknown Source)\n	at com.atlassian.gadgets.renderer.internal.oauth.AtlassianOAuthStore.getTokenInfo(AtlassianOAuthStore.java:62)\n	at org.apache.shindig.gadgets.oauth.GadgetOAuthTokenStore.lookupToken(GadgetOAuthTokenStore.java:232)\n	at org.apache.shindig.gadgets.oauth.GadgetOAuthTokenStore.getOAuthAccessor(GadgetOAuthTokenStore.java:115)\n	at org.apache.shindig.gadgets.oauth.OAuthFetcher.fetchNoThrow(OAuthFetcher.java:185)\n	at org.apache.shindig.gadgets.oauth.OAuthFetcher.fetch(OAuthFetcher.java:169)\n	at org.apache.shindig.gadgets.http.ContentFetcherFactory.fetch(ContentFetcherFactory.java:54)\n	at com.atlassian.gadgets.renderer.internal.http.TrustedAppContentFetcherFactory.fetch(TrustedAppContentFetcherFactory.java:43)\n	at org.apache.shindig.gadgets.servlet.MakeRequestHandler.fetch(MakeRequestHandler.java:84)\n	at org.apache.shindig.gadgets.servlet.MakeRequestServlet.doGet(MakeRequestServlet.java:55)\n	at org.apache.shindig.gadgets.servlet.MakeRequestServlet.doPost(MakeRequestServlet.java:65)\n	at javax.servlet.http.HttpServlet.service(HttpServlet.java:710)\n	at javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\n	at com.atlassian.plugin.servlet.DelegatingPluginServlet.service(DelegatingPluginServlet.java:42)\n	at javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\n	at com.atlassian.plugin.servlet.ServletModuleContainerServlet.service(ServletModuleContainerServlet.java:52)\n	at javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n	at com.atlassian.refapp.decorator.DecoratorServletFilter.doFilter(DecoratorServletFilter.java:46)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n	at com.atlassian.gadgets.refimpl.ui.DashboardFilter.doFilter(DashboardFilter.java:80)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n	at org.apache.shindig.auth.AuthenticationServletFilter.callChain(AuthenticationServletFilter.java:123)\n	at org.apache.shindig.auth.AuthenticationServletFilter.doFilter(AuthenticationServletFilter.java:86)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:41)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\n	at com.opensymphony.sitemesh.webapp.SiteMeshFilter.obtainContent(SiteMeshFilter.java:129)\n	at com.opensymphony.sitemesh.webapp.SiteMeshFilter.doFilter(SiteMeshFilter.java:77)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n	at com.atlassian.core.filters.ServletContextThreadLocalFilter.doFilter(ServletContextThreadLocalFilter.java:19)\n	at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:41)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n	at com.atlassian.refapp.auth.internal.AuthenticationContextCopyFilter.doFilter(AuthenticationContextCopyFilter.java:39)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n	at com.atlassian.seraph.filter.SecurityFilter.doFilter(SecurityFilter.java:192)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n	at com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:98)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n	at com.atlassian.seraph.filter.BaseLoginFilter.doFilter(BaseLoginFilter.java:125)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n	at com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:69)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:41)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:41)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\n	at com.atlassian.plugin.refimpl.webresource.RequestCacheCleaner.doFilter(RequestCacheCleaner.java:28)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\n	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)\n	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:174)\n	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\n	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:117)\n	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:544)\n	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:108)\n	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:151)\n	at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:874)\n	at org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:665)\n	at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:528)\n	at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:81)\n	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:689)\n	at java.lang.Thread.run(Thread.java:613)\n- Servlet.service() for servlet plugins threw exception\njava.lang.NullPointerException\n	at com.atlassian.oauth.consumer.sal.PluginSettingsConsumerTokenStore.get(PluginSettingsConsumerTokenStore.java:70)\n	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n	at java.lang.reflect.Method.invoke(Method.java:585)\n	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:310)\n	at org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:58)\n	at org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:62)\n	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n	at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)\n	at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)\n	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n	at org.springframework.osgi.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:36)\n	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n	at org.springframework.osgi.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:59)\n	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n	at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)\n	at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)\n	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\n	at $Proxy135.get(Unknown Source)\n	at com.atlassian.gadgets.renderer.internal.oauth.AtlassianOAuthStore.getTokenInfo(AtlassianOAuthStore.java:62)\n	at org.apache.shindig.gadgets.oauth.GadgetOAuthTokenStore.lookupToken(GadgetOAuthTokenStore.java:232)\n	at org.apache.shindig.gadgets.oauth.GadgetOAuthTokenStore.getOAuthAccessor(GadgetOAuthTokenStore.java:115)\n	at org.apache.shindig.gadgets.oauth.OAuthFetcher.fetchNoThrow(OAuthFetcher.java:185)\n	at org.apache.shindig.gadgets.oauth.OAuthFetcher.fetch(OAuthFetcher.java:169)\n	at org.apache.shindig.gadgets.http.ContentFetcherFactory.fetch(ContentFetcherFactory.java:54)\n	at com.atlassian.gadgets.renderer.internal.http.TrustedAppContentFetcherFactory.fetch(TrustedAppContentFetcherFactory.java:43)\n	at org.apache.shindig.gadgets.servlet.MakeRequestHandler.fetch(MakeRequestHandler.java:84)\n	at org.apache.shindig.gadgets.servlet.MakeRequestServlet.doGet(MakeRequestServlet.java:55)\n	at org.apache.shindig.gadgets.servlet.MakeRequestServlet.doPost(MakeRequestServlet.java:65)\n	at javax.servlet.http.HttpServlet.service(HttpServlet.java:710)\n	at javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\n	at com.atlassian.plugin.servlet.DelegatingPluginServlet.service(DelegatingPluginServlet.java:42)\n	at javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\n	at com.atlassian.plugin.servlet.ServletModuleContainerServlet.service(ServletModuleContainerServlet.java:52)\n	at javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n	at com.atlassian.refapp.decorator.DecoratorServletFilter.doFilter(DecoratorServletFilter.java:46)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n	at com.atlassian.gadgets.refimpl.ui.DashboardFilter.doFilter(DashboardFilter.java:80)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n	at org.apache.shindig.auth.AuthenticationServletFilter.callChain(AuthenticationServletFilter.java:123)\n	at org.apache.shindig.auth.AuthenticationServletFilter.doFilter(AuthenticationServletFilter.java:86)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:41)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\n	at com.opensymphony.sitemesh.webapp.SiteMeshFilter.obtainContent(SiteMeshFilter.java:129)\n	at com.opensymphony.sitemesh.webapp.SiteMeshFilter.doFilter(SiteMeshFilter.java:77)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n	at com.atlassian.core.filters.ServletContextThreadLocalFilter.doFilter(ServletContextThreadLocalFilter.java:19)\n	at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:41)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n	at com.atlassian.refapp.auth.internal.AuthenticationContextCopyFilter.doFilter(AuthenticationContextCopyFilter.java:39)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n	at com.atlassian.seraph.filter.SecurityFilter.doFilter(SecurityFilter.java:192)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n	at com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:98)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n	at com.atlassian.seraph.filter.BaseLoginFilter.doFilter(BaseLoginFilter.java:125)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)\n	at com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:69)\n	at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:41)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\n	at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55)\n	at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:41)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\n	at com.atlassian.plugin.refimpl.webresource.RequestCacheCleaner.doFilter(RequestCacheCleaner.java:28)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\n	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)\n	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:174)\n	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\n	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:117)\n	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:544)\n	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:108)\n	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:151)\n	at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:874)\n	at org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:665)\n	at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:528)\n	at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:81)\n	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:689)\n	at java.lang.Thread.run(Thread.java:613)\n"
61d42696f4d395ee220076f6,51425,14400,"The new 'version' attribute on the dashboardState class gets lost when doing modifications.  For example the call DashboardImpl.rearrangeGadgets(GadgetLayout gadgetLayout) results in a new DashboardState being created:\n{code}\nstate = DashboardState.dashboard(state)\n            .columns(getRearrangedColumns(getLayout(), gadgetLayout))\n            .build();\n{code}\n\nThis has to keep the existing version.  The DashboardState.Builder(DashboardState) should set the existing version.  \n\nAlso when fixing this can we make sure that this happens anywhere we construct a new DashboardState from an existing state please."
61d42696f4d395ee220076f9,50703,14400,Add an integration test to validate that non-admin buttons are not showing up for non-admin users\n\nsee https://studio.atlassian.com/source/cru/CR-AG-528/#c7667
61d42696f4d395ee220076fb,51233,14400,"Steps:\n1. Try to add following gadget after logging as admin\nhttp://www.google.com/ig/modules/horoscope.xml\nhttp://www.google.com/ig/modules/colorjunction.xml\nhttp://ralph.feedback.googlepages.com/googlecalendarviewer.xml\n\nResult:\n1. No error message, the focus is back on directory.\n2. This problem is IE specific, I was able to add gadget in FF properly.\n3. I was not able to add http://www.google.com/ig/modules/wikipedia.xml. Any reason why..\n\nExpected:\n1. The adding external gadget should work fine in IE also\n"
61d42696f4d395ee220076fe,51382,7200,"now that we created DashboardStateStore.update in AG-749, the store method is no longer needed. [requested by andreas|https://studio.atlassian.com/source/cru/CR-AG-503#c7571]"
61d42696f4d395ee220076ff,51333,21600,"JIRA needs to be able to look up gadget module descriptors and pull the module params out. To do this, they need to be able to determine the plugin & module keys from the gadget URL alone.\n\nThere's some discussion at: https://paste.atlassian.com/view/135 and https://paste.atlassian.com/view/136 (ignore the cupcake part)"
61d42696f4d395ee22007700,51022,14400,"{{GadgetImpl}} contains an {{errorMessage}} field, but we're currently not exposing it in {{GadgetRepresentation}}. We should make it available so that the JavaScript code for displaying gadget errors can include the detail message."
61d42696f4d395ee22007701,50845,3600,"This is failing on the Release VM\n\n{noformat}\n-------------------------------------------------------------------------------\nTest set: it.com.atlassian.gadgets.dashboard.UserPrefsTest\n-------------------------------------------------------------------------------\nTests run: 8, Failures: 1, Errors: 0, Skipped: 1, Time elapsed: 10.584 sec <<< FAILURE!\nassertThatSetPrefsChangesPreferenceFormValues(it.com.atlassian.gadgets.dashboard.UserPrefsTest)  Time elapsed: 1.551 sec  <<< FAILURE!\njava.lang.AssertionError: expected:<com.atlassian.gadgets.test.AjaxRequest@1d07c3f[url=http://localhost:8080/dashboards/rest/dashboards/1.0/20/gadget/1014/prefs,params=[name=up_string_pref, value=changed string, name=up_bool_pref, value=true, name=up_enum_pref, value=changed enum, name=up_hidden_pref, value=changed hidden, name=up_list_pref, value=changed|list, name=add-to-list, value=, name=method, value=put]]> but was:<com.atlassian.gadgets.test.AjaxRequest@8d1749[url=http://localhost:8080/dashboards/rest/dashboards/1.0/20/gadget/1014/prefs,params=[name=up_string_pref, value=changed string, name=up_enum_pref, value=default enum, name=up_hidden_pref, value=default hidden, name=up_list_pref, value=default|list, name=add-to-list, value=, name=method, value=put, name=up_bool_pref, value=false]]>\n	at org.junit.Assert.fail(Assert.java:91)\n	at org.junit.Assert.failNotEquals(Assert.java:618)\n	at org.junit.Assert.assertEquals(Assert.java:126)\n	at org.junit.Assert.assertEquals(Assert.java:145)\n	at it.com.atlassian.gadgets.dashboard.UserPrefsTest.assertThatSetPrefsChangesPreferenceFormValues(UserPrefsTest.java:81)\n	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n	at java.lang.reflect.Method.invoke(Method.java:585)\n	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)\n	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\n	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)\n	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\n	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)\n	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:31)\n	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:73)\n	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:46)\n	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:180)\n	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:41)\n	at org.junit.runners.ParentRunner$1.evaluate(ParentRunner.java:173)\n	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)\n	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:31)\n	at org.junit.runners.ParentRunner.run(ParentRunner.java:220)\n	at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:62)\n	at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.executeTestSet(AbstractDirectoryTestSuite.java:140)\n	at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.execute(AbstractDirectoryTestSuite.java:127)\n	at org.apache.maven.surefire.Surefire.run(Surefire.java:177)\n	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n	at java.lang.reflect.Method.invoke(Method.java:585)\n	at org.apache.maven.surefire.booter.SurefireBooter.runSuitesInProcess(SurefireBooter.java:345)\n	at org.apache.maven.surefire.booter.SurefireBooter.main(SurefireBooter.java:1009)\n{noformat}"
61d42696f4d395ee22007705,50903,14400,see https://studio.atlassian.com/source/cru/CR-AG-509/#c7517
61d42696f4d395ee22007706,50728,7200,"Steps:\n1. Opened a dashboard page having 2 gadgets in 1 column.\n2. Try to add gadget from directory to an empty dashboard.\n\nResult:\n1. User can't see any gadget properly.\n2. Adding gadget, just keep on showing ""Adding"" and nothing happens.\n\nExpected:\n1. UI should be proper.\n2. Add gadget should be working fine."
61d42696f4d395ee22007708,51354,14400,"Steps:\n1. On Dashboard, click ""Add gadget"" link.\n\nResult:\n1. Non admin user can see the ""remove"" button for externally added gadget.\n2. Clicking on link, it give user error message and then that same gadget is unusable in directory. \n\nExpected:\n1. No remove button for non admin user."
61d42696f4d395ee22007709,51247,3600,"Safari is awesome.  For some reason it can't deal with multiple 'var name' so it will just change the contents to some random text like:\n{noformat}<!-- framePath //<!--frame4-->""-->{noformat}\n\nThis resulted in prefs test gadgets printing this seemingly randomly: 'name=--> testbool=false' instead of 'name=fakename testbool=false'\n\nAlso see: http://markmail.org/message/3p5ibqhdrppa2bc6#query:framePath%20safari+page:1+mid:aps57htayykgzya5+state:results"
61d42696f4d395ee2200770b,51487,14400,Drag element sits underneath tab. Dropping on tab does not work.
61d42696f4d395ee2200770c,50382,7200,There are a bunch of compiler warnings about unused variables and imports and raw types being used instead of parameterized ones.  It hurts my eyes.
61d42696f4d395ee2200770d,50772,7200,see https://studio.atlassian.com/source/cru/CR-AG-503#c7466
61d42696f4d395ee2200770f,50503,21600,"Currently the parent POM of the atlassian-gadgets base POM is atlassian-private-pom\n\nAccording to [the release engineering instructions|https://extranet.atlassian.com/display/RELENG/POM+Hierarchy+and+Artifact+Deployment], atlassian-private-pom is ""for all private Atlassian projects such as the website or projects such as the license encoder. Deploys to private repository."" Another base POM called atlassian-closedsource-pom is described as ""Parent POM for all of Atlassian products. Parent POMs for individual products should inherit off of this POM.  \nSee the 'Deployment Strategy' section below for deployment details.""\n\nThis deploys binaries to the public repository, but unfortunately does not deploy the sources JAR at all. However, this is probably what we want to use until we get the licensing sorted out."
61d42696f4d395ee22007710,51294,14400,"""Now that DashboardTester's need to be disposed, I think we should add the LoggingFilter back in and log Jersey's output to a file. The dispose method can dispose the stream you'd have to open for the logfile.""\n-- JK https://studio.atlassian.com/source/cru/CR-AG-502#c7229\n\nSee also AG-728 and r40456"
61d42696f4d395ee22007712,50513,14400,"The ""Add gadget to directory"" button should only be accessible to admin users."
61d42696f4d395ee22007717,51105,1800,"There is a [memory leak|https://issues.apache.org/jira/browse/SHINDIG-1132] in the Shindig 1.0-incubating class {{XmlUtil}} where they store a Xerces {{DocumentBuilder}} configured with an inner class {{ErrorHandler}} in a thread local. This {{ErrorHandler}} reference prevents the classloader that loaded Shindig from being claimed for GC. In theory the {{DocumentBuilder}} could leak, but in practice this is loaded by the system classloader."
61d42696f4d395ee22007718,51056,7200,"Please make our gadget UI text consistent for maximise, minimise, restore and expand options.\nFor background information, see discussion page on [EAC|https://extranet.atlassian.com/display/TECHWRITING/Gadget+terminology+for+expanding%2C+shrinking+and+canvas+view].\n\n*Requirements in brief:*\nOur tooltips, menu options and links should all have the same text for each of these options:\n* Going to canvas view: ""*Maximise*""\n* Returning from canvas view to normal dashboard: ""*Restore*""\n* Reducing the gadget to just the title bar (in both normal and canvas modes): ""*Minimise*""\n* Going back from just the title bar to normal gadget size (in both normal and canvas modes): ""*Expand*""\n\n(i) Note that we use Australian spelling, to be consistent with all our UI.\n\n*Changes required:*\n# In the gadget drop-down menu, change current ""Minimize"" to ""*Minimise*"". (For the option to reduce the gadget to just the title bar.) This applies to both the normal view and the canvas view.\n# In the gadget drop-down menu, change current ""Maximize"" to ""*Expand*"". (For the option to restore the gadget from just the title bar to its normal size.) This applies to both the normal view and the canvas view.\n# In canvas view, change the link at the top of the page from the current ""Minimize Gadget"" to ""*Restore*"". (For the option to return from canvas view to normal dashboard.)\n# In canvas view, change the tooltip for the option that restores normal view from the current ""Maximize"" to ""*Restore*"". (For the tooltip on the icon that return from canvas view to normal dashboard.)\n"
61d42696f4d395ee2200771f,51038,1800,Empty column placeholder is the same height as the largest column
61d42696f4d395ee22007722,51165,14400,"Steps:\n1. In any one column add first any gadget and then add gadget supporting canvas view( I tested with canvas sample gadget).\n2. Now view canvas sample gadget in canvas view. Open the preferences dialog from the drop down menu.\n3. Perform some editing in preferences and save it.\n\nResult:\n1. Now user can see some extra image on left upper corner.\n2. Try to select it using mouse, its the second gadget added in column.\n3. Now go back to normal view. The position of canvas gadget is changed. The other gadget is the first gadget in the column now.\n\nExpected:\n1. User should n't be able to access any other gadget from canvas view.\n2. The position of gadget should n't change."
61d42696f4d395ee22007723,50824,14400,"There isn't a help link  on the ""Add Gadgets"" screen at the moment. See attached screenshot.\n\nIt would be nice to add a link, so that first-time Dashboard users can read up about what they're doing. Also, people adding gadgets may very well be developers who'd like to write a gadget. The suggested help link below points to the user guide and the dev guide. \n\nSuggested text, perhaps to appear under the list of gadgets, next to thee ""Finished"" button, with a question-mark logo:\n{quote}Learn more about [gadgets|http://confluence.atlassian.com/display/GADGETS/Gadgets+and+Dashboards+User+Guide] or [create your own gadget|http://confluence.atlassian.com/display/GADGETS/Gadgets+and+Dashboards+Development+Hub].{quote} \n\nThe links should be version-aware, as described in AG-552."
61d42696f4d395ee22007724,51130,7200,"On the ""Add Gadgets"" screen (see attached screenshot):\n\n# Suggested new title: change the title from ""*Add Gadgets*"" to ""*Gadget Directory*"". \nReason: People come to this screen for reasons other than just adding a gadget to the dashboard.\n\n# Fix the capitals on the ""*Add it now*"" button --- should be ""*Add it Now*""."
61d42696f4d395ee22007726,50340,14400,"To properly implement the final agreed upon solution for [moving a gadget|https://studio.atlassian.com/source/cru/CR-AG-498#c7220], the DashboardStateStore needs to provide a way to find the DashboardState with a certain gadget so that it can be removed from that dashboard and added to the target dashboard."
61d42696f4d395ee22007727,50575,14400,See https://bamboo.developer.atlassian.com/browse/AG-SITE-260
61d42696f4d395ee22007728,50986,21600,"Dashboard ""1"" might has a gadget whose xml spec is missing.  It shows 500 error on visit.\nhttps://dashboard-test.atlassian.com/1\n\nOther dashboards seems fine."
61d42696f4d395ee2200772a,51055,14400,"when a gadget is dragged to another column, the gadget's menu only flits in and out (making it unusable) until page refresh.\n\n\nto reproduce:\nadd gadget. drag it to second column. see gadget's menu problems"
61d42696f4d395ee2200772b,51428,14400,"Make UserPrefSpec a concrete and immutable class, similar to GadgetSpec (see AG-784)\n\nSee https://studio.atlassian.com/source/cru/CR-AG-500/#c7279 for context"
61d42696f4d395ee2200772c,51027,14400,See also AG-780
61d42696f4d395ee2200772d,51215,7200,To repro:\n\n1) Go to dashboard 100000\n2) Add the fish gadget\n3) Drag fish to dashboard 100004\n4) Drag fish back to dashboard 100000\n\nThe gadget will be sitting on top of the tabs as shown in the screenie.
61d42696f4d395ee22007730,51096,3600,"Need to talk to Nick, Andreas or Scott and find out what the category list should be, then change our list to match.\n\nThis is in lieu of dynamically building the category list from available gadgets, which we deferred to a later version."
61d42696f4d395ee22007732,51003,3600,We've been using http://oauth.gmodules.com/gadgets/oauthcallback as the OAuth callback. We should bundle an equivalent page.
61d42696f4d395ee22007734,51061,14400,For some reason this only seems to affect Mac OS X.\n\nThe problem seems to be triggered by calling {{setTimeout}} in Javascript with a long delay. A 1 second delay does not cause failures; a 1 minute delay does.
61d42696f4d395ee22007735,51097,10800,See comments in AG-785. The JS needs to do defensive checks against properties that aren't present for gadgets that didn't load properly.
61d42696f4d395ee22007738,50629,7200,Install the I18N gadget and several others below it in one column then try to move the I18N gadget from the first position to the bottom position. You can't.
61d42696f4d395ee2200773b,51234,14400,DTAC's home page is throwing an exception currently:\n\n{noformat}\njava.lang.NullPointerException\n	com.atlassian.gadgets.dashboard.internal.impl.GadgetImpl.getTitleUrl(GadgetImpl.java:97)\n	com.atlassian.gadgets.dashboard.internal.rest.model.GadgetRepresentation$GadgetUrlContainer.<init>(GadgetRepresentation.java:267)\n	com.atlassian.gadgets.dashboard.internal.rest.model.RepresentationFactoryImpl.createGadgetRepresentation(RepresentationFactoryImpl.java:44)\n	com.atlassian.gadgets.dashboard.internal.rest.model.RepresentationFactoryImpl.createDashboardRepresentation(RepresentationFactoryImpl.java:34)\n	com.atlassian.gadgets.dashboard.internal.velocity.DashboardView.getJsonRepresentation(DashboardView.java:75)\n	com.atlassian.gadgets.dashboard.internal.velocity.DashboardView.writeTo(DashboardView.java:67)\n	com.atlassian.gadgets.refimpl.ui.DashboardFilter.doFilter(DashboardFilter.java:138)\n{noformat}
61d42696f4d395ee2200773c,50348,14400,"We have {{GadgetSpec}} defined as an interface, with an implementation {{GadgetSpecImpl}} that wraps a Shindig {{GadgetSpec}} instance.\n\nI think we'd be better off with {{GadgetSpec}} as a concrete, immutable class that is built from the Shindig class inside {{GadgetSpecFactoryImpl}}.\n\nSee https://studio.atlassian.com/source/cru/CR-AG-473/#c6917 for context"
61d42696f4d395ee2200773e,51407,14400,Back-end code was done in AG-514\n\nFixing to work with the new UI changes.
61d42696f4d395ee2200773f,50714,43200,I think it would be beneficial to look over the generated javadocs and make sure everything is up to snuff prior to the release.\n\nI've noticed a few places where we've refactored some method signatures and failed to keep the javadocs synced up.
61d42696f4d395ee22007740,50731,7200,The gadget browser should not display empty directories.  Products out of the box will only have categories in 1 or 2 directories.  E.g. JIRA 4.0 will have gadgets in JIRA and Charts.  It looks kinda crappy if there are a lot of directories and nothing in them.  Hiding empty categories would be a lot nicer user experience.
61d42696f4d395ee22007741,50906,14400,Found another bug with the hostname changes in the gadget directory.  The gadget URL link under the gadget title is wrong.\n\nI get this url: http://localhost:8090/jira/secure/rest/gadgets/1.0/g/com.atlassian.jira.gadgets/gadgets/quickcreate-gadget.xml\n\nIt should be: http://localhost:8090/jira/rest/gadgets/1.0/g/com.atlassian.jira.gadgets/gadgets/quickcreate-gadget.xml\n\nI'm guessing it has something to do with the fact that when viewing a dashboard in JIRA it's done via this URL: http://localhost:8090/jira/secure/Dashboard.jspa\n\n
61d42696f4d395ee22007742,51372,14400,See https://studio.atlassian.com/source/cru/CR-AG-445#c6506
61d42696f4d395ee22007744,51230,21600,"I started on this in AG-760, but decided to ship the fix before finishing the test."
61d42696f4d395ee22007745,51291,600,https://studio.atlassian.com/source/cru/CR-AG-452/review#c6645
61d42696f4d395ee22007746,50317,600,https://studio.atlassian.com/source/cru/CR-AG-452/review#c6642
61d42696f4d395ee22007747,50585,3600,https://studio.atlassian.com/source/cru/CR-AG-452/review#c6641
61d42696f4d395ee22007748,50927,1800,https://studio.atlassian.com/source/cru/CR-AG-452/review#c6638
61d42696f4d395ee22007749,50300,1800,https://studio.atlassian.com/source/cru/CR-AG-452/review#c6627
61d42696f4d395ee2200774a,51348,600,https://studio.atlassian.com/source/cru/CR-AG-452/review#c6624\nhttps://studio.atlassian.com/source/cru/CR-AG-452/review#c6626
61d42696f4d395ee2200774c,50252,43200,"Don brought this up.  Apparently the dashboards plugin currently includes some dependencies that it doesn't really need.  It has a version of ROME, and httpclient.\n\nBoth of these are already available as separate bundled in the JIRA bundled plugins zip (ROME is required for Streams, httpclient was required for an earlier version of the dashboard).\n\nI think to avoid JAR bloat, we should include jars in META-INF/lib fairly sparingly and rather require host applications to provide certain bundles.  Including numerous copies of these jars unnecessarily increases the download size of our products, and permgen requirements.  We should probably do a review of all the bundled dependencies in AG, and externalize as many as possible."
61d42696f4d395ee2200774d,51443,3600,"Some long-delayed clean-up for the directory structure:\n\n- Delete the {{gadgets}} sub-project (no longer used)\n- Ensure that all of the plugin sub-projects have ""plugin"" in the directory name, and in general match the artifactId (minus the 'atlassian-gadgets-' prefix)"
61d42696f4d395ee2200774e,50768,14400,"Noticed one more oddity with 1.0.0.m11.2.  The URI that's being passed to the Host apps GadgetSpecProvider.contains(URI uri) method is an absolute URI.  I can currently work around this by detecting if the URI is absolute and converting it to a relative URI, however I think it should be passed in as a relative URI in the first place.\n\nThis is my current implementation of the JiraApplicationGadgetSpecProvider: https://paste.atlassian.com/view/95\nThis is I think what it should be: https://paste.atlassian.com/view/96\n(The legacyGadgetUrlFactory returns a relative URI)\n\nSorry I didn't raise this immediately when I tried 1.0.0.m11.2...took me a little while to try all the different things.  I'm happy to ship JIRA 4.0 Beta2 with this workaround, however I think we should revisit this. "
61d42696f4d395ee22007750,51214,3600,"atlassian-gadgets-ui-tests.iml is checked into the repository. Generally, we haven't been checking in idea module / project files. I'd suggest we just remove it and add it to svn / git ignore files."
61d42696f4d395ee22007751,51285,14400,"Hi Gadget devs,\n\nOver the last few days, I've been seeing much slow response times on adding gadgets during the performance test.  The first slow build was reported 2 days ago, see: \n\nhttps://bamboo.extranet.atlassian.com/browse/PERFENG-GADGETSTC6JAVA16\n\nhttps://internal.docs.atlassian.com/gadgets-perftest/1.0.0-SNAPSHOT-tomcat6-1.6/history-setuptest.html\n\nYou'll note that the average response time is now around 2.5 seconds with a 95% of nearly 9 seconds.\n\nBy the looks of the setup test report here:\n\n  Add Gadget\n\nIt would seem there's something wrong that causes a slow degradation.  I've had a look at the CPU profile and there is a large amount of time being spend saving to XML.  Has this setting changed recently?\n\nPlease could you investigate as your tests are now taking around 7 hours to run.\n\nGeorge\n\n\n-- \nGeorge Barnett\ngbarnett@atlassian.com\n"
61d42696f4d395ee22007752,50722,14400,"{{GadgetUrlBuilderImplTest}} contains a lot of duplicated boilerplate and is kind of hard to read. It could benefit from a method that initializes all of the mocks, and one or more Hamcrest matchers to do verification."
61d42696f4d395ee22007754,50258,43200,"So I tried upgrading to 1.0.0.m11.1, and it resolved the hostname issue which is awesome!  However I think as part of this change, gadgets served by the host can't make 'makeRequest' calls back to the host any longer.  This wont affect us so much since we wont make internal makeRequest calls a lot, however, plugin writers may not use our framework and use makeRequest for internal calls as well.\n\nThe problem is caused by the new relative gadget path I think.\n\nHere's the request params captured via firebug for a makerequest call from the activitystream gadget.  I attached the firebug output for the make request call that triggered this problem (here's the request URL for reference:\n\nhttp://localhost:8090/jira/plugins/servlet/gadgets/makeRequest?refresh=3600&url=http%3A%2F%2Flocalhost%3A8090%2Fjira%2Fs%2F429%2F1%2F2%2F_%2Fdownload%2Fresources%2Fcom.atlassian.streams.streams-jira-plugin%3Adate-en-AU%2Fdate-en-AU.js&httpMethod=GET&headers=&postData=&authz=&st=&contentType=TEXT&numEntries=3&getSummaries=false&signOwner=true&signViewer=true&gadget=rest%2Fgadgets%2F1.0%2Fg%2Fcom.atlassian.streams.streams-jira-plugin%2Fgadgets%2Factivitystream-gadget.xml&container=atlassian&bypassSpecCache=1)\n\nThis causes this exception on the server (and hence the 500 response):\n{noformat}\n2009-07-09 14:45:07,129 http-8090-Processor28 ERROR admin 53107x980x1 15gnxpc /plugins/servlet/gadgets/makeRequest [[Standalone].[localhost].[/jira].[servlet-module-container-servlet]] Servlet.service() for servlet servlet-module-container-servlet threw exception\njava.lang.IllegalStateException: Target host must not be null, or set in parameters.\n	at org.apache.http.impl.client.DefaultRequestDirector.determineRoute(DefaultRequestDirector.java:570)\n	at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:291)\n	at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:555)\n	at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487)\n	at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:465)\n	at com.atlassian.gadgets.renderer.internal.http.HttpClientFetcher.fetch(HttpClientFetcher.java:89)\n	at org.apache.shindig.gadgets.DefaultGadgetSpecFactory.fetchObjectAndCache(DefaultGadgetSpecFactory.java:124)\n	at org.apache.shindig.gadgets.DefaultGadgetSpecFactory.getGadgetSpec(DefaultGadgetSpecFactory.java:89)\n	at org.apache.shindig.gadgets.rewrite.lexer.DefaultContentRewriter.rewrite(DefaultContentRewriter.java:109)\n	at org.apache.shindig.gadgets.rewrite.DefaultContentRewriterRegistry.rewriteHttpResponse(DefaultContentRewriterRegistry.java:87)\n	at org.apache.shindig.gadgets.servlet.MakeRequestHandler.fetch(MakeRequestHandler.java:88)\n	at org.apache.shindig.gadgets.servlet.MakeRequestServlet.doGet(MakeRequestServlet.java:55)\n	at javax.servlet.http.HttpServlet.service(HttpServlet.java:689)\n	at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n	at com.atlassian.plugin.servlet.DelegatingPluginServlet.service(DelegatingPluginServlet.java:42)\n	at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n	at com.atlassian.plugin.servlet.ServletModuleContainerServlet.service(ServletModuleContainerServlet.java:52)\n	at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252)\n	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)\n	at com.atlassian.jira.dashboard.DashboardRedirectFilter.doFilter(DashboardRedirectFilter.java:57)\n	at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31)\n	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)\n...\n{noformat}"
61d42696f4d395ee22007755,51054,6000,"# Add two gadgets to a page, one of them the Canvas Sample Gadget\n# Minimze the Canvas Sample Gadget, using the menu\n# Expand the Canvas Sample Gadget using the Canvas button in the menu bar\n# You'll see a wide title bar, and that's all\n# Choose ""Maximize"" from the dropdown menu\n# See Screenshot for result"
61d42696f4d395ee22007756,51485,14400,Drag & Drop appears to have broken completely in m11
61d42696f4d395ee22007757,51430,14400,"Many of the review comments from CR-AG-445 were seemingly missed. I think it's important to get public APIs right before 1.0, and we shouldn't allow unnecessary or inflexible methods to slip through, as it's going to be much harder to change them once people start to rely on them.\n\n* https://studio.atlassian.com/source/cru/CR-AG-445#c6506\n* https://studio.atlassian.com/source/cru/CR-AG-445#c6512\n* https://studio.atlassian.com/source/cru/CR-AG-445#c6501\n* https://studio.atlassian.com/source/cru/CR-AG-445#c6508\n\nIn addition, I think that changing the names of {{ViewSettings}} and {{View}} to {{View}} and {{ViewType}}, respectively, would align better with [the client-side API|http://www.opensocial.org/Technical-Resources/opensocial-spec-v08/gadgets-reference08#gadgets.views]."
61d42696f4d395ee22007758,51127,14400,"e.g., http://docs.atlassian.com/atlassian-gadgets/1.0.0.m11/jira-report.html still shows Iteration 18\n\nNow that we're matching JIRA releases to actual version numbers, can this be automated somehow? If not, we'll need to add instructions to [How to do a release] for updating the JIRA information in the POM."
61d42696f4d395ee22007759,50759,14400,"If you go to, say, http://docs.atlassian.com/atlassian-gadgets/1.0.0.m11/ and click on any of the modules, you get a 404 (e.g., http://docs.atlassian.com/atlassian-gadgets/1.0.0.m11/atlassian-gadgets-bundle-base-pom/atlassian-gadgets-api/index.html). Instead, the sub-modules site builds are at URLs such as http://docs.atlassian.com/atlassian-gadgets-api/1.0.0.m11/atlassian-gadgets-bundle-base-pom/atlassian-gadgets-api/"
61d42696f4d395ee2200775c,50762,14400,"Just noticed PLUG-400.\n\nWe're probably affected by this problem too. I see a few places where we're using toUpperCase or toLowerCase without specifying a locale:\n\n{noformat}\nTargets\n    String 'toLowerCase|toUpperCase'\nFound usages  (7 usages)\n    Unclassified usage  (7 usages)\n        atlassian-gadgets-dashboard-plugin  (1 usage)\n            com.atlassian.gadgets.dashboard  (1 usage)\n                GadgetUserPrefsTest.java  (1 usage)\n                    (245, 68) assertThat(""option"", is(equalTo(enumNode.getNodeName().toLowerCase())));\n        atlassian-gadgets-directory-plugin  (3 usages)\n            com.atlassian.gadgets.directory.internal  (3 usages)\n                Category.java  (3 usages)\n                    (65, 40) map.put(category.getName().toLowerCase(), category);\n                    (68, 31) map.put(alias.toLowerCase(), category);\n                    (77, 62) Category category = categoryNameMap.get(categoryName.toLowerCase());\n        atlassian-gadgets-embedded-plugin  (1 usage)\n            com.atlassian.gadgets.embedded.internal  (1 usage)\n                GadgetUrlBuilder.java  (1 usage)\n                    (78, 36) ""&view="" + view.name().toLowerCase() +\n        atlassian-gadgets-refimpl-dashboard-ui-plugin  (1 usage)\n            com.atlassian.gadgets.refimpl.ui  (1 usage)\n                DashboardFilter.java  (1 usage)\n                    (161, 46) view = View.valueOf(viewName.toUpperCase());\n        atlassian-gadgets-renderer-plugin  (1 usage)\n            com.atlassian.gadgets.renderer.internal.oauth  (1 usage)\n                AtlassianOAuthFetcher.java  (1 usage)\n                    (43, 43) HttpMethod.valueOf(httpMethod.toUpperCase()),\n{noformat}"
61d42696f4d395ee2200775d,50543,43200,Or is there a more general solution for this?
61d42696f4d395ee2200775e,50619,3600,"This started happening over the last night. For some reason, I can't reproduce it locally."
61d42696f4d395ee2200775f,50256,43200,"Currently the DashboardStateStore has a single store() method.  Whilst this is great from a simplicity point of view of the API, it's not so good for performance.\n\nFor example, currently if just a single userpref of a single gadget is changed, the entire dashboard's state has to be re-written in the DB.  This can incur quite a performance penalty.  Similarly if a single gadget is dragged and dropped we're also re-writing the entire dashboard state.  \n\nI therefore would like to propose we add the following method(s) to the DashboardStateStore:\n* DashboardState updateGadgetPositions(DashboardState);       //this will only update row and col positions of gadgets and the dashboard layout. It will also add a gadget or remove a gadet.  We'll bascially detect in the impl what operation was performed. Userprefs/Colour will be ignored.\n* GadgetState storeGadget(GadgetState);                       //updates only the userprefs & colour for a particular Gadget\n\nThe dashboard plugin would then have to call the right method on the interface depending on what action was taken by the user.\n\nWe raised this with Jonathan when he was here.  Opinions?"
61d42696f4d395ee22007762,50315,14400,https://studio.atlassian.com/source/cru/CR-AG-440#c6363
61d42696f4d395ee22007763,50953,21600,"""this class needs a refactoring similar to the DashboardResourceTestBase approach to clean up state consistently"" -https://studio.atlassian.com/source/cru/CR-AG-438#c6358"
61d42696f4d395ee22007764,51266,14400,"The selenium tests currently use external gadgets, so they'll break local builds in the presence of network hiccups. There's no compelling reason to use external gadgets, except perhaps to verify that external gadgets are being added to the directory properly. But for that, we can use the fake-external-gadget spec.\n"
61d42696f4d395ee22007765,50464,14400,With the change to URL-encode pipe characters entered into list type user prefs (AG-342) we still aren't decoding it on display.
61d42696f4d395ee22007766,50378,14400,"{{AtlassianContainerConfig}} extends {{JsonContainerConfig}}. This is a legacy of the fact that in the original version of Shindig we used, {{ContainerConfig}} was not an interface, but a class that was what eventually became {{JsonContainerConfig}}. {{JsonContainerConfig}} is a configuration class that assumes the presence of a JSON-formatted config file.\n\nWe're not using a config file, because many of the values require using SAL to determine and can change at runtime. Therefore, it might be cleaner to implement {{ContainerConfig}} directly, rather than extending {{JsonContainerConfig}}."
61d42696f4d395ee2200776e,51133,14400,"from a comment made by andreas on AG-690\n\nAlso one more thing: If a gadget.xml doesn't have a title_url set in the spec, the link is still rendered like this:\n{code}\n<a class=""gadget-title-link"" href="""">Filter Results</a>\n{code}\n\nIt works fine in the gadget browser (title shows up as text).  If there's no URL, then the title in the chrome should just be text!"
61d42696f4d395ee22007771,51221,3600,"Now that the {{atlassian-ide-plugin.xml}} settings are checked in, I'd like to make a few improvements based on my existing config:\n\n* Use HTTPS for Bamboo\n* Include all of the active Bamboo plans\n* Take out FishEye server. It's not needed if you have a Crucible server configured with ""Crucible Server Contains FishEye Instance"" checked.\n* Set default servers\n\nIt also wants to change the server-id values for some reason. Hopefully that won't matter. You'll probably need to restart IDEA after updating."
61d42696f4d395ee22007772,51365,3600,"We had a failed build: https://bamboo.developer.atlassian.com/browse/AG-TRUNKJDK16-213\n\nSubsequent builds have passed, so if this doesn't recur within 30 days we should close this issue as not reproducible.\n\nIf it does recur, link the build here. It can probably be fixed by increasing the permgen space using {{MAVEN_OPTS}}."
61d42696f4d395ee22007773,50741,14400,"The renderer still uses the Atlassian Plugins runtime transformation to a bundle, while all of our other plugins are using the {{maven-bundle-plugin}}.\n\nThe reason renderer is an exception is that the JDOM JAR cannot easily be packaged into a bundle using the {{maven-bundle-plugin}}. However, now that there is [a JDOM bundle|BUNDLES-4] we can just include that in the refimpl and import its packages as needed."
61d42696f4d395ee22007774,51078,14400,"The integration tests spam the console with tons of warning messages, much of it from htmlunit. We should clean this up so that useful messages aren't lost in the clutter."
61d42696f4d395ee22007778,51411,14400,"ConsumerTokenStore returns the Token that was stored, it should be used instead of the Token that is passed in.  This is for compatability with JIRA."
61d42696f4d395ee2200777a,50963,3600,"The artifact ID changed from 'core' to 'oauth-core', and this was resulting in duplicate JARs packaged into the renderer plugin."
61d42696f4d395ee2200777b,50735,3600,Instructions at http://maven.apache.org/plugins/maven-dependency-plugin/examples/failing-the-build-on-dependency-analysis-warnings.html
61d42696f4d395ee2200777c,50320,14400,# Run {{mvn dependency:analyze -DoutputXML}}\n# Fix any warnings it reports
61d42696f4d395ee2200777e,51190,14400,"I think we should make all plugins required for the dashboard system plugins which has the effect that they can't be disabled via the Admin UI in products.  All that should be necessary is to add {{system=""true""}} to the plugin definition.  Also see http://jira.atlassian.com/browse/JRA-17661"
61d42696f4d395ee2200777f,51251,7200,Remove the json submodule and use the JSON bundle created in BUNDLES-3.
61d42696f4d395ee22007780,51323,7200,"It would be convenient to have Shindig running the same version of Google Collections as the rest of the app. Then, instead of packaging it into the Renderer Plugin, we could just bind to the OSGi bundle."
61d42696f4d395ee22007784,50389,14400,https://studio.atlassian.com/source/cru/CR-AG-427#c6034
61d42696f4d395ee2200778b,50994,3600,"in the gadget tabs integration test class (GadgetTabsTest), should get rid of the check for none in the tab element style attribute (containsNoneInStyleAttribute) and just use tabElement.isDisplayed() once we upgrade to htmlunit 2.5 and thus have that method available\n\ncame from https://studio.atlassian.com/source/cru/CR-AG-404#c5905"
61d42696f4d395ee2200778c,51334,14400,"It appears that it's not loading the other project submodules from the reactor, but from the local repository for some reason. This may be a configuration problem, or may be a bug in a Maven plugin.\n\ne.g., https://bamboo.developer.atlassian.com/browse/AG-SITE-110"
61d42696f4d395ee22007790,51465,21600,"Shindig has implemented fixes for the [OAuth Session Fixation attack|http://oauth.net/advisories/2009-1] in its OAuth consumer code.\n\nThe implementation of the fix is described at http://cwiki.apache.org/confluence/display/SHINDIG/OAuthSessionFixationAttack\n\nWe need to be sure we ship with these fixes in place. This will require:\n\n# Identifying the change sets in which the fixes were made\n# Determining whether the 1.0 release contains these fixes\n# If not, determining whether it contains code that was affected by these fixes\n# Determining whether the back-ported oauthpopup feature was affected by these fixes\n# Merging in whatever changes are required from Shindig trunk\n# If possible, tests"
61d42696f4d395ee22007794,50648,3600,https://studio.atlassian.com/source/cru/CR-AG-405#c5780
61d42696f4d395ee22007795,50937,3600,"When adding a gadget the gadget is added to the page via javascript.  In this chrome, the title is not a link.  Once the page is refreshed, the gadget title renders as a link\n\nI can't reproduce this on dashboard-test.atlassian.com, but I can in 1.0.0.m8 running in JIRA."
61d42696f4d395ee22007799,50302,3600,I found this in general.css\n@import url(http://yui.yahooapis.com/2.6.0/build/reset-fonts-grids/reset-fonts-grids.css);\n\n\nThis will cause problems for users that do not have access to that url.
61d42696f4d395ee2200779a,51245,14400,I just upgraded to 1.0.0.m8 that I released today and noticed that the titles of gadgets with a title_url were made links. The link currently disappears if the darkblue color is chosen.  Also I think they're a little too bold and too underlined :).  Perhaps we should just leave the text as is and let users discover that they are links when they mouseover?
61d42696f4d395ee2200779c,51455,21600,"Gadgets that use {{gadgets.io.makeRequest}} to make requests to the application that it's currently being displayed in shouldn't have to go through the {{makeRequest}} proxy.\n\nThe solution needs to take into account the following cases:\n\n* The gadget should work the same way regardless of whether it is contained in its host app or another app\n* It needs to consider both the base URL of the rendering server and the base URL of the destination server.\n* It should behave correctly when one base URL is a substring of the other (i.e., should use the proxy). For example, EAC & EACJ.\n\nThe best solution we've come up with so far is to:\n\n# Have Atlassian containers pass the base URL as a view param\n# Have the gadget initialize the {{AJS.gadget}} library with {{\_\_ATLASSIAN_BASE_URL\_\_}}\n# Have a {{makeRequest}} wrapper in {{AJS.gadget}} that checks that the view parameter is present, and that the initialized base URL matches it exactly, and that the {{makeRequest}} URL starts with it.\n#* If so, use jQuery's {{ajax}} method directly\n#* If not, use {{gadgets.io.makeRequest}}"
61d42696f4d395ee2200779d,50991,14400,"We've seem build failures that seem to be caused by intermittent network problems or remote server failures (e.g., https://bamboo.developer.atlassian.com/browse/AG-TRUNKJDK16-151)\n\nWe should audit our tests to ensure that they can pass disconnected."
61d42696f4d395ee2200779e,50321,14400,"The notion of a maximum number of gadgets in a dashboard has been added, but DashboardState does not enforce this. It is currently enforced in the DashboardImpl. The rationale for this was that existing Dashboards with too many gadgets should still be rendered, but with a warning for the user.\n\nNow we've come to a consensus that this is weird; because it allows DashboardState objects to exist with broken invariants. Like: there are more gadgets in the columns than max gadgets allows. "
61d42696f4d395ee220077a0,50236,3600,"Just tried upgrading to this, and there's 2 methods that were made package level protected in the DashboardState class that we need to be public: https://studio.atlassian.com/source/browse/AG/trunk/api/src/main/java/com/atlassian/gadgets/dashboard/DashboardState.java?r1=32648&r2=35935\n\nThe prependGadgetToColumn and appendGadgetToColumn methods.\n\nCan they be changed back please?\n\n"
61d42696f4d395ee220077a1,50240,21600,"Steps:\n1. Open Dashboard.\n2. Click ""Add Gadget"" link.\n\nResult:\n1. User can see the gadget aligned in 1 column for ""All"" and ""Others"" category.\n2. The gadgets are getting displayed correctly for category like JIRA.\n\nExpected:\n1. The gadgets in directory should get displayed in two column layout."
61d42696f4d395ee220077a2,51028,3600,"Steps:\n1. Add a gadget in say column A.\n2. Minimize the gadget and dragged it to column B\n3. Try to expand the gadget by clicking on ""Expand"".\n\nResult:\n1. Gadget is still minimized.\n2. Refresh the dashboard and its there all expanded.\n\nExpected:\n1. user should be able to expand the gadget without any issue.\n"
61d42696f4d395ee220077a5,51181,21600,"There's a XSS bug due to the dashboard title not being escaped.  If you create a dashboard with a title such as 'Xss Example  <img src=""http://fosters/~pdzwart/spanky.gif""/>' then the image tag wont be escaped.\n\nI think this is probably due to the dashboard.vm.\n\nI remember seeing something about velocity not auto-escaping things properly at the moment in ATR, so once that's fixed, this bug can probably be closed.  \n\nOriginally raised as http://jira.atlassian.com/browse/JRA-17443."
61d42696f4d395ee220077a7,50721,14400,"Can we swap color1 and color4 such that color1 is #369?\n\nThe reason for this is that we're allowing users to override the default colours in JIRA via the Look and Feel admin section.  Currently color4 is the default color used when adding a gadget, since it matches the rest of JIRA's default colours best (blue).  However this is a little tricky to explain to users in the UI why we arbitrarily chose color4 as the default. So can we swap color4 with color1 such that we can make color1 the default when adding a gadget?  Probably most other Atlassian apps will use the blue as well as the default value when adding a gadget, so we should probably use it as the default when adding a gadget in the dashboard's plugin as well.\n\n"
61d42696f4d395ee220077a8,51242,14400,"Collecting a bunch of review comments that are dependent on us upgrading to google collections 1.0-rc1\n\nhttps://studio.atlassian.com/source/cru/CR-AG-403#c5734 \nhttps://studio.atlassian.com/source/cru/CR-AG-393#c5583\n\nAlso, in the scope of this bug, I'd like someone to look over our lazy transformation usages. There are a number of places where we do a lazy transform then immediately iterate over the collection, obviating the lazy transformation. In those cases we should consider just iterating over the list"
61d42696f4d395ee220077a9,50243,14400,"There is a memory leak in the guice class {{InjectorImpl}} where it stores a single element array in a thread local. While the contents ({{InternalContext}} instances) are nulled out appropriately, the array itself is defined as an {{InternalContext[]}} which keeps a strong reference to the {{InternalContext.class}}. As this class is being loaded via a plugin class loader, this effectively leaks the relevant classloader, which also ends up leaking a Felix instance.\n\nThe technique and solution [are all described here|http://crazybob.org/2006/07/hard-core-java-threadlocal.html]. Guice 2 contains the fix."
61d42696f4d395ee220077ab,50178,14400,"This is from http://jira.atlassian.com/browse/JRA-17363.  I've seen a lot of users make this mistake.  Basically they'll click the title of the gadget in the gadget browser to add it rather than the 'Add it now' button, which takes you to the website defined in the gadet spec. \n\nI think we should change this to either have the title not be hyperlinked or make it add the gadget to the dashboard if clicked."
61d42696f4d395ee220077af,51310,14400,# Add a gadget that uses dynamic configuration (such as most of the JIRA gadgets) to a dashboard\n# Configure the gadget\n# Drag it to another column\n\nResult:\n\nThe gadget will appear to be unconfigured again\n\nReloading the dashboard fixes this
61d42696f4d395ee220077b1,50876,3600,"Steps:\n1. Open a blank dashboard page.\n2. In a two column layout. Add a gadget in 2nd column by clicking in link in second column.\n3. Change the color of the gadget header and then drag the gadget to first column or drag without changing color.\n4. Now try to access the gadget drop down menu.\n\nResult:\n1. If you change color and then drag the gadget, the menu will open and close before user can click any where.\n2. If you just drag and drop the gadget, the menu will get open but user can't click any where.\n3. Reloading the page solves the issue\n\nExpected:\n1. User should be able to work with the gadget drop down at any point. "
61d42696f4d395ee220077b2,50166,21600,"Hi guys,\n\nWe were just battling through some weird oauth behaviour and realised that Shindig was caching the oauth response (the one that passes the oauth url back).  Then anytime we requested the that same url, passing the token back, it would just send the oauth url back.  When the oauth filter intercepts the request and checks for credentials, are we setting the correct caching headers on it?\n\nWe have worked around it by adding ""?"" + new Date() to the url....\n\nCheers,\nNick"
61d42696f4d395ee220077b7,50227,36000,"Users will see a ""HTTP401 - malformed security token"" error. See: http://jira.atlassian.com/browse/JRA-19248\n\nOn May 17, 2009, at 9:09 PM, Alex Wei wrote:\n\nHi Tim and Rich,\n\nWe encountered the following exception while testing one of the Confluence gadget rendered by a gadget macro.\n\nNot sure if it's a bug or is it something we should handle in the macro?\n\nWould you please have a look at this?\n\nThanks,\nAlex\n\n{code}\n/opt/apache-tomcat-5.5.27/bin/catalina.sh run\nConnected to the target VM, address: '127.0.0.1:61419', transport: 'socket'\nMay 18, 2009 1:26:57 PM org.apache.catalina.core.AprLifecycleListener lifecycleEvent\nINFO: The Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: /Applications/IntelliJ IDEA 8.1.app/Contents/Resources/Java:/System/Library/PrivateFrameworks/JavaApplicationLauncher.framework/Resources:.:/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java \nMay 18, 2009 1:26:57 PM org.apache.coyote.http11.Http11BaseProtocol init\nINFO: Initializing Coyote HTTP/1.1 on http-8080\nMay 18, 2009 1:26:57 PM org.apache.catalina.startup.Catalina load\nINFO: Initialization processed in 591 ms\nMay 18, 2009 1:26:57 PM org.apache.catalina.core.StandardService start\nINFO: Starting service Catalina\nMay 18, 2009 1:26:57 PM org.apache.catalina.core.StandardEngine start\nINFO: Starting Servlet Engine: Apache Tomcat/5.5.27\nMay 18, 2009 1:26:57 PM org.apache.catalina.core.StandardHost start\nINFO: XML validation disabled\n2009-05-18 13:26:59,112 INFO [main] [com.atlassian.confluence.lifecycle] contextInitialized Starting Confluence 3.0-summit-SNAPSHOT (build #1615)\n2009-05-18 13:27:35,473 WARN [Felix:Startup] [osgi.hostcomponents.impl.DefaultComponentRegistrar] writeRegistry Host component johnsonEventContainer of instance com.atlassian.johnson.JohnsonEventContainer@683de0 has no interfaces\n2009-05-18 13:27:35,488 WARN [Felix:Startup] [osgi.hostcomponents.impl.DefaultComponentRegistrar] writeRegistry Host component contentTypesDisplayMapper of instance com.atlassian.confluence.util.actions.ContentTypesDisplayMapper@e87868 has no interfaces\n2009-05-18 13:27:35,524 WARN [Felix:Startup] [osgi.hostcomponents.impl.DefaultComponentRegistrar] writeRegistry Host component indexTaskFactory of instance com.atlassian.confluence.search.lucene.tasks.IndexTaskFactory@234155 has no interfaces\n2009-05-18 13:27:35,527 WARN [Felix:Startup] [osgi.hostcomponents.impl.DefaultComponentRegistrar] writeRegistry Host component tokenAuthenticationManager of instance com.atlassian.confluence.rpc.auth.TokenAuthenticationManager@1e5476 has no interfaces\n2009-05-18 13:27:35,531 WARN [Felix:Startup] [osgi.hostcomponents.impl.DefaultComponentRegistrar] writeRegistry Host component userMacroLibrary of instance com.atlassian.confluence.renderer.UserMacroLibrary@a6b29 has no interfaces\n2009-05-18 13:27:56,308 INFO [main] [com.atlassian.confluence.lifecycle] init Confluence is ready to serve\nMay 18, 2009 1:27:56 PM org.apache.coyote.http11.Http11BaseProtocol start\nINFO: Starting Coyote HTTP/1.1 on http-8080\nMay 18, 2009 1:27:57 PM org.apache.jk.common.ChannelSocket init\nINFO: JK: ajp13 listening on /0.0.0.0:8009\nMay 18, 2009 1:27:57 PM org.apache.jk.server.JkMain start\nINFO: Jk running ID=0 time=0/23  config=null\nConnected to server\nMay 18, 2009 1:27:57 PM org.apache.catalina.storeconfig.StoreLoader load\nINFO: Find registry server-registry.xml at classpath resource\nMay 18, 2009 1:27:57 PM org.apache.catalina.startup.Catalina start\nINFO: Server startup in 59737 ms\n2009-05-18 13:32:16,240 WARN [http-8080-Processor20] [directory.internal.impl.GadgetSpecProviderDirectoryEntryProvider] apply Could not determine whether plugin-provided gadget spec store contains \nhttp://localhost:8080/confluence/rest/gadgets/latest/g/com.atlassian.confluence.plugins.gadgets/gadgets/favourites.xml: \nURL is not a gadget spec URL for this server http://localhost:8080/confluence/rest/gadgets/latest/g/com.atlassian.confluence.plugins.gadgets/gadgets/favourites.xml \n-- url: /confluence/plugins/servlet/gadgets/ifr | userName: admin\n2009-05-18 13:32:16,240 WARN [http-8080-Processor23] [directory.internal.impl.GadgetSpecProviderDirectoryEntryProvider] apply Could not determine whether plugin-provided gadget spec store contains \nhttp://localhost:8080/confluence/rest/gadgets/latest/g/com.atlassian.confluence.plugins.gadgets/gadgets/favourites.xml: \nURL is not a gadget spec URL for this server http://localhost:8080/confluence/rest/gadgets/latest/g/com.atlassian.confluence.plugins.gadgets/gadgets/favourites.xml \n-- referer: http://localhost:8080/confluence/display/G/favourites+gadget | url: /confluence/plugins/servlet/gadgets/ifr | userName: admin\nMay 18, 2009 1:32:16 PM org.apache.shindig.auth.UrlParameterAuthenticationHandler getSecurityTokenFromRequest\nINFO: Valid security token not found.\norg.apache.shindig.auth.SecurityTokenException: org.apache.shindig.common.crypto.BlobExpiredException: Blob expired, was valid from Mon May 18 12:14:07 EST 2009 to Mon May 18 13:20:07 EST 2009, attempted use at Mon May 18 13:32:16 EST 2009\n at com.atlassian.gadgets.renderer.internal.CustomBlobCrypterSecurityTokenDecoder.createToken(CustomBlobCrypterSecurityTokenDecoder.java:56) \n at org.apache.shindig.auth.UrlParameterAuthenticationHandler.getSecurityTokenFromRequest(UrlParameterAuthenticationHandler.java:54) \n at org.apache.shindig.auth.AuthenticationServletFilter.doFilter(AuthenticationServletFilter.java:63) \n at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74) \n at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42) \n at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66) \n at com.atlassian.gadgets.renderer.internal.servlet.GadgetSpecUrlRenderPermissionServletFilter.doFilter(GadgetSpecUrlRenderPermissionServletFilter.java:82) \n at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74) \n at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:41) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:41) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.confluence.util.LoggingContextFilter.doFilter(LoggingContextFilter.java:46) \n at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.seraph.filter.SecurityFilter.doFilter(SecurityFilter.java:204) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.seraph.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:120) \n at com.atlassian.confluence.util.AbstractBootstrapHotSwappingFilter.doFilter(AbstractBootstrapHotSwappingFilter.java:30) \n at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.seraph.filter.BaseLoginFilter.doFilter(BaseLoginFilter.java:138) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46) \n at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66) \n at com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:59) \n at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74) \n at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:41) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.confluence.util.ClusterHeaderFilter.doFilter(ClusterHeaderFilter.java:35) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.johnson.filters.AbstractJohnsonFilter.doFilter(AbstractJohnsonFilter.java:72) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at org.springframework.orm.hibernate.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:170) \n at com.atlassian.spring.filter.FlushingSpringSessionInViewFilter.doFilterInternal(FlushingSpringSessionInViewFilter.java:29) \n at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:75) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.util.profiling.filters.ProfilingFilter.doFilter(ProfilingFilter.java:99) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.confluence.core.datetime.RequestTimeThreadLocalFilter.doFilter(RequestTimeThreadLocalFilter.java:34) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.confluence.util.RequestCacheThreadLocalFilter.doFilter(RequestCacheThreadLocalFilter.java:25) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.gzipfilter.GzipFilter.doFilterInternal(GzipFilter.java:81)\n at com.atlassian.gzipfilter.GzipFilter.doFilter(GzipFilter.java:51)\n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.core.filters.cache.AbstractCachingFilter.doFilter(AbstractCachingFilter.java:33) \n at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46) \n at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66) \n at com.atlassian.confluence.extra.webdav.servlet.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:43) \n at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74) \n at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:41) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.core.filters.encoding.AbstractEncodingFilter.doFilter(AbstractEncodingFilter.java:41) \n at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.core.filters.HeaderSanitisingFilter.doFilter(HeaderSanitisingFilter.java:44) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213) \n at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:172) \n at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127) \n at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:117) \n at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:108) \n at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:174) \n at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:875) \n at org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:665) \n at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:528) \n at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:81) \n at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:689) \n at java.lang.Thread.run(Thread.java:613)\nCaused by: org.apache.shindig.common.crypto.BlobExpiredException: Blob expired, was valid from Mon May 18 12:14:07 EST 2009 to Mon May 18 13:20:07 EST 2009, attempted use at Mon May 18 13:32:16 EST 2009\n at org.apache.shindig.common.crypto.BasicBlobCrypter.checkTimestamp(BasicBlobCrypter.java:227) \n at org.apache.shindig.common.crypto.BasicBlobCrypter.unwrap(BasicBlobCrypter.java:189) \n at com.atlassian.gadgets.renderer.internal.BlobCrypterImpl.unwrap(BlobCrypterImpl.java:40) \n at com.atlassian.gadgets.renderer.internal.CustomBlobCrypterSecurityTokenDecoder.decrypt(CustomBlobCrypterSecurityTokenDecoder.java:66) \n at com.atlassian.gadgets.renderer.internal.CustomBlobCrypterSecurityTokenDecoder.createToken(CustomBlobCrypterSecurityTokenDecoder.java:52) \n ... 97 more\nMay 18, 2009 1:32:16 PM org.apache.shindig.auth.UrlParameterAuthenticationHandler getSecurityTokenFromRequest\nINFO: Valid security token not found.\norg.apache.shindig.auth.SecurityTokenException: org.apache.shindig.common.crypto.BlobExpiredException: Blob expired, was valid from Mon May 18 12:14:07 EST 2009 to Mon May 18 13:20:07 EST 2009, attempted use at Mon May 18 13:32:16 EST 2009\n at com.atlassian.gadgets.renderer.internal.CustomBlobCrypterSecurityTokenDecoder.createToken(CustomBlobCrypterSecurityTokenDecoder.java:56) \n at org.apache.shindig.auth.UrlParameterAuthenticationHandler.getSecurityTokenFromRequest(UrlParameterAuthenticationHandler.java:54) \n at org.apache.shindig.auth.AuthenticationServletFilter.doFilter(AuthenticationServletFilter.java:63) \n at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74) \n at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42) \n at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66) \n at com.atlassian.gadgets.renderer.internal.servlet.GadgetSpecUrlRenderPermissionServletFilter.doFilter(GadgetSpecUrlRenderPermissionServletFilter.java:82) \n at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74) \n at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:41) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:41) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.confluence.util.LoggingContextFilter.doFilter(LoggingContextFilter.java:46) \n at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.seraph.filter.SecurityFilter.doFilter(SecurityFilter.java:204) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.seraph.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:120) \n at com.atlassian.confluence.util.AbstractBootstrapHotSwappingFilter.doFilter(AbstractBootstrapHotSwappingFilter.java:30) \n at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.seraph.filter.BaseLoginFilter.doFilter(BaseLoginFilter.java:138) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46) \n at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66) \n at com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:59) \n at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74) \n at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:41) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.confluence.util.ClusterHeaderFilter.doFilter(ClusterHeaderFilter.java:35) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.johnson.filters.AbstractJohnsonFilter.doFilter(AbstractJohnsonFilter.java:72) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at org.springframework.orm.hibernate.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:170) \n at com.atlassian.spring.filter.FlushingSpringSessionInViewFilter.doFilterInternal(FlushingSpringSessionInViewFilter.java:29) \n at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:75) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.util.profiling.filters.ProfilingFilter.doFilter(ProfilingFilter.java:99) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.confluence.core.datetime.RequestTimeThreadLocalFilter.doFilter(RequestTimeThreadLocalFilter.java:34) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.confluence.util.RequestCacheThreadLocalFilter.doFilter(RequestCacheThreadLocalFilter.java:25) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.gzipfilter.GzipFilter.doFilterInternal(GzipFilter.java:81)\n at com.atlassian.gzipfilter.GzipFilter.doFilter(GzipFilter.java:51)\n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.core.filters.cache.AbstractCachingFilter.doFilter(AbstractCachingFilter.java:33) \n at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46) \n at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66) \n at com.atlassian.confluence.extra.webdav.servlet.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:43) \n at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74) \n at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:41) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.core.filters.encoding.AbstractEncodingFilter.doFilter(AbstractEncodingFilter.java:41) \n at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.core.filters.HeaderSanitisingFilter.doFilter(HeaderSanitisingFilter.java:44) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213) \n at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:172) \n at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127) \n at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:117) \n at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:108) \n at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:174) \n at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:875) \n at org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:665) \n at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:528) \n at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:81) \n at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:689) \n at java.lang.Thread.run(Thread.java:613)\nCaused by: org.apache.shindig.common.crypto.BlobExpiredException: Blob expired, was valid from Mon May 18 12:14:07 EST 2009 to Mon May 18 13:20:07 EST 2009, attempted use at Mon May 18 13:32:16 EST 2009\n at org.apache.shindig.common.crypto.BasicBlobCrypter.checkTimestamp(BasicBlobCrypter.java:227) \n at org.apache.shindig.common.crypto.BasicBlobCrypter.unwrap(BasicBlobCrypter.java:189) \n at com.atlassian.gadgets.renderer.internal.BlobCrypterImpl.unwrap(BlobCrypterImpl.java:40) \n at com.atlassian.gadgets.renderer.internal.CustomBlobCrypterSecurityTokenDecoder.decrypt(CustomBlobCrypterSecurityTokenDecoder.java:66) \n at com.atlassian.gadgets.renderer.internal.CustomBlobCrypterSecurityTokenDecoder.createToken(CustomBlobCrypterSecurityTokenDecoder.java:52) \n ... 97 more\nMay 18, 2009 1:32:16 PM org.apache.shindig.gadgets.oauth.OAuthModule$OAuthCrypterProvider <init>\nINFO: Using random key for OAuth client-side state encryption\nMay 18, 2009 1:32:17 PM org.apache.shindig.auth.UrlParameterAuthenticationHandler getSecurityTokenFromRequest\nINFO: Valid security token not found.\norg.apache.shindig.auth.SecurityTokenException: org.apache.shindig.common.crypto.BlobExpiredException: Blob expired, was valid from Mon May 18 12:14:07 EST 2009 to Mon May 18 13:20:07 EST 2009, attempted use at Mon May 18 13:32:17 EST 2009\n at com.atlassian.gadgets.renderer.internal.CustomBlobCrypterSecurityTokenDecoder.createToken(CustomBlobCrypterSecurityTokenDecoder.java:56) \n at org.apache.shindig.auth.UrlParameterAuthenticationHandler.getSecurityTokenFromRequest(UrlParameterAuthenticationHandler.java:54) \n at org.apache.shindig.auth.AuthenticationServletFilter.doFilter(AuthenticationServletFilter.java:63) \n at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74) \n at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:41) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:41) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.confluence.util.LoggingContextFilter.doFilter(LoggingContextFilter.java:46) \n at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.seraph.filter.SecurityFilter.doFilter(SecurityFilter.java:204) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.seraph.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:120) \n at com.atlassian.confluence.util.AbstractBootstrapHotSwappingFilter.doFilter(AbstractBootstrapHotSwappingFilter.java:30) \n at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.seraph.filter.BaseLoginFilter.doFilter(BaseLoginFilter.java:138) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46) \n at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66) \n at com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:59) \n at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74) \n at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:41) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.confluence.util.ClusterHeaderFilter.doFilter(ClusterHeaderFilter.java:35) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.johnson.filters.AbstractJohnsonFilter.doFilter(AbstractJohnsonFilter.java:72) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at org.springframework.orm.hibernate.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:170) \n at com.atlassian.spring.filter.FlushingSpringSessionInViewFilter.doFilterInternal(FlushingSpringSessionInViewFilter.java:29) \n at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:75) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.util.profiling.filters.ProfilingFilter.doFilter(ProfilingFilter.java:99) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.confluence.core.datetime.RequestTimeThreadLocalFilter.doFilter(RequestTimeThreadLocalFilter.java:34) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.confluence.util.RequestCacheThreadLocalFilter.doFilter(RequestCacheThreadLocalFilter.java:25) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.gzipfilter.GzipFilter.doFilterInternal(GzipFilter.java:81)\n at com.atlassian.gzipfilter.GzipFilter.doFilter(GzipFilter.java:51)\n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.core.filters.cache.AbstractCachingFilter.doFilter(AbstractCachingFilter.java:33) \n at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46) \n at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66) \n at com.atlassian.confluence.extra.webdav.servlet.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:43) \n at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74) \n at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:41) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.core.filters.encoding.AbstractEncodingFilter.doFilter(AbstractEncodingFilter.java:41) \n at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.core.filters.HeaderSanitisingFilter.doFilter(HeaderSanitisingFilter.java:44) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213) \n at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:172) \n at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127) \n at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:117) \n at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:108) \n at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:174) \n at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:875) \n at org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:665) \n at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:528) \n at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:81) \n at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:689) \n at java.lang.Thread.run(Thread.java:613)\nCaused by: org.apache.shindig.common.crypto.BlobExpiredException: Blob expired, was valid from Mon May 18 12:14:07 EST 2009 to Mon May 18 13:20:07 EST 2009, attempted use at Mon May 18 13:32:17 EST 2009\n at org.apache.shindig.common.crypto.BasicBlobCrypter.checkTimestamp(BasicBlobCrypter.java:227) \n at org.apache.shindig.common.crypto.BasicBlobCrypter.unwrap(BasicBlobCrypter.java:189) \n at com.atlassian.gadgets.renderer.internal.BlobCrypterImpl.unwrap(BlobCrypterImpl.java:40) \n at com.atlassian.gadgets.renderer.internal.CustomBlobCrypterSecurityTokenDecoder.decrypt(CustomBlobCrypterSecurityTokenDecoder.java:66) \n at com.atlassian.gadgets.renderer.internal.CustomBlobCrypterSecurityTokenDecoder.createToken(CustomBlobCrypterSecurityTokenDecoder.java:52) \n ... 93 more\nMay 18, 2009 1:32:17 PM org.apache.shindig.auth.UrlParameterAuthenticationHandler getSecurityTokenFromRequest\nINFO: Valid security token not found.\norg.apache.shindig.auth.SecurityTokenException: org.apache.shindig.common.crypto.BlobExpiredException: Blob expired, was valid from Mon May 18 12:14:07 EST 2009 to Mon May 18 13:20:07 EST 2009, attempted use at Mon May 18 13:32:17 EST 2009\n at com.atlassian.gadgets.renderer.internal.CustomBlobCrypterSecurityTokenDecoder.createToken(CustomBlobCrypterSecurityTokenDecoder.java:56) \n at org.apache.shindig.auth.UrlParameterAuthenticationHandler.getSecurityTokenFromRequest(UrlParameterAuthenticationHandler.java:54) \n at org.apache.shindig.auth.AuthenticationServletFilter.doFilter(AuthenticationServletFilter.java:63) \n at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74) \n at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:41) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:41) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.confluence.util.LoggingContextFilter.doFilter(LoggingContextFilter.java:46) \n at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.seraph.filter.SecurityFilter.doFilter(SecurityFilter.java:204) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.seraph.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:120) \n at com.atlassian.confluence.util.AbstractBootstrapHotSwappingFilter.doFilter(AbstractBootstrapHotSwappingFilter.java:30) \n at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.seraph.filter.BaseLoginFilter.doFilter(BaseLoginFilter.java:138) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46) \n at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66) \n at com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:59) \n at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74) \n at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:41) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.confluence.util.ClusterHeaderFilter.doFilter(ClusterHeaderFilter.java:35) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.johnson.filters.AbstractJohnsonFilter.doFilter(AbstractJohnsonFilter.java:72) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at org.springframework.orm.hibernate.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:170) \n at com.atlassian.spring.filter.FlushingSpringSessionInViewFilter.doFilterInternal(FlushingSpringSessionInViewFilter.java:29) \n at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:75) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.util.profiling.filters.ProfilingFilter.doFilter(ProfilingFilter.java:99) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.confluence.core.datetime.RequestTimeThreadLocalFilter.doFilter(RequestTimeThreadLocalFilter.java:34) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.confluence.util.RequestCacheThreadLocalFilter.doFilter(RequestCacheThreadLocalFilter.java:25) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.gzipfilter.GzipFilter.doFilterInternal(GzipFilter.java:81)\n at com.atlassian.gzipfilter.GzipFilter.doFilter(GzipFilter.java:51)\n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.core.filters.cache.AbstractCachingFilter.doFilter(AbstractCachingFilter.java:33) \n at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46) \n at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66) \n at com.atlassian.confluence.extra.webdav.servlet.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:43) \n at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74) \n at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:41) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.core.filters.encoding.AbstractEncodingFilter.doFilter(AbstractEncodingFilter.java:41) \n at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.core.filters.HeaderSanitisingFilter.doFilter(HeaderSanitisingFilter.java:44) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213) \n at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:172) \n at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127) \n at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:117) \n at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:108) \n at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:174) \n at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:875) \n at org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:665) \n at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:528) \n at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:81) \n at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:689) \n at java.lang.Thread.run(Thread.java:613)\nCaused by: org.apache.shindig.common.crypto.BlobExpiredException: Blob expired, was valid from Mon May 18 12:14:07 EST 2009 to Mon May 18 13:20:07 EST 2009, attempted use at Mon May 18 13:32:17 EST 2009\n at org.apache.shindig.common.crypto.BasicBlobCrypter.checkTimestamp(BasicBlobCrypter.java:227) \n at org.apache.shindig.common.crypto.BasicBlobCrypter.unwrap(BasicBlobCrypter.java:189) \n at com.atlassian.gadgets.renderer.internal.BlobCrypterImpl.unwrap(BlobCrypterImpl.java:40) \n at com.atlassian.gadgets.renderer.internal.CustomBlobCrypterSecurityTokenDecoder.decrypt(CustomBlobCrypterSecurityTokenDecoder.java:66) \n at com.atlassian.gadgets.renderer.internal.CustomBlobCrypterSecurityTokenDecoder.createToken(CustomBlobCrypterSecurityTokenDecoder.java:52) \n ... 93 more\n2009-05-18 13:32:17,967 ERROR [http-8080-Processor20] [[Catalina].[localhost].[/confluence].[servlet-module-container-servlet]] invoke Servlet.service() for servlet servlet-module-container-servlet threw exception\njava.lang.IllegalStateException: Target host must not be null, or set in parameters.\n at org.apache.http.impl.client.DefaultRequestDirector.determineRoute(DefaultRequestDirector.java:570) \n at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:291) \n at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:555) \n at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487) \n at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:465) \n at com.atlassian.gadgets.renderer.internal.http.HttpClientFetcher.fetch(HttpClientFetcher.java:89) \n at org.apache.shindig.gadgets.BasicGadgetSpecFactory.fetchObjectAndCache(BasicGadgetSpecFactory.java:106) \n at org.apache.shindig.gadgets.BasicGadgetSpecFactory.getGadgetSpec(BasicGadgetSpecFactory.java:76) \n at org.apache.shindig.gadgets.oauth.GadgetOAuthTokenStore.findSpec(GadgetOAuthTokenStore.java:207) \n at org.apache.shindig.gadgets.oauth.GadgetOAuthTokenStore.lookupSpecInfo(GadgetOAuthTokenStore.java:114) \n at org.apache.shindig.gadgets.oauth.GadgetOAuthTokenStore.getOAuthAccessor(GadgetOAuthTokenStore.java:87) \n at org.apache.shindig.gadgets.oauth.OAuthFetcher.lookupOAuthMetadata(OAuthFetcher.java:144) \n at org.apache.shindig.gadgets.oauth.OAuthFetcher.fetch(OAuthFetcher.java:157) \n at org.apache.shindig.gadgets.http.ContentFetcherFactory.fetch(ContentFetcherFactory.java:54) \n at com.atlassian.gadgets.renderer.internal.http.TrustedAppContentFetcherFactory.fetch(TrustedAppContentFetcherFactory.java:43) \n at org.apache.shindig.gadgets.servlet.MakeRequestHandler.fetch(MakeRequestHandler.java:84) \n at org.apache.shindig.gadgets.servlet.MakeRequestServlet.doGet(MakeRequestServlet.java:55) \n at org.apache.shindig.gadgets.servlet.MakeRequestServlet.doPost(MakeRequestServlet.java:65) \n at javax.servlet.http.HttpServlet.service(HttpServlet.java:647)\n at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n at com.atlassian.plugin.servlet.DelegatingPluginServlet.service(DelegatingPluginServlet.java:42) \n at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n at com.atlassian.plugin.servlet.ServletModuleContainerServlet.service(ServletModuleContainerServlet.java:52) \n at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46) \n at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66) \n at org.apache.shindig.auth.AuthenticationServletFilter.doFilter(AuthenticationServletFilter.java:66) \n at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74) \n at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:41) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:41) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.confluence.util.LoggingContextFilter.doFilter(LoggingContextFilter.java:46) \n at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.seraph.filter.SecurityFilter.doFilter(SecurityFilter.java:204) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.seraph.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:120) \n at com.atlassian.confluence.util.AbstractBootstrapHotSwappingFilter.doFilter(AbstractBootstrapHotSwappingFilter.java:30) \n at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.seraph.filter.BaseLoginFilter.doFilter(BaseLoginFilter.java:138) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46) \n at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66) \n at com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:59) \n at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74) \n at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:41) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.confluence.util.ClusterHeaderFilter.doFilter(ClusterHeaderFilter.java:35) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.johnson.filters.AbstractJohnsonFilter.doFilter(AbstractJohnsonFilter.java:72) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at org.springframework.orm.hibernate.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:170) \n at com.atlassian.spring.filter.FlushingSpringSessionInViewFilter.doFilterInternal(FlushingSpringSessionInViewFilter.java:29) \n at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:75) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.util.profiling.filters.ProfilingFilter.doFilter(ProfilingFilter.java:99) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.confluence.core.datetime.RequestTimeThreadLocalFilter.doFilter(RequestTimeThreadLocalFilter.java:34) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.confluence.util.RequestCacheThreadLocalFilter.doFilter(RequestCacheThreadLocalFilter.java:25) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.gzipfilter.GzipFilter.doFilterInternal(GzipFilter.java:81)\n at com.atlassian.gzipfilter.GzipFilter.doFilter(GzipFilter.java:51)\n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.core.filters.cache.AbstractCachingFilter.doFilter(AbstractCachingFilter.java:33) \n at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46) \n at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66) \n at com.atlassian.confluence.extra.webdav.servlet.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:43) \n at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74) \n at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:41) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.core.filters.encoding.AbstractEncodingFilter.doFilter(AbstractEncodingFilter.java:41) \n at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.core.filters.HeaderSanitisingFilter.doFilter(HeaderSanitisingFilter.java:44) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213) \n at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:172) \n at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127) \n at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:117) \n at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:108) \n at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:174) \n at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:875) \n at org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:665) \n at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:528) \n at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:81) \n at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:689) \n at java.lang.Thread.run(Thread.java:613)\n2009-05-18 13:32:17,967 ERROR [http-8080-Processor21] [[Catalina].[localhost].[/confluence].[servlet-module-container-servlet]] invoke Servlet.service() for servlet servlet-module-container-servlet threw exception\njava.lang.IllegalStateException: Target host must not be null, or set in parameters.\n at org.apache.http.impl.client.DefaultRequestDirector.determineRoute(DefaultRequestDirector.java:570) \n at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:291) \n at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:555) \n at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487) \n at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:465) \n at com.atlassian.gadgets.renderer.internal.http.HttpClientFetcher.fetch(HttpClientFetcher.java:89) \n at org.apache.shindig.gadgets.BasicGadgetSpecFactory.fetchObjectAndCache(BasicGadgetSpecFactory.java:106) \n at org.apache.shindig.gadgets.BasicGadgetSpecFactory.getGadgetSpec(BasicGadgetSpecFactory.java:76) \n at org.apache.shindig.gadgets.oauth.GadgetOAuthTokenStore.findSpec(GadgetOAuthTokenStore.java:207) \n at org.apache.shindig.gadgets.oauth.GadgetOAuthTokenStore.lookupSpecInfo(GadgetOAuthTokenStore.java:114) \n at org.apache.shindig.gadgets.oauth.GadgetOAuthTokenStore.getOAuthAccessor(GadgetOAuthTokenStore.java:87) \n at org.apache.shindig.gadgets.oauth.OAuthFetcher.lookupOAuthMetadata(OAuthFetcher.java:144) \n at org.apache.shindig.gadgets.oauth.OAuthFetcher.fetch(OAuthFetcher.java:157) \n at org.apache.shindig.gadgets.http.ContentFetcherFactory.fetch(ContentFetcherFactory.java:54) \n at com.atlassian.gadgets.renderer.internal.http.TrustedAppContentFetcherFactory.fetch(TrustedAppContentFetcherFactory.java:43) \n at org.apache.shindig.gadgets.servlet.MakeRequestHandler.fetch(MakeRequestHandler.java:84) \n at org.apache.shindig.gadgets.servlet.MakeRequestServlet.doGet(MakeRequestServlet.java:55) \n at org.apache.shindig.gadgets.servlet.MakeRequestServlet.doPost(MakeRequestServlet.java:65) \n at javax.servlet.http.HttpServlet.service(HttpServlet.java:647)\n at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n at com.atlassian.plugin.servlet.DelegatingPluginServlet.service(DelegatingPluginServlet.java:42) \n at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n at com.atlassian.plugin.servlet.ServletModuleContainerServlet.service(ServletModuleContainerServlet.java:52) \n at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46) \n at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66) \n at org.apache.shindig.auth.AuthenticationServletFilter.doFilter(AuthenticationServletFilter.java:66) \n at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74) \n at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:41) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:41) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.confluence.util.LoggingContextFilter.doFilter(LoggingContextFilter.java:46) \n at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.seraph.filter.SecurityFilter.doFilter(SecurityFilter.java:204) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.seraph.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:120) \n at com.atlassian.confluence.util.AbstractBootstrapHotSwappingFilter.doFilter(AbstractBootstrapHotSwappingFilter.java:30) \n at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.seraph.filter.BaseLoginFilter.doFilter(BaseLoginFilter.java:138) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46) \n at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66) \n at com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:59) \n at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74) \n at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:41) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.confluence.util.ClusterHeaderFilter.doFilter(ClusterHeaderFilter.java:35) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.johnson.filters.AbstractJohnsonFilter.doFilter(AbstractJohnsonFilter.java:72) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at org.springframework.orm.hibernate.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:170) \n at com.atlassian.spring.filter.FlushingSpringSessionInViewFilter.doFilterInternal(FlushingSpringSessionInViewFilter.java:29) \n at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:75) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.util.profiling.filters.ProfilingFilter.doFilter(ProfilingFilter.java:99) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.confluence.core.datetime.RequestTimeThreadLocalFilter.doFilter(RequestTimeThreadLocalFilter.java:34) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.confluence.util.RequestCacheThreadLocalFilter.doFilter(RequestCacheThreadLocalFilter.java:25) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.gzipfilter.GzipFilter.doFilterInternal(GzipFilter.java:81)\n at com.atlassian.gzipfilter.GzipFilter.doFilter(GzipFilter.java:51)\n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.core.filters.cache.AbstractCachingFilter.doFilter(AbstractCachingFilter.java:33) \n at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46) \n at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66) \n at com.atlassian.confluence.extra.webdav.servlet.filter.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:43) \n at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74) \n at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:55) \n at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:41) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.core.filters.encoding.AbstractEncodingFilter.doFilter(AbstractEncodingFilter.java:41) \n at com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at com.atlassian.core.filters.HeaderSanitisingFilter.doFilter(HeaderSanitisingFilter.java:44) \n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215) \n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188) \n at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213) \n at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:172) \n at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127) \n at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:117) \n at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:108) \n at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:174) \n at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:875) \n at org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:665) \n at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:528) \n at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:81) \n at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:689) \n at java.lang.Thread.run(Thread.java:613)\n2009-05-18 13:32:18,516 INFO [http-8080-Processor21] [confluence.admin.actions.SystemErrorInformationLogger] writeToLog Build Information\nbuildNumber = 1615\nupTime = 5 minutes, 19 seconds\ndevMode = false\nversion = 3.0-summit-SNAPSHOT\nhome = /Users/awei/data/confluence\nRequest Unique ID : 0x0000012151C6E7BEC0A8033DCB9F78FF35C87D92D4952F5AC3EF1552123EEEB5\nServer Information:\nApplication Server: Apache Tomcat/5.5.27\nServlet Version:: 2.4\nDatabase Dialect: net.sf.hibernate.dialect.HSQLDialect\nDatabase Driver Name: org.hsqldb.jdbcDriver\nDatabase Driver Version: 1.8\nDatabase Name: HSQL Database Engine\nDatabase  Version: 1.8.0\nDatabase Latency:0\nSystem Info\nuserName = awei\nfavouriteColour = Lemon chiffon\ntime = 13:32:18\njavaVm = Java HotSpot(TM) Client VM\noperatingSystemArchitecture = i386\ndate = Monday, 18 May 2009\noperatingSystem = Mac OS X 10.5.6\njvmVersion = 1.0\nuserTimezone = Australia/Sydney\nfileSystemEncoding = MacRoman\njvmImplementationVersion = 1.5.0_16-133\nappServer = Apache Tomcat\njavaVendor = Apple Inc.\njavaVersion = 1.5.0_16\njavaRuntime = Java(TM) 2 Runtime Environment, Standard Edition\njvmVendor = Sun Microsystems Inc.\nJVM Stats\nfreeMemoryInMegabytes = 90\ntotalMemoryInMegabytes = 244\nfreeMemory = 95049432\nusedMemory = 160819496\ntotalMemory = 255868928\nusedMemoryInMegabytes = 153\nCluster Information:\nNot clustered.\nEnabled Plugins:\nAdd Content Menu Sections (confluence.menu.add, Version: 1.0)\nAdmin Sections (confluence.sections.admin, Version: 1.0)\nAdvanced Macros (confluence.macros.advanced, Version: 1.6.2)\nApache HttpClient OSGi bundle (org.apache.httpcomponents.httpclient-4.0.0.beta2, Version: 4.0.0.beta2)\nApache HttpCore OSGi bundle (org.apache.httpcomponents.httpcore-4.0, Version: 4.0)\nAtlassian Gadgets API (com.atlassian.gadgets.atlassian-gadgets-api-1.0.0.m62summitonly, Version: 1.0.0.m62summitonly)\nAtlassian Gadgets SPI (com.atlassian.gadgets.atlassian-gadgets-spi-1.0.0.m62summitonly, Version: 1.0.0.m62summitonly)\nAtlassian OAuth API (com.atlassian.oauth.atlassian-oauth-api-1.0.0.beta8, Version: 1.0.0.beta8)\nAtlassian OAuth Consumer Plugin (com.atlassian.oauth.consumer, Version: 1.0.beta8)\nAtlassian OAuth Consumer SAL SPI Implementation (com.atlassian.oauth.consumer.sal, Version: 1.0.beta8)\nAtlassian OAuth Consumer SPI (com.atlassian.oauth.atlassian-oauth-consumer-spi-1.0.0.beta8, Version: 1.0.0.beta8)\nAtlassian OAuth Service Provider Plugin (com.atlassian.oauth.serviceprovider, Version: 1.0.beta8)\nAtlassian OAuth Service Provider SAL SPI Implementation (com.atlassian.oauth.serviceprovider.sal, Version: 1.0.beta8)\nAtlassian OAuth Service Provider SPI (com.atlassian.oauth.atlassian-oauth-service-provider-spi-1.0.0.beta8, Version: 1.0.0.beta8)\nAtlassian REST - Module Types (com.atlassian.plugins.rest.atlassian-rest-module, Version: 1.0.0.rc1)\nAtlassian Template Renderer API (com.atlassian.templaterenderer.atlassian-template-renderer-api-1.0.0.beta3, Version: 1.0.0.beta3)\nAtlassian Template Renderer Velocity 1.6 Plugin (com.atlassian.templaterenderer.atlassian-template-renderer-velocity1.6-plugin, Version: 1.0.beta3)\nAtlassian UI Plugin (com.atlassian.auiplugin, Version: 1.0.0)\nAtlassian Who Am I Plugin (com.atlassian.whoami, Version: 1.0.beta4)\nAttachment Actions (confluence.sections.attachments, Version: 1.0)\nAttachment Extractors (com.atlassian.confluence.plugins.attachmentExtractors, Version: 1.0-SNAPSHOT)\nBND Library (biz.aQute.bndlib-0.0.255, Version: 0.0.255)\nBasic Macros (confluence.macros.basic, Version: 1.4)\nBrowse Menu Items (confluence.sections.browse, Version: 1.0)\nChart Plugin (confluence.extra.chart, Version: 1.12)\nClickr Theme (com.atlassian.confluence.themes.clickr, Version: 2.4)\nCode Macro (confluence.macros.code, Version: 1.5)\nComment Action Sections (confluence.comment.action, Version: 1.0)\nConfluence Atlassian Plugin Repository (confluence.repository.client, Version: 2.1.2)\nConfluence Attachments Plugin (confluence.extra.attachments, Version: 2.14)\nConfluence Blogging RPC Plugin (com.atlassian.confluence.plugins.xmlrpc.bloggingrpc, Version: 1.2.4)\nConfluence Contributors Plugin (com.atlassian.confluence.contributors, Version: 1.2.2)\nConfluence HTML Macros (confluence.macros.html, Version: 1.7)\nConfluence PDF Export (com.atlassian.confluence.extra.flyingpdf, Version: 1.0-SNAPSHOT)\nConfluence Remote API (confluence.extra.confluencerpc, Version: 3.0-summit-SNAPSHOT)\nConfluence Thread Dump Plugin (com.atlassian.confluence.plugin.threaddump, Version: 1.2)\nConfluence Usage Stats (com.atlassian.confluence.ext.usage, Version: 0.10)\nContent Action Menu Sections (confluence.content.action.menu, Version: 1.0)\nContent Buttons (confluence.sections.page.temp, Version: 1.0)\nContent Metadata (confluence.sections.content.metadata, Version: 1.0)\nCore Extractors (confluence.extractors.core, Version: 1.4)\nCore Listeners (confluence.listeners.core, Version: 1.3)\nCore Path Converters (confluence.converters.core, Version: 1.0)\nCore Startup and Shutdown (confluence.lifecycle.core, Version: 1)\nDashboard Macros (confluence.macros.dashboard, Version: 1.11)\nDefault Theme (com.atlassian.confluence.themes.default, Version: 1.0)\nDid You Mean Index Building Interface (confluence.sections.admin.indexing, Version: 1.0)\nDynamic Task List 2 Plugin (confluence.extra.dynamictasklist2, Version: 3.2.1)\nEdit Settings Sections (confluence.sections.settings.edit, Version: 1.0)\nEditor Actions (confluence.editor.actions, Version: 1.0)\nEmbedded Gadgets Plugin (com.atlassian.gadgets.embedded, Version: 1.0-m6.2summitonly)\nFollow list resources (confluence.sections.user.follow.list, Version: 1.0)\nFrench language pack (confluence.languages.fr_FR, Version: 1.13)\nGadget Directory Plugin (com.atlassian.gadgets.directory, Version: 1.0-m6.2summitonly)\nGadget Reference Implementation Plugin (com.atlassian.gadgets.refimpl, Version: 1.0-m6.2summitonly)\nGadget Renderer Plugin (com.atlassian.gadgets.renderer, Version: 1.0-m6.2summitonly)\nGadget Spec Publisher Plugin (com.atlassian.gadgets.publisher, Version: 1.0-m6.2summitonly)\nGadgets Macro (com.atlassian.confluence.plugins.gadgets, Version: 1.0-SNAPSHOT)\nGerman language pack (confluence.languages.de_DE, Version: 1.7)\nGlobal Dashboard Actions (confluence.sections.dashboard.global, Version: 1.0)\nGlobal Labels Sections (confluence.sections.labels, Version: 1.0)\nGoogle Collections Library (com.springsource.com.google.common.collect-0.8.0.20080820, Version: 0.8.0.20080820)\nIM Presence NG Plugin (confluence.extra.impresence2, Version: 2.4)\nInformation Macros (confluence.extra.information, Version: 1.1)\nJIRA Macros (confluence.extra.jira, Version: 2.8.8)\nJSON Library (com.atlassian.gadgets.json-1.0.0.m62summitonly, Version: 1.0.0.m62summitonly)\nJSR 305 Annotations (com.atlassian.refapp.jsr305-2.2.4, Version: 2.2.4)\nJava Concurrency in Practice Annotations (com.springsource.net.jcip.annotations-1.0.0, Version: 1.0.0)\nLayout Macros (confluence.extra.layout, Version: 1.3)\nLeft Navigation Theme (com.atlassian.confluence.themes.leftnavigation, Version: 2.5)\nLive Search Macros (confluence.extra.livesearch, Version: 2.10)\nLucene Boosting Strategies (confluence.search.lucene.boosting, Version: 1.0)\nNews Tabs (confluence.sections.news, Version: 1.0)\nOffice Connector plugin (com.atlassian.confluence.extra.officeconnector, Version: 1.5-SNAPSHOT)\nPage Operations (confluence.sections.page.operations, Version: 1.0)\nPage Tabs (confluence.search.mappers.lucene, Version: 1.0)\nPage Tabs (confluence.sections.page, Version: 1.0)\nPage Tree (com.atlassian.confluence.plugins.pagetree, Version: 1.11)\nPage View Links (confluence.sections.page.actions, Version: 1.0)\nProfile Macros (confluence.macros.profile, Version: 1.0)\nProfile Tabs (confluence.sections.profile, Version: 1.0)\nSample Gadgets Plugin (com.atlassian.gadgets.samples, Version: 1.0.0.m5)\nSearch Web Interface (confluence.sections.search.view, Version: 1.0)\nSearch Web Interface (confluence.sections.admin.generalconfig, Version: 1.0)\nShared Application Access Layer API (com.atlassian.sal.sal-api-2.0.5, Version: 2.0.5)\nShared Application Access Layer Confluence Plugin (com.atlassian.sal.confluence, Version: 2.0.5)\nSocial Bookmarking Plugin (com.atlassian.confluence.plugins.socialbookmarking, Version: 1.2.4)\nSpace Actions Sections (confluence.sections.space.actions, Version: 1.0)\nSpace Admin Sections (confluence.sections.space.admin, Version: 1.0)\nSpace Advanced Sections (confluence.sections.space.advanced, Version: 1.0)\nSpace Browse Sections (confluence.sections.space.browse, Version: 1.0)\nSpace Export Web Interface (confluence.sections.space.export.view, Version: 1.0)\nSpace Item Tabs (confluence.sections.space, Version: 1.0)\nSpace Labels Sections (confluence.sections.space.labels, Version: 1.0)\nSpace Pages Sections (confluence.sections.space.pages, Version: 1.0)\nSystem Web Resources (confluence.web.resources, Version: 1.0)\nTable of Contents Plugin (org.randombits.confluence.toc, Version: 2.4.10.1)\nTabular Metadata (confluence.extra.masterdetail, Version: 2.7)\nTinyMCE Editor Plugin (com.atlassian.confluence.tinymceplugin, Version: 3.0-summit-SNAPSHOT)\nUWC Importer Admin Panel (com.atlassian.confluence.plugins.uwc.uwcimporter-adminpanel, Version: 1.1)\nUser Administration (confluence.admin.user, Version: 1.0)\nUser Hover Menu Sections (confluence.user.hover.menu, Version: 1.0)\nUser Lister (confluence.extra.userlister, Version: 2.4.2)\nUser Menu Sections (confluence.user.menu.concise, Version: 1.0)\nUser Menu Sections (confluence.user.menu, Version: 1.0)\nUser Status (confluence.userstatus, Version: 1.0)\nView Profile Web Interface (confluence.sections.profile.view, Version: 1.0)\nView follow resources (confluence.sections.user.view.follow, Version: 1.0)\nWebDAV Plugin (confluence.extra.webdav, Version: 2.0-beta2)\nWidget Connector (com.atlassian.confluence.extra.widgetconnector, Version: 1.2.3)\nWiki Renderer Components (confluence.renderer.components, Version: 1.0)\nRequest Information:\nURL: http://localhost:8080/confluence/500page.jsp\nScheme: http\nServer: localhost\nPort: 8080\nURI: /confluence/500page.jsp\nContext Path: /confluence\nServlet Path: /500page.jsp\nPath Info: null\nQuery String: null\nAttributes:\njavax.servlet.forward.request_uri: /confluence/plugins/servlet/gadgets/makeRequest\njavax.servlet.forward.context_path: /confluence\njavax.servlet.forward.servlet_path: /plugins/servlet\njavax.servlet.forward.path_info: /500page.jsp\njavax.servlet.error.exception: java.lang.IllegalStateException: Target host must not be null, or set in parameters.\njavax.servlet.error.message:\nos_securityfilter_already_filtered: true\njavax.servlet.error.request_uri: /confluence/plugins/servlet/gadgets/makeRequest\ncom.atlassian.gzipfilter.GzipFilter_already_filtered: true\njavax.servlet.error.status_code: 500\norg.apache.shindig.auth.AuthInfo$Attribute.AUTH_TYPE: Unauthenticated\njavax.servlet.error.servlet_name: servlet-module-container-servlet\ncom.atlassian.confluence.web.ConfluenceJohnsonFilter_already_filtered: true\nConfluence-Request-Time: 1242617537286\nloginfilter.already.filtered: true\natlassian.core.seraph.original.url: /plugins/servlet/gadgets/makeRequest\ncom.atlassian.core.filters.HeaderSanitisingFilter_already_filtered: true\norg.apache.shindig.auth.AuthInfo$Attribute.SECURITY_TOKEN: org.apache.shindig.auth.AnonymousSecurityToken@acd14\nsessioninview.FILTERED: true\nParameters:\nheaders :\noauthState :\npostData :\nnumEntries : 3\ngadget : http://localhost:8080/confluence/rest/gadgets/latest/g/com.atlassian.confluence.plugins.gadgets/gadgets/favourites.xml \ncontentType : JSON\nauthz : oauth\ncontainer : atlassian\nhttpMethod : GET\nsignOwner : true\nurl : http://localhost:8080/confluence/rest/api/latest/favourite/content.json?startIndex=0&amp;maxResults=10&amp;nocache=1242617537280 \nsignViewer : true\ngetSummaries : false\nst : atlassian:giwdGQFL3/5zvNBORjDWFzEoc+DctJtA0fohuowBLM+saP3Eezwz54eivfEim63ZXrhEt5BCJiiC3+wnlCbIgZk04Ad1pJittNyDmCkAd3nAAGMql6I80o\nUt2F+uIlsYRr3+g1Vj7Vp8rgjbgh3AIuIbqGZ1Z90GiHW3ebVS4eH4YouE7qOc55AI6t/foIY52BbTu0u+jlBXd4CJBnLU+e8b+jZrKMvGV7pOQUflCHUWcjWHqSXuGVNmrnB\nRewlgTwkZgKljptMuvdsN1xJHL7ysdxuW6tTgMZLU+l5T8qKl4TOLAbesNUsNDwylVaOPEYFvUA== \n\n2009-05-18 13:32:18,516 INFO [http-8080-Processor20] [confluence.admin.actions.SystemErrorInformationLogger] writeToLog Build Information\nbuildNumber = 1615\nupTime = 5 minutes, 19 seconds\ndevMode = false\nversion = 3.0-summit-SNAPSHOT\nhome = /Users/awei/data/confluence\nRequest Unique ID : 0x0000012151C6E7BEC0A8033DE75966969D8F69249366810BCA1A9CBA123EEEB6\nServer Information:\nApplication Server: Apache Tomcat/5.5.27\nServlet Version:: 2.4\nDatabase Dialect: net.sf.hibernate.dialect.HSQLDialect\nDatabase Driver Name: org.hsqldb.jdbcDriver\nDatabase Driver Version: 1.8\nDatabase Name: HSQL Database Engine\nDatabase  Version: 1.8.0\nDatabase Latency:0\nSystem Info\nuserName = awei\nfavouriteColour = Lemon chiffon\ntime = 13:32:18\njavaVm = Java HotSpot(TM) Client VM\noperatingSystemArchitecture = i386\ndate = Monday, 18 May 2009\noperatingSystem = Mac OS X 10.5.6\njvmVersion = 1.0\nuserTimezone = Australia/Sydney\nfileSystemEncoding = MacRoman\njvmImplementationVersion = 1.5.0_16-133\nappServer = Apache Tomcat\njavaVendor = Apple Inc.\njavaVersion = 1.5.0_16\njavaRuntime = Java(TM) 2 Runtime Environment, Standard Edition\njvmVendor = Sun Microsystems Inc.\nJVM Stats\nfreeMemoryInMegabytes = 90\ntotalMemoryInMegabytes = 244\nfreeMemory = 95049432\nusedMemory = 160819496\ntotalMemory = 255868928\nusedMemoryInMegabytes = 153\nCluster Information:\nNot clustered.\nEnabled Plugins:\nAdd Content Menu Sections (confluence.menu.add, Version: 1.0)\nAdmin Sections (confluence.sections.admin, Version: 1.0)\nAdvanced Macros (confluence.macros.advanced, Version: 1.6.2)\nApache HttpClient OSGi bundle (org.apache.httpcomponents.httpclient-4.0.0.beta2, Version: 4.0.0.beta2)\nApache HttpCore OSGi bundle (org.apache.httpcomponents.httpcore-4.0, Version: 4.0)\nAtlassian Gadgets API (com.atlassian.gadgets.atlassian-gadgets-api-1.0.0.m62summitonly, Version: 1.0.0.m62summitonly)\nAtlassian Gadgets SPI (com.atlassian.gadgets.atlassian-gadgets-spi-1.0.0.m62summitonly, Version: 1.0.0.m62summitonly)\nAtlassian OAuth API (com.atlassian.oauth.atlassian-oauth-api-1.0.0.beta8, Version: 1.0.0.beta8)\nAtlassian OAuth Consumer Plugin (com.atlassian.oauth.consumer, Version: 1.0.beta8)\nAtlassian OAuth Consumer SAL SPI Implementation (com.atlassian.oauth.consumer.sal, Version: 1.0.beta8)\nAtlassian OAuth Consumer SPI (com.atlassian.oauth.atlassian-oauth-consumer-spi-1.0.0.beta8, Version: 1.0.0.beta8)\nAtlassian OAuth Service Provider Plugin (com.atlassian.oauth.serviceprovider, Version: 1.0.beta8)\nAtlassian OAuth Service Provider SAL SPI Implementation (com.atlassian.oauth.serviceprovider.sal, Version: 1.0.beta8)\nAtlassian OAuth Service Provider SPI (com.atlassian.oauth.atlassian-oauth-service-provider-spi-1.0.0.beta8, Version: 1.0.0.beta8)\nAtlassian REST - Module Types (com.atlassian.plugins.rest.atlassian-rest-module, Version: 1.0.0.rc1)\nAtlassian Template Renderer API (com.atlassian.templaterenderer.atlassian-template-renderer-api-1.0.0.beta3, Version: 1.0.0.beta3)\nAtlassian Template Renderer Velocity 1.6 Plugin (com.atlassian.templaterenderer.atlassian-template-renderer-velocity1.6-plugin, Version: 1.0.beta3)\nAtlassian UI Plugin (com.atlassian.auiplugin, Version: 1.0.0)\nAtlassian Who Am I Plugin (com.atlassian.whoami, Version: 1.0.beta4)\nAttachment Actions (confluence.sections.attachments, Version: 1.0)\nAttachment Extractors (com.atlassian.confluence.plugins.attachmentExtractors, Version: 1.0-SNAPSHOT)\nBND Library (biz.aQute.bndlib-0.0.255, Version: 0.0.255)\nBasic Macros (confluence.macros.basic, Version: 1.4)\nBrowse Menu Items (confluence.sections.browse, Version: 1.0)\nChart Plugin (confluence.extra.chart, Version: 1.12)\nClickr Theme (com.atlassian.confluence.themes.clickr, Version: 2.4)\nCode Macro (confluence.macros.code, Version: 1.5)\nComment Action Sections (confluence.comment.action, Version: 1.0)\nConfluence Atlassian Plugin Repository (confluence.repository.client, Version: 2.1.2)\nConfluence Attachments Plugin (confluence.extra.attachments, Version: 2.14)\nConfluence Blogging RPC Plugin (com.atlassian.confluence.plugins.xmlrpc.bloggingrpc, Version: 1.2.4)\nConfluence Contributors Plugin (com.atlassian.confluence.contributors, Version: 1.2.2)\nConfluence HTML Macros (confluence.macros.html, Version: 1.7)\nConfluence PDF Export (com.atlassian.confluence.extra.flyingpdf, Version: 1.0-SNAPSHOT)\nConfluence Remote API (confluence.extra.confluencerpc, Version: 3.0-summit-SNAPSHOT)\nConfluence Thread Dump Plugin (com.atlassian.confluence.plugin.threaddump, Version: 1.2)\nConfluence Usage Stats (com.atlassian.confluence.ext.usage, Version: 0.10)\nContent Action Menu Sections (confluence.content.action.menu, Version: 1.0)\nContent Buttons (confluence.sections.page.temp, Version: 1.0)\nContent Metadata (confluence.sections.content.metadata, Version: 1.0)\nCore Extractors (confluence.extractors.core, Version: 1.4)\nCore Listeners (confluence.listeners.core, Version: 1.3)\nCore Path Converters (confluence.converters.core, Version: 1.0)\nCore Startup and Shutdown (confluence.lifecycle.core, Version: 1)\nDashboard Macros (confluence.macros.dashboard, Version: 1.11)\nDefault Theme (com.atlassian.confluence.themes.default, Version: 1.0)\nDid You Mean Index Building Interface (confluence.sections.admin.indexing, Version: 1.0)\nDynamic Task List 2 Plugin (confluence.extra.dynamictasklist2, Version: 3.2.1)\nEdit Settings Sections (confluence.sections.settings.edit, Version: 1.0)\nEditor Actions (confluence.editor.actions, Version: 1.0)\nEmbedded Gadgets Plugin (com.atlassian.gadgets.embedded, Version: 1.0-m6.2summitonly)\nFollow list resources (confluence.sections.user.follow.list, Version: 1.0)\nFrench language pack (confluence.languages.fr_FR, Version: 1.13)\nGadget Directory Plugin (com.atlassian.gadgets.directory, Version: 1.0-m6.2summitonly)\nGadget Reference Implementation Plugin (com.atlassian.gadgets.refimpl, Version: 1.0-m6.2summitonly)\nGadget Renderer Plugin (com.atlassian.gadgets.renderer, Version: 1.0-m6.2summitonly)\nGadget Spec Publisher Plugin (com.atlassian.gadgets.publisher, Version: 1.0-m6.2summitonly)\nGadgets Macro (com.atlassian.confluence.plugins.gadgets, Version: 1.0-SNAPSHOT)\nGerman language pack (confluence.languages.de_DE, Version: 1.7)\nGlobal Dashboard Actions (confluence.sections.dashboard.global, Version: 1.0)\nGlobal Labels Sections (confluence.sections.labels, Version: 1.0)\nGoogle Collections Library (com.springsource.com.google.common.collect-0.8.0.20080820, Version: 0.8.0.20080820)\nIM Presence NG Plugin (confluence.extra.impresence2, Version: 2.4)\nInformation Macros (confluence.extra.information, Version: 1.1)\nJIRA Macros (confluence.extra.jira, Version: 2.8.8)\nJSON Library (com.atlassian.gadgets.json-1.0.0.m62summitonly, Version: 1.0.0.m62summitonly)\nJSR 305 Annotations (com.atlassian.refapp.jsr305-2.2.4, Version: 2.2.4)\nJava Concurrency in Practice Annotations (com.springsource.net.jcip.annotations-1.0.0, Version: 1.0.0)\nLayout Macros (confluence.extra.layout, Version: 1.3)\nLeft Navigation Theme (com.atlassian.confluence.themes.leftnavigation, Version: 2.5)\nLive Search Macros (confluence.extra.livesearch, Version: 2.10)\nLucene Boosting Strategies (confluence.search.lucene.boosting, Version: 1.0)\nNews Tabs (confluence.sections.news, Version: 1.0)\nOffice Connector plugin (com.atlassian.confluence.extra.officeconnector, Version: 1.5-SNAPSHOT)\nPage Operations (confluence.sections.page.operations, Version: 1.0)\nPage Tabs (confluence.search.mappers.lucene, Version: 1.0)\nPage Tabs (confluence.sections.page, Version: 1.0)\nPage Tree (com.atlassian.confluence.plugins.pagetree, Version: 1.11)\nPage View Links (confluence.sections.page.actions, Version: 1.0)\nProfile Macros (confluence.macros.profile, Version: 1.0)\nProfile Tabs (confluence.sections.profile, Version: 1.0)\nSample Gadgets Plugin (com.atlassian.gadgets.samples, Version: 1.0.0.m5)\nSearch Web Interface (confluence.sections.search.view, Version: 1.0)\nSearch Web Interface (confluence.sections.admin.generalconfig, Version: 1.0)\nShared Application Access Layer API (com.atlassian.sal.sal-api-2.0.5, Version: 2.0.5)\nShared Application Access Layer Confluence Plugin (com.atlassian.sal.confluence, Version: 2.0.5)\nSocial Bookmarking Plugin (com.atlassian.confluence.plugins.socialbookmarking, Version: 1.2.4)\nSpace Actions Sections (confluence.sections.space.actions, Version: 1.0)\nSpace Admin Sections (confluence.sections.space.admin, Version: 1.0)\nSpace Advanced Sections (confluence.sections.space.advanced, Version: 1.0)\nSpace Browse Sections (confluence.sections.space.browse, Version: 1.0)\nSpace Export Web Interface (confluence.sections.space.export.view, Version: 1.0)\nSpace Item Tabs (confluence.sections.space, Version: 1.0)\nSpace Labels Sections (confluence.sections.space.labels, Version: 1.0)\nSpace Pages Sections (confluence.sections.space.pages, Version: 1.0)\nSystem Web Resources (confluence.web.resources, Version: 1.0)\nTable of Contents Plugin (org.randombits.confluence.toc, Version: 2.4.10.1)\nTabular Metadata (confluence.extra.masterdetail, Version: 2.7)\nTinyMCE Editor Plugin (com.atlassian.confluence.tinymceplugin, Version: 3.0-summit-SNAPSHOT)\nUWC Importer Admin Panel (com.atlassian.confluence.plugins.uwc.uwcimporter-adminpanel, Version: 1.1)\nUser Administration (confluence.admin.user, Version: 1.0)\nUser Hover Menu Sections (confluence.user.hover.menu, Version: 1.0)\nUser Lister (confluence.extra.userlister, Version: 2.4.2)\nUser Menu Sections (confluence.user.menu.concise, Version: 1.0)\nUser Menu Sections (confluence.user.menu, Version: 1.0)\nUser Status (confluence.userstatus, Version: 1.0)\nView Profile Web Interface (confluence.sections.profile.view, Version: 1.0)\nView follow resources (confluence.sections.user.view.follow, Version: 1.0)\nWebDAV Plugin (confluence.extra.webdav, Version: 2.0-beta2)\nWidget Connector (com.atlassian.confluence.extra.widgetconnector, Version: 1.2.3)\nWiki Renderer Components (confluence.renderer.components, Version: 1.0)\nRequest Information:\nURL: http://localhost:8080/confluence/500page.jsp\nScheme: http\nServer: localhost\nPort: 8080\nURI: /confluence/500page.jsp\nContext Path: /confluence\nServlet Path: /500page.jsp\nPath Info: null\nQuery String: null\nAttributes:\njavax.servlet.forward.request_uri: /confluence/plugins/servlet/gadgets/makeRequest\njavax.servlet.forward.context_path: /confluence\njavax.servlet.forward.servlet_path: /plugins/servlet\njavax.servlet.forward.path_info: /500page.jsp\njavax.servlet.error.exception: java.lang.IllegalStateException: Target host must not be null, or set in parameters.\njavax.servlet.error.message:\nos_securityfilter_already_filtered: true\njavax.servlet.error.request_uri: /confluence/plugins/servlet/gadgets/makeRequest\ncom.atlassian.gzipfilter.GzipFilter_already_filtered: true\njavax.servlet.error.status_code: 500\norg.apache.shindig.auth.AuthInfo$Attribute.AUTH_TYPE: Unauthenticated\njavax.servlet.error.servlet_name: servlet-module-container-servlet\ncom.atlassian.confluence.web.ConfluenceJohnsonFilter_already_filtered: true\nConfluence-Request-Time: 1242617537250\nloginfilter.already.filtered: true\natlassian.core.seraph.original.url: /plugins/servlet/gadgets/makeRequest\ncom.atlassian.core.filters.HeaderSanitisingFilter_already_filtered: true\norg.apache.shindig.auth.AuthInfo$Attribute.SECURITY_TOKEN: org.apache.shindig.auth.AnonymousSecurityToken@5cbc34\nsessioninview.FILTERED: true\nParameters:\nheaders :\noauthState :\npostData :\nnumEntries : 3\ngadget : http://localhost:8080/confluence/rest/gadgets/latest/g/com.atlassian.confluence.plugins.gadgets/gadgets/favourites.xml \ncontentType : JSON\nauthz : oauth\ncontainer : atlassian\nhttpMethod : GET\nsignOwner : true\nurl : http://localhost:8080/confluence/rest/api/latest/favourite/content.json?startIndex=0&amp;maxResults=10&amp;nocache=1242617537247 \nsignViewer : true\ngetSummaries : false\nst : atlassian:w/QOBXOFhdqk38eYwMe1c8AVLoX8MzrRpY+Yv4IqhUxFVZnuDjmzYcRGS8T1Br2e5I64ON8kmFudJ+OT9Fd8LzClhZRV1evONW0/o3W9n31ocSeyy6mnCMHZ\nD8uE/m6O8F87n2sSTy5QmiTz7mip5XbsOuq9OzW+oElS54/hfIQzmYAc5M71Pqh0Q8fmAROQimVikQGyC7d0TNv0qTFL7GuZQwrAjUNNDH8Ien57X031AGQmiNXQn+AUUllYuSr\nQJF0flMdZdsuwtt0O99cDggiYjPzQGgAWvVKVbPdVgsnNWMUs7sMJ8VT5Ex/kNhDnA+f5dg== \n{code}\n\nOn May 18, 2009, at 4:36 PM, Alex Wei wrote:\n\nI'm using Firefox 3.0.7. It's reproducible, following the steps below:\n* After opening a page displaying a gadget, leave it for more than an hour.\n* Click on a link that makes an ajax request, or simply refresh the page.\n* The symptom in the browser:\n  * If making an ajax request, nothing happens on the page\n  * If refreshing the page, the gadget is not rendered\n\nSince we are testing Confluence gadget macro, simply ""Edit"" the page and then ""Cancel"" and the gadget will be rendered again.\n"
61d42696f4d395ee220077ba,51335,14400,https://studio.atlassian.com/source/cru/CR-AG-399#c5682\n
61d42696f4d395ee220077bc,51439,3600,"Gadget id is a string that is created by client, which may contain characters such as space, ""#"" and ""@"" etc."
61d42696f4d395ee220077bd,50363,1800,Findbugs found a few places where we call String.toString:\n\nGadgetId.toString\nDashboardId.toString
61d42696f4d395ee220077c1,50173,14400,https://studio.atlassian.com/source/cru/CR-AG-392/#c5581
61d42696f4d395ee220077c2,51417,14400,https://studio.atlassian.com/source/cru/CR-AG-392/#c5581
61d42696f4d395ee220077c3,50322,14400,"If this is exported by the REST module, then it could reduce a dependency. Also, it might be faster or otherwise preferable."
61d42696f4d395ee220077c4,51083,14400,"On May 12, 2009, at 9:32 AM, Richard Wallace wrote:\n\n{quote}\nToday, I'm going to try to fix some of the problems Jens is seeing\nwhich seem to be related to the OAuth servlets not using transactions\nwhen saving tokens.  This is only causing a problem for Confluence\nsince other apps don't seem to use transactions for the plugin\nsettings stuff.  Once I get that taken care of I'm going to start\nwriting more and more tests so that I stop making these stupid little\nmistakes (or at least catch them a lot sooner).\n{quote}\n\nOn Tue, May 12, 2009 at 11:34 AM, Tim Moore <tmoore@atlassian.com> wrote:\n\n{quote}\nI thought James R. implied that this sort of thing should be handled in\nthe PluginSettings implementation.\n{quote}\n\nOn May 12, 2009, at 12:56 PM, Richard Wallace wrote:\n\n{quote}\nTo be honest, after looking at it more closely, that really doesn't\nmake any sense at all.  That is too low level.  For instance, in the\n""swap a request token for an access token"" scenario  you need to get\nthe original request token, make sure it's authorized, create a new\naccess token and save it, then remove the old request token.  If this\nwere handled at the PluginSettings level that would require 3\ndifferent transactions, which would be really really bad and\nintroduces race conditions.\n\nBesides, what's the point of having the TransactionTemplate in that case?\n{quote}\n\nOn Tue, May 12, 2009 at 1:06 PM, Tim Moore <tmoore@atlassian.com> wrote:\n\n{quote}\nMakes sense. So should we be using that everywhere that we're using plugin\nsettings to do multiple read/write ops?\n{quote}\n\nOn May 12, 2009, at 1:21 PM, Richard Wallace wrote:\n\n{quote}\nI believe so.  Especially since our pattern so far has been to\nabstract the low level details of storage so that they can be\nimplemented by the application.  So I think it makes sense to wrap all\nthese gets/puts with the TransactionTemplate callbacks so the\napplication has the opportunity to do the right thing.\n{quote}"
61d42696f4d395ee220077c5,51047,21600,"the problem:\nthere is a widely-used __MODULE_ID__ gadget spec substitution token.\nthe examples and current usage of the id go something like this:\nvar msg = new gadgets.MiniMessage(__MODULE_ID__);\nwith the way the token substitution is done, this assumes that the id\nis a number, because this is valid javascript:\nvar msg = new gadgets.MiniMessage(1002)\nbut this is not (needs quotes around the id since it isn't a number):\nvar msg = new gadgets.MiniMessage(e336472e-00de-43b8-b5c1-b647879e0404);\nso if a non-number string is used, it will cause a parsing error in\nthe javascript.\n\npossible solutions and why they are bad:\n* require gadget specs run in atlassian products to put quotes around\n__MODULE_ID__ when using it as a string - this would mean any external\ngadgets without these quotes won't work in our containers\n* not allow non-number gadget ids - back where we started re:\nclustering and uuid creation\n* during spec processing (in shindig would be most appropriate i\nthink, but could be in our GadgetProcessorImpl) add the quotes for\nsome uses of __MODULE_ID__ (some are already inside strings) - hard to\nfigure out which cases to add the quotes -- have to parse whole file i\nthink?\n* use strings in AG and longs in shindig and have some sort of mapping\ntable or something to make it work - we have to deal with the\ncomplexity of generating the corresponding longs and keeping the\nmapping"
61d42696f4d395ee220077c6,51404,14400,"Steps to reproduce\n\n1. Add ""oauth who am I gadget""\n2. Click the ""personalise"" link\n3. When the popup window opens, close it without clicking the approve button.\n4. If you check in firbug all subsequent requests that go through AJS.gadget.oauth.makeRequest will return a 500 error."
61d42696f4d395ee220077cb,50214,21600,"In the new version of the dashboard (1.0.0.m6), the GadgetProcessorImpl now processes gadget specs using different threads than the calling thread.  This causes problems when accessing the dashboard via a different hostname to what's stored in the database for the baseurl.\n\nJIRA's SAL implementation of getBaseUrl will return the baseUrl based on the incoming request.  This information is stored in a thread local by a servlet filter.  If no information can be found in the threadlocal, we fall back to the database value.  I think we can live with this for 4.0 beta.  However for 4.0 final accessing JIRA's dashboard via different hostnames definitely has to work (I think there's another issue that I raised already about storing local gadgets with relative URIs in the store).  \n\nWas processing the gadget specs a performance bottleneck?  If not I'd probably suggest that we remove the multi-threaded code and go back to how things were.  If we have to keep it, I can't think of a good solution to this problem.  I definitly don't think we should pass the threadlocals along to the threadpool.  Everytime this has been done in the past it's only lead to problems."
61d42696f4d395ee220077d2,51397,32400,https://extranet.atlassian.com/display/MAR/Summit+Demo+Planning
61d42696f4d395ee220077d8,51110,14400,"a lot of our tests could be cleaned up. for example, there should be less duplication of expectations and less hard-coded constants\n\ntwo particular examples:\nhttps://studio.atlassian.com/source/cru/CR-AG-376#c5359\nhttps://studio.atlassian.com/source/cru/CR-AG-386#c5514"
61d42696f4d395ee220077dd,50606,3600,"Right now the resource path (second argument) won't match paths with leading slashes. This might be confusing for people, who won't get any kind of error or message if they use a leading slash, the whole thing will just be ignored.\n\n\nSee https://studio.atlassian.com/source/cru/CR-AG-383#c5469"
61d42696f4d395ee220077e3,50284,21600,The refapp has nice new standard decorators. We should consider just using those instead of the ones that were added to the AG refimpl.
61d42696f4d395ee220077e7,50882,14400,"I think that we need to bump our plugins version up to 2.2.1. To do this, we need to upgrade to a new, forthcoming, release of RefApp, as well as upgrading SAL to 2.0.4 and ATR to 1.0.beta4.\n\nThe ATR change, in particular has some API-breakage."
61d42696f4d395ee220077ed,51327,14400,See https://studio.atlassian.com/source/cru/CR-AG-376/review#c5351
61d42696f4d395ee220077ee,50502,14400,"BlobCrypterImpl assumes that one instance will be created and create a key and put it in the plugin settings.  In a cluster this may result in many instances creating their own separate keys and putting them into the plugin settings, clobbering others and resulting in inconsistent keys being used to encrypt security tokens."
61d42696f4d395ee220077f2,51062,14400,We're currently passing in arbitrary values to this method in several places. This isn't guaranteed to work cross-product.\n\nWe need to replace all of our uses of createSettingsForKey with createGlobalSettings *and* ensure that all of the keys that we use are namespaced properly to avoid conflicts.\n\nSee also OAUTH-38\n
61d42696f4d395ee220077f7,50796,14400,"the DirectoryResource provides a variety of error messages that could be pretty useful to people using the directory, such as:\n* ""DirectoryResource: POST rejected: "" + gadgetUrl + "" is an invalid gadget spec\n* ""DirectoryResource: POST rejected: container does not support feature(s) "" ...\n\nthese should be used to make useful errors when adding a gadget to the directory fails, instead of just saying ""Sorry, we were not able to add that Gadget to the directory."""
61d42696f4d395ee220077fa,51307,7200,"When I run gadgets under JDK 1.6 spec validation fails with the following exception:\n{noformat}\n2009-04-29 12:38:58,702 main DEBUG [gadgets.publisher.internal.PluginGadgetFinder] Publishing gadget spec PluginGadgetSpec{plugin=com.atlassian.jira.gadgets, location='gadgets/login.xml'}\n2009-04-29 12:38:58,756 main DEBUG [publisher.internal.impl.GadgetSpecValidatorImpl] couldn't parse gadget spec\norg.xml.sax.SAXParseException: cvc-elt.1: Cannot find the declaration of element 'Module'.\n	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)\n	at org.apache.xerces.util.ErrorHandlerWrapper.error(Unknown Source)\n	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\n	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\n	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\n	at org.apache.xerces.impl.xs.XMLSchemaValidator.handleStartElement(Unknown Source)\n	at org.apache.xerces.impl.xs.XMLSchemaValidator.startElement(Unknown Source)\n	at org.apache.xerces.jaxp.validation.DOMValidatorHelper.beginNode(Unknown Source)\n	at org.apache.xerces.jaxp.validation.DOMValidatorHelper.validate(Unknown Source)\n	at org.apache.xerces.jaxp.validation.DOMValidatorHelper.validate(Unknown Source)\n	at org.apache.xerces.jaxp.validation.ValidatorImpl.validate(Unknown Source)\n	at javax.xml.validation.Validator.validate(Validator.java:127)\n	at com.atlassian.gadgets.publisher.internal.impl.GadgetSpecValidatorImpl.isValid(GadgetSpecValidatorImpl.java:90)\n	at com.atlassian.gadgets.publisher.internal.impl.PublishedGadgetSpecStoreImpl.validate(PublishedGadgetSpecStoreImpl.java:191)\n	at com.atlassian.gadgets.publisher.internal.impl.PublishedGadgetSpecStoreImpl.pluginGadgetSpecEnabled(PublishedGadgetSpecStoreImpl.java:152)\n	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n	at java.lang.reflect.Method.invoke(Method.java:597)\n	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:310)\n	at org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:58)\n	at org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:62)\n	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n	at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)\n	at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)\n	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n	at org.springframework.osgi.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:36)\n	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n	at org.springframework.osgi.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:59)\n	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n	at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)\n	at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)\n	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\n	at $Proxy288.pluginGadgetSpecEnabled(Unknown Source)\n	at com.atlassian.gadgets.publisher.internal.PluginGadgetFinder.installGadget(PluginGadgetFinder.java:155)\n	at com.atlassian.gadgets.publisher.internal.PluginGadgetFinder.installGadget(PluginGadgetFinder.java:147)\n	at com.atlassian.gadgets.publisher.internal.PluginGadgetFinder.pluginModuleEnabled(PluginGadgetFinder.java:110)\n	at sun.reflect.GeneratedMethodAccessor56.invoke(Unknown Source)\n	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n	at java.lang.reflect.Method.invoke(Method.java:597)\n	at com.atlassian.plugin.event.impl.DefaultPluginEventManager$Listener.notify(DefaultPluginEventManager.java:180)\n	at com.atlassian.plugin.event.impl.DefaultPluginEventManager.broadcast(DefaultPluginEventManager.java:73)\n	at com.atlassian.plugin.manager.DefaultPluginManager.notifyModuleEnabled(DefaultPluginManager.java:1099)\n	at com.atlassian.plugin.manager.DefaultPluginManager.enablePluginModules(DefaultPluginManager.java:941)\n	at com.atlassian.plugin.manager.DefaultPluginManager.addPlugins(DefaultPluginManager.java:521)\n	at com.atlassian.plugin.manager.DefaultPluginManager.init(DefaultPluginManager.java:166)\n	at com.atlassian.jira.plugin.JiraPluginManager.start(JiraPluginManager.java:51)\n	at com.atlassian.jira.ComponentManager$PluginSystem.start(ComponentManager.java:1243)\n	at com.atlassian.jira.ComponentManager.quickStart(ComponentManager.java:197)\n	at com.atlassian.jira.ComponentManager.start(ComponentManager.java:183)\n	at com.atlassian.jira.upgrade.ConsistencyLauncher.launchConsistencyChecker(ConsistencyLauncher.java:59)\n	at com.atlassian.jira.upgrade.ConsistencyLauncher.contextInitialized(ConsistencyLauncher.java:40)\n	at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:3763)\n	at org.apache.catalina.core.StandardContext.start(StandardContext.java:4211)\n	at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1013)\n	at org.apache.catalina.core.StandardHost.start(StandardHost.java:718)\n	at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1013)\n	at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:442)\n	at org.apache.catalina.core.StandardService.start(StandardService.java:450)\n	at org.apache.catalina.core.StandardServer.start(StandardServer.java:709)\n	at org.apache.catalina.startup.Catalina.start(Catalina.java:551)\n	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n	at java.lang.reflect.Method.invoke(Method.java:597)\n	at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:294)\n	at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:432)\n{noformat}\n\nThis works fine under JDK 1.5 where the Validator is using the JDK internal Xerces implementation.  For some reason the validation fails with JDK 1.6 where I think it's using the Xerces implementation provided by JIRA (v 2.9.1).\n\nDon reckons it's failing because there's no DTD in the gadget spec.  What's the point of validating that spec anyway, right after it was parsed? Are we doing much more than checking for syntax errors?\n\nCan't we just turn off validation and just make sure it parses? Won't shindig complain anyways if the XML isn't a valid gadget spec XML?\n\n(Commenting out validator.validate(new DOMSource(doc)); fixes the issue)."
61d42696f4d395ee220077fd,50972,14400,"Host applications will all want to implement this the same way, so the default implementation should live in the API. To be honest, I'm not even sure that there's much value in splitting the interface & impl in this case."
61d42696f4d395ee22007802,50189,21600,"very intermittently, sample gadgets are not available -- the sample gadget plugin didn't start for some reason. a few people (don, tim, cheryl) have seen this once but thought it was some configuration issue or something. but, it just happened on bamboo: http://bamboo.developer.atlassian.com/build/viewBuildResults.action?buildKey=AG-DEPLOY&buildNumber=229\n\nthis may be a plugins 2 problem\n"
61d42696f4d395ee22007803,50712,3600,https://studio.atlassian.com/source/cru/CR-AG-356#c5156
61d42696f4d395ee22007805,51160,21600,"Steps to Reproduce:\n1. Launch Dashboard, open a empty dashboard page.\n2. Click ""Add gadget"" and add any 1 gadget.\n3. Click ""Edit layout"" and do nothing. Click ESC to close the dialog.\n\nResult:\n1. The dashboard page is all greyed out and user can't do anything.\n2. Refreshing the page solves the problem.\n\nExpected:\n1. User should be able to use dashboard page."
61d42696f4d395ee22007806,51435,3600,"If you try to start up the publisher plugin by itself (specifically, without the directory plugin) you get the following error:\n\n{noformat}\n- Unable to create application context for [com.atlassian.gadgets.publisher], unsatisfied dependencies: Dependency on [(objectClass=com.atlassian.gadgets.plugins.PluginGadgetSpecEventListener)] (from bean [&pluginGadgetSpecEventListeners])\norg.springframework.context.ApplicationContextException: Application context initializition for 'com.atlassian.gadgets.publisher' has timed out\n	at org.springframework.osgi.extender.internal.dependencies.startup.DependencyWaiterApplicationContextExecutor.timeout(DependencyWaiterApplicationContextExecutor.java:434)\n	at org.springframework.osgi.extender.internal.dependencies.startup.DependencyWaiterApplicationContextExecutor.access$000(DependencyWaiterApplicationContextExecutor.java:51)\n	at org.springframework.osgi.extender.internal.dependencies.startup.DependencyWaiterApplicationContextExecutor$WatchDogTask.run(DependencyWaiterApplicationContextExecutor.java:114)\n	at java.util.TimerThread.mainLoop(Timer.java:512)\n	at java.util.TimerThread.run(Timer.java:462)\n- Unable to start the Spring context for plugin com.atlassian.gadgets.publisher\norg.springframework.context.ApplicationContextException: Application context initializition for 'com.atlassian.gadgets.publisher' has timed out\n	at org.springframework.osgi.extender.internal.dependencies.startup.DependencyWaiterApplicationContextExecutor.timeout(DependencyWaiterApplicationContextExecutor.java:434)\n	at org.springframework.osgi.extender.internal.dependencies.startup.DependencyWaiterApplicationContextExecutor.access$000(DependencyWaiterApplicationContextExecutor.java:51)\n	at org.springframework.osgi.extender.internal.dependencies.startup.DependencyWaiterApplicationContextExecutor$WatchDogTask.run(DependencyWaiterApplicationContextExecutor.java:114)\n	at java.util.TimerThread.mainLoop(Timer.java:512)\n	at java.util.TimerThread.run(Timer.java:462)\n{noformat}"
61d42696f4d395ee22007807,51066,14400,"Some changes during iteration 17 created a dependency from the publisher plugin on Shindig. This is a problem for AGSL\-1 implementors, who will be using the publisher plugin but not the renderer plugin.\n\nThe problem is that UserPrefSpecImpl is in the shared library, which gets embedded in the publisher plugin. This needs to be restricted to the renderer plugin only."
61d42696f4d395ee22007808,51195,14400,"some of the remaining suggestions include api changes, so they must be done in iteration 18\n\nhere's what's left:\nhttps://studio.atlassian.com/source/cru/CR-AG-346/review#c5076\nhttps://studio.atlassian.com/source/cru/CR-AG-346/review#c5078\nhttps://studio.atlassian.com/source/cru/CR-AG-346/review#c5080\n"
61d42696f4d395ee2200780c,50939,14400,Didn't get this done for iteration 17
61d42696f4d395ee2200780f,50395,21600,"create a GadgetRequestContext that includes GadgetState, Locale, and RequestCacheSetting so that we don't have to pass all those objects around so many places"
61d42696f4d395ee22007811,51453,43200,this was done with and committed under AG-145
61d42696f4d395ee2200781b,50827,14400,This probably requires adding something to the POM.
61d42696f4d395ee22007820,51283,14400,An opened dropdown should stay open while mouse hovers anywhere within the dropdown's parent gadget.
61d42696f4d395ee22007822,50858,14400,"Guys,\n\nLittle worried.  Our networks went down and the dashboard stopped  \nworking ( I was running against localhost).  In the logs were these  \nmessages:\n\n17/04/2009 10:58:17 org.apache.shindig.gadgets.JsLibrary loadDataFromUrl\nINFO: Attempting to load js from: http://www.google.com/ig/lib/liburchin.js\n\nINFO: Attempting to load js from: http://google-jstemplate.googlecode.com/svn/trunk/util.js \n 17/04/2009 11:00:17 org.apache.shindig.gadgets.JsLibrary  \nloadDataFromUrl WARNING: Unable to retrieve remote library from http://google-jstemplate.googlecode.com/svn/trunk/util.js \n 17/04/2009 11:00:17 org.apache.shindig.gadgets.JsLibrary  \nloadDataFromUrl INFO: Attempting to load js from: http://google-jstemplate.googlecode.com/svn/trunk/jsevalcontext.js \n 17/04/2009 11:00:17 org.apache.shindig.gadgets.JsLibrary  \nloadDataFromUrl WARNING: Unable to retrieve remote library from http://google-jstemplate.googlecode.com/svn/trunk/jsevalcontext.js \n 17/04/2009 11:00:17 org.apache.shindig.gadgets.JsLibrary  \nloadDataFromUrl INFO: Attempting to load js from: http://google-jstemplate.googlecode.com/svn/trunk/jstemplate.js \n 17/04/2009 11:00:17 org.apache.shindig.gadgets.JsLibrary  \nloadDataFromUrl WARNING: Unable to retrieve remote library from http://google-jstemplate.googlecode.com/svn/trunk/jstemplate.js \n	\n\n\nDoes Shindig require access to the net?  That is screwed if it does  \nand something we would need to fix (if possible).  Anyone know  \nanything about this?\n\nCheers,\nNick\n\n"
61d42696f4d395ee22007823,51358,21600,"All help links (""read more"", ""help"", ""learn about"", etc) must be able to point to specific versions of the Gadgets/Dashboards documentation, so that the documentation version can relate to the correct Dashboards release.\n\nThe Dashboards and Gadgets documentation is held on CAC. Currently there is only one documentation space, corresponding to version 1.0 of Gadgets/Dashboards:\nhttp://confluence.atlassian.com/display/GADGETS = version 1.0\n\nWe will use spaces as our version control mechanism. So when version 1.1 of the software is released, we will have the following spaces:\nhttp://confluence.atlassian.com/display/GADGETS010 = version 1.0\nhttp://confluence.atlassian.com/display/GADGETS = version 1.1\n\nAnd when 2.0 is released, we might have:\nhttp://confluence.atlassian.com/display/GADGETS010 = version 1.0\nhttp://confluence.atlassian.com/display/GADGETS011 = version 1.1\nhttp://confluence.atlassian.com/display/GADGETS012 = version 1.2\nhttp://confluence.atlassian.com/display/GADGETS = version 2.0\n\nTo ensure version-specific help links:\n* Dashboards should include an external text file, called something like ""help-paths.properties"", with name-value pairs mapping help links to documentation pages; plus some version and path info at the top of the file.\n* The relevant folder on our docs.atlassian.com server should allow the necessary re-direct via .htaccess file.\n\nFor more detail, see this blog post:\nhttp://blogs.atlassian.com/news/2007/12/using_a_wiki_fo.html\nand this one:\nhttps://extranet.atlassian.com/display/~mquail/2007/11/19/How+FishEye-Crucible+now+points+to+its+online+documentation\n\nImpact of *not* doing this:\n* In future releases of dashboards, when the user clicks a help link they will always go to the *latest* version of the documentation, no matter which version of dashboards their application is running. This can be tiresome and confusing.\n* Customers will be forced to use our CAC documentation.\n\nBenefits of doing this:\n*  In future releases of dashboards, when the user clicks a help link they will always go to the *relevant* version of the documentation.\n* Customers who are working behind a firewall will be able to re-point their help links to a local version of the documentation.\n* Customers who have translated the documentation into a different language (Japanese, German, etc) will be able to re-point their help links to a local version of the documentation."
61d42696f4d395ee22007826,51236,14400,"Right now, PublishedGadgetSpecStoreImpl handles parsing the gadget path itself. As part of migrating from GadgetSpecServlet to GadgetSpecResource, we should use path parameters for the plugin key and resource path, and convert the interface to take them individually."
61d42696f4d395ee22007828,50295,14400,See https://studio.atlassian.com/source/cru/CR-AG-317#c4877. An open question is whether such functionality should be publicly available through a REST resource.
61d42696f4d395ee2200782a,50169,14400,See https://extranet.atlassian.com/x/GYOtZg where I explained why this should be done.
61d42696f4d395ee2200782d,50433,21600,To stop performance issues we should add a limit to the number of gadgets users can add per dashboard.  This should be configurable by the host application.  \n\nThis is to prevent users from DOSing an application by creating a shared dashboard with 50 gadgets.  
61d42696f4d395ee2200782e,51138,14400,Adding [http://www.google.com/ig/directory?url=www.google.com/ig/modules/youtube_videos.xml] to your dashboard results in a 500 error:\n{noformat}\nHTTP Status 500 -\n\ntype Exception report\n\nmessage\n\ndescription The server encountered an internal error () that prevented it from fulfilling this request.\n\nexception\n\njava.lang.RuntimeException: org.apache.shindig.gadgets.UnsupportedFeatureException: Unsupported feature: [google-domain]\n	org.apache.shindig.gadgets.render.RenderingContentRewriter.rewrite(RenderingContentRewriter.java:133)\n	org.apache.shindig.gadgets.rewrite.DefaultContentRewriterRegistry.rewriteGadget(DefaultContentRewriterRegistry.java:62)\n	org.apache.shindig.gadgets.render.HtmlRenderer.render(HtmlRenderer.java:77)\n	org.apache.shindig.gadgets.render.Renderer.render(Renderer.java:91)\n	org.apache.shindig.gadgets.servlet.GadgetRenderingServlet.render(GadgetRenderingServlet.java:55)\n	org.apache.shindig.gadgets.servlet.GadgetRenderingServlet.doGet(GadgetRenderingServlet.java:91)\n	javax.servlet.http.HttpServlet.service(HttpServlet.java:690)\n	javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\n	com.atlassian.plugin.servlet.DelegatingPluginServlet.service(DelegatingPluginServlet.java:42)\n	javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\n	com.atlassian.plugin.servlet.ServletModuleContainerServlet.service(ServletModuleContainerServlet.java:52)\n	javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\n...\n{noformat}\n\nWe should simply display a generic error message in this case with the option to popup the exception in a separate window if the user choses to do so.
61d42696f4d395ee22007831,50706,14400,"It's kind of lame that all of our integration tests have to have a bunch of hardcoded dashboard IDs. The DashboardTester should manage IDs internally --- tests should just ask it for the kind of dashboard they want, and it should return the ID."
61d42696f4d395ee22007832,50514,14400,See https://studio.atlassian.com/source/cru/CR-AG-317/#c4880
61d42696f4d395ee22007833,51074,14400,See http://markmail.org/thread/7vjdmj6o4ispoiqd and http://markmail.org/thread/k4tkleiar44lodjb
61d42696f4d395ee2200783b,50184,21600,"Here's the discussion from e-mails regarding this:\nNick Menere:\n{quote}\nAlso, the more we think about it, the inability to hide gadgets on a gadget by gadget basis is really worrying for us.  5 out of the 6 gadgets on our default dashboard should be hidden to non-logged in users.  It is looking messy if we just put general content and a ""you are not logged in message"".  I know their is a spot we can intercept (that Andreas is using to include the log in gadget) but I would really love to delegate the responsibility to the individual gadgets.  The only way I can think of to do this is to have the gadget optionally require a feature that is a marker as to whether we should display it.\nE.g.\n\n   <ModulePrefs title=""__MSG_title__"" directory_title=""__MSG_title__"" description=""__MSG_description__""\n                author=""Atlassian"" author_affiliation=""Atlassian""\n                author_location=""Sydney, Australia"" title_url=""http://www.atlassian.com/"" height=""72"">\n       <Optional feature=""atlassian-logged-in""/>\n   </ModulePrefs>\n\nThis way, our container can not display it if their is no current user logged in.  External containers would always display it (which is what we want).\nI am not familiar with Dashboards enough to know if this is even possible, but thought I may bring it up with you on the chance that it is.\n{quote}\n"
61d42696f4d395ee22007841,50506,14400,"One day I'll get this right. But today, I have a class named {{GadgetSpecProviderDirectoryEntryProvider}}. That is so not right.\n\nI think the responsibilities of collecting things that can be transformed into DirectoryEntry implementations, and doing that transformation, should be split apart. I think this will also let us get rid of the hierarchy of classes rooted at {{AbstractDirectoryEntryProvider}} and just have one {{DirectoryEntryProviderImpl}} class and a set of {{DirectoryEntryTransformer}} implementations. Or something like that."
61d42696f4d395ee22007844,51468,7200,"I can drag gadgets around by the title bar, but when I try to drag the move icon (or a ~10px space to the left of it) it doesn't pick up the gadget, just selects text."
61d42696f4d395ee22007848,51408,36000,DashboardResource is missing support for PUT and DELETE. We should decide if GET is something we need to expose.
61d42696f4d395ee2200784c,50950,14400,This just started happening in the last day.
61d42696f4d395ee2200784f,51309,7200,https://studio.atlassian.com/source/cru/CR-AG-296
61d42696f4d395ee22007850,50201,43200,"Currently when you access JIRA via http://localhost:8090/jira/ vs http://threesheets:8090/jira/ and modify your dashboard, things wont work, since the current implementation will store gadgets served by JIRA with absolute URLs.  This basically then results in cross domain requests which doesn't work (so if I access http://localhost:8090/jira and get a dashboard with gadgets like http://threesheets:8090/jira/plugins/g/.../gadgetspex.xml).  We need to work out some way to fix this.  Either by passing gadgets served by JIRA to the dashboardState store with a relative URL, or by detecting that a gadget is served locally in the dashboard plugin and substituting the correct baseurl before serving the dashboard.\n\nWe don't need this for summit but it will be a problem in production if users configure their JIRA instance with multiple host names. It just means that when we setup the demo instance for summit, it needs to have a correct baseurl set, and when accessing this instance it should always be done via this baseurl (not via IP or localhost).\n\nCheers,\n  Andreas"
61d42696f4d395ee22007851,50531,21600,This should help fix the searching bugs and the panel-too-long bug.
61d42696f4d395ee22007853,50704,21600,"Now that we have GadgetSpecResource, GadgetSpecServlet can go away. Simply removing it seems to break a lot of assumptions in the tests, and it wasn't trivial to disentangle them."
61d42696f4d395ee22007854,50895,3600,https://studio.atlassian.com/source/cru/CR-AG-308#c4766
61d42696f4d395ee22007855,51272,14400,Suggested by Rich in [CR\-AG\-308|https://studio.atlassian.com/source/cru/CR-AG-308#c4780]\n\nWe'll also want to [rename MutablePublishedGadgetSpecStore to PublishedGadgetSpecStore|https://studio.atlassian.com/source/cru/CR-AG-308#c4781]
61d42696f4d395ee22007856,51201,14400,"I just tried adding the ""Test Web Resources"" gadget, and it's displaying: #requireResource(""com.atlassian.gadgets.samples:test-web-resources"") Your web resources have NOT loaded\n\nLooks like the substitution isn't happening. Not sure if it's a problem with the gadget or with the gadget processor, but in any case there should be an integration test for this."
61d42696f4d395ee22007857,51409,14400,Nothing from the sample-gadgets plugin is showing up on DTAC for some reason.
61d42696f4d395ee22007859,50662,14400,"imagine i try to move a gadget from columnA to columnB. But something happens and it fails on the backend. We now give people a nice error saying ""that didn't work"", but the gadget still appears to have moved no the screen they are staring at\n\nshould we a) force a reload, b) suggest a reload, c) do nothing, d) do something else?\n\nfor now, I'm going to go with option b) with a strongly worded message. I'll also file an issue for this for later. But this is not a make-or-break for Summit, so I don't want to spend more time on it than it deserves.\n"
61d42696f4d395ee2200785e,50248,14400,"Andreas asked for the ability to customize the color of gadgets that are added to the dashboard.\n\nI think a good solution to this might be to change GadgetIdGenerator to be a GadgetStateBuilderGenerator (or some less-wordy equivalent) that you pass a spec URI and it gives you back a partially constructed GadgetState.Builder. Simple implementations might just set id and specUri, but apps with more complex needs, such as JIRA, could set the color (based on the specUri, even) or whatever else it wants.\n\nActually, giving it another look, we don't even really set anything else in the internal dashboard implementation, so instead of returning a partial Builder, it could just return a fully-constructed GadgetState object.\n\nAndreas says this can wait until after Summit."
61d42696f4d395ee2200785f,50988,21600,"As the built in user prefs editor can not handle complex forms, we are implementing our own config framework.  The problem is that currently we can not determine whether to display the edit gadget icon/button.\nAG-110 does lessen the issue, but we still have problem with embedded configurable gadgets.  E.g. Issue Navigator chart view.\nIt also will be an issue if someone embeds a JIRA gadget in a confluence page.  How doe we determine whether to show the config options or not?  I am thinking it should delegate to the container via an optional feature which then refers to SAL.  For external containers, we just always show.\n\nAt the moment, we don't think we could ship JIRA 4.0 without this or another solution."
61d42696f4d395ee22007860,50239,14400,"Steps to Reproduce:\n1. Open the dashboard server link with locale french(fr)\n2. Click ""Add gadget"" link and add i18 gadget(http://doc.examples.googlepages.com/hello-i18n.xml) from directory. \n\nResult:\n1. The text ""hello world"" is not in the locale of dashboard.\n\nExpected:\n1. The added gadget should show the text in dashboard locale if supported."
61d42696f4d395ee22007861,50267,43200,"At the moment, each setPref call makes a separate call to the backend to persist the preference.  It would be nice if the client delayed the server call to see if there are any more calls to setPref, and if there is, batch the updates into a single request."
61d42696f4d395ee22007864,50711,7200,I've marked a few with TODO comments but the whole file should be scrubbed.
61d42696f4d395ee22007865,50260,21600,"I'm having trouble getting {{TestPrefTest}} (need to change that name) working. Specifically, the part where it submits the user prefs form.\n\nI've tried all of these, with no success:\n\n{code:java}\nclient.click(""//input[@id='"" + gadgetId + ""save']"");\nclient.submit(""//form[@id='"" + gadgetId + ""edit']"");\nclient.fireEvent(""//form[@id='"" + gadgetId + ""edit']"", ""submit"");\n{code}\n\nIn every case, I've verified that the element in question exists, but the code doesn't do anything: the browser just sits there as if nothing happened.\n\nI have a suspicion that this is caused by us using jQuery 1.3's new [""live"" events|http://docs.jquery.com/Events/live#typefn], which means that the event handlers aren't bound to the elements themselves but to some ancestor. I'd bet that Selenium's simulated events don't propagate the same way that real browser events do, so the handlers never get called.\n\nIs there a solution to this other than exposing the JavaScript function that gets triggered and invoking it directly from a script snippet in the test? I'd rather avoid that if possible."
61d42696f4d395ee2200786a,51041,14400,"Right now the ui-tests project sits inside Atlassian Gadgets, but is not part of the POM hierarchy, so it gets versioned independently and isn't built or released as part of the parent project build. This isn't good: we'll want to be sure that released versions of the tests match released versions of the product, for build reproducibility.\n\nTo make this work with our existing build system, there will need to be a property or profile to enable running the Selenium tests (turned off by default). Compiling them by default is OK I think."
61d42696f4d395ee2200786c,51107,7200,"Most of the existing Selenium tests are failing, largely due to the new directory. This is the issue for tracking the work Tim & Hamish did fixing the tests."
61d42696f4d395ee22007873,51142,14400,"In my gadget XML if I set a height of ""20"", then after requiring the dynamic height feature I try and making the call ""gadgets.window.adjustHeight();"" the height is not affected. I would expect that the height would be updated."
61d42696f4d395ee22007875,50345,14400,"Dashboard dropDowns are clashing in JIRA. Should be more like:\nAJS.dropDown.Standard({\n        trigger: "".gadget .aui-dd-link"",\n        dropDown: "".gadget .aui-dropdown"",\n        selectionHandler: function ()\n        {\n            this.hide();\n        },\n        align: ""right""\n    });\n\nAlso, styles!"
61d42696f4d395ee2200787f,50607,14400,"http://cwiki.apache.org/SHINDIGxSITE/how-to-support-features-that-depend-on-gadgetsrpc.html\n\nI *think* we're doing this correctly, but I want to make sure.\n\nMore info:\n\n* http://markmail.org/message/qx6dn5appyqppksl\n* http://markmail.org/message/zotquxl6mskqpp2k"
61d42696f4d395ee22007882,50726,3600,"Did a minor UI review with Mike today, and this came up:\nCan we add a close button like we now have in the new chart popup to the gadget browser?\n\nIn fact Mike wants this on all of our dialogs so I will open an issue in AUI to add this to the dialog and we'll just have to make sure that dashboards will eventually use this new dialog. "
61d42696f4d395ee22007883,51405,21600,We added a bunch of methods to the SPI that we didn't really need. They should be simplified to avoid unnecessary integration effort.
61d42696f4d395ee22007886,51447,14400,Per Rich's comment: https://studio.atlassian.com/source/cru/CR-AG-268#c4367
61d42696f4d395ee22007888,50997,14400,"I was trying to change the title of a dashboard and discovered that updating dashboard state seems to be very complicated:\n{code}\nfinal DashboardState state = dashboardService.get(DashboardId.from(portalPage.getId()), username);\n\n        final Collection<Iterable<GadgetState>> columns = new ArrayList<Iterable<GadgetState>>();\n        for (DashboardState.ColumnIndex columnIndex : state.getLayout().getColumnRange())\n        {\n            columns.add(state.getGadgetsInColumn(columnIndex));\n        }\n        final DashboardState updatedState = DashboardState.dashboard(state.getId()).\n                title(portalPage.getName()).\n                layout(portalPage.getLayout()).\n                columns(columns).build();\n\n        dashboardService.save(updatedState, username);\n{code}\n\nIt would be nice if it was just: \n{code}\nfinal DashboardState state = dashboardService.get(DashboardId.from(portalPage.getId()), username);\nfinal DashboardState updatedState = DashboardState.dashboard(state).title(portalPage.getName()).build();\n dashboardService.save(updatedState, username);\n{code}\n\nor perhaps:\n{code}\nfinal DashboardState state = dashboardService.get(DashboardId.from(portalPage.getId()), username);\n        final DashboardState updatedState = DashboardState.dashboard(state.getId()).\n                title(portalPage.getName()).\n                layout(portalPage.getLayout()).\n                columns(state.getColumns).build();\n\ndashboardService.save(updatedState, username);\n{code}"
61d42696f4d395ee22007890,50273,14400,"Right now if a gadget is added to the directory, a user adds it to their dashboard and then the gadget is removed from the directory, it will still show up on the users dashboard and be rendered.  We need to add a way for the renderer to check if a gadget should be rendered."
61d42696f4d395ee22007893,50567,21600,"If you do not include the dynamic height, {{gadgets}} is not defined in javascript.\n\n{code:xml}\n        <Require feature=""dynamic-height""/>\n{code}\n\n2 errors get thrown, 1 on the first mention of it and another when run onload is called."
61d42696f4d395ee22007897,50957,7200,"a gadget in error state's error message just said ""error"" and didn't include the errorMessage, even though i saw the errorMessage in the gadget when debugging. this was with one of the gadgets not loading in the [pluginsettings.xml|https://studio.atlassian.com/secure/attachment/11211/pluginsettings.xml] attached to AG-386\n\nso i am thinking there is something wrong with this line or how it happens:\n[$i18n.getText('gadget.error.message', \[$gadget.errorMessage\])|https://studio.atlassian.com/source/cru/CR-AG-255#c3939]\n"
61d42696f4d395ee2200789e,51159,14400,"After installing v1.0.0.m3 in JIRA, the following plugin info is observed:\n{quote}\nGadget Dashboard Plugin\nDescription: Plugin which renders a dashboard of gadgets\nVendor: $\{pom.organization.name\}\nPlugin Version: 1.0.0.m3\nJIRA Version: 0.0\n{quote}\n"
61d42696f4d395ee220078a1,50375,14400,See screenshot
61d42696f4d395ee220078a6,51344,21600,Steps to Reproduce:\n1. Open the dashboard server link.\n2. Click on the column layout and don't choose anything.\n3. Now click on any gadget menu or any link.\n\nResult:\n1. The column layout is still there.\n\nExpected:\n1. The dialog should get closed when user click outside that dialog or on main dashboard page
61d42696f4d395ee220078a7,51275,21600,"Steps to Reproduce:\n1. Open the dashboard server link.\n2. Click the maximized option for gadgets(where applicable).\n3. Gadget is in canvas view.\n\nResult:\n1. User can still drag the gadget around.\n2. As only one gadget is there in maximized state, we don't need drag option.\n\nExpected:\n1. Drag option for gadgets should be disabled in maximized state."
61d42696f4d395ee220078ae,50684,14400,Make sure you look at the AJS.params stuff. Perhaps that can help.
61d42696f4d395ee220078b2,50550,21600,"We don't currently support the [views|http://code.google.com/apis/gadgets/docs/reference/#gadgets.views] feature completely.  I know specifically that the requestNavigateTo method is broken, it's likely others are as well."
61d42696f4d395ee220078b3,50595,21600,"Currently our OAuth consumer information is generated by in the [AuthModule|https://studio.atlassian.com/source/browse/AG/trunk/renderer/src/main/java/com/atlassian/gadgets/renderer/internal/guice/AuthModule.java?r=24926].  But that's not really available anywhere for administrators to be able to go and enter their consumer key and public RSA key into service providers so they can get OAuth integration.  Rather than writing a one-off for the Gadgets project, we should instead try and push for an OAuth consumer plugin that we can use for getting the consumer information."
61d42696f4d395ee220078b5,51155,21600,"The process for doing the [OAuth dance|http://code.google.com/apis/gadgets/docs/oauth.html#approval] is pretty painful for gadget developers.  I suggest creating a wrapper, something like atlassian.gadget.oauth.makeRequest that has parameters like\n\nauthorization: function executed when the response.oauthApprovalUrl is set, if not provided then we automatically display the OAuth popup from AG-405 and executes the authorizationComplete function if one is provided when the popup is closed.  If no authorizationComplete function is set, try and refetch the data using the provided success and error functions as the callbacks.\n\nauthorizationComplete: function called after authorization has been finished as specified above, usually simply reexecutes the data fetch\n\nsuccess: function that is called after the dance is done and the data is available\n\nerror: function that is called if there is an error fetching data\n\nauthorizationError: function that is called if there is an error during the OAuth dance\n\nI think something along these lines would make writing gadgets that use OAuth much easier."
61d42696f4d395ee220078b6,50350,14400,"When gadget developers are doing the OAuth dance they need a way to popup a dialog window where the user can give the service provider authorization.  There is an [example|http://gadget-doc-examples.googlecode.com/svn/trunk/opensocial-gadgets/popup.js] from Shindig that does this, but we should customize it for our own needs, possibly putting it an atlassian.gadgets.oauth namespace."
61d42696f4d395ee220078b7,50929,43200,"When a user is not logged in we don't want them to be able to authorize OAuth requests as that OAuth token will hang around for all anonymous users until the token times out.  So we're setting an empty security token so this can't happen.  Unfortunately, this causes the OAuthFetcher.checkCanApprove() method to throw a NPE when it tries to determine if the owner (which is null) is equal to the viewer."
61d42696f4d395ee220078ba,50652,3600,need i18n in gadget browser for categories
61d42696f4d395ee220078bc,50324,3600,"As per [Pete's post|http://extranet.atlassian.com/display/~pmoore/2009/03/09/JQuery+Selector+Performance+on+Large+DOMs], jQuery('.selector','#context') is faster than jQuery('#context .selector')."
61d42696f4d395ee220078bf,51106,43200,"Currently we're passing the GadgetId from a GadgetState object to Shindig for use as a module ID. This has some problems:\n\n* We represent GadgetId internally as a long, restricting the implementation choices for host applications\n* Shindig's module IDs need to be unique for a particular page, but we can't really predict the requirements of a host application, which makes for awkward integration\n* Most significantly, Shindig represents module IDs as ints, meaning that by passing a long we could end up silently truncating the value, causing all kinds of problems\n\nReally we should let applications manage GadgetIds however they want (meaning that we should probably represent them internally as strings, for maximum flexibility) and should handle Shindig's module IDs completely internally by simply numbering the gadgets in a dashboard.\n\nFor embedded gadgets, we'll need to make the applications manage the module ID themselves, so we'll need to expose some way of passing that in to the view components."
61d42696f4d395ee220078c0,50185,14400,"We changed dashboard IDs from strings to longs for consistency with gadget IDs. However this makes it inconvenient to implement for Confluence, who would prefer to use a GUID."
61d42696f4d395ee220078c5,50228,3600,"This _does_ seem to work in the Confluence Macro Browser, tho.\n"
61d42696f4d395ee220078c7,50730,3600,"When you use the new maximize capability for gadgets that support canvas display mode (e.g., the Canvas sample gadget) it expands too far to the right and creates a gap in the header."
61d42696f4d395ee220078ca,51484,14400,"Gadgets can specify in their module prefs that they want a scrollbar on the iframe: http://code.google.com/apis/gadgets/docs/ui.html#Dyn_Height\n\nCurrently, AG doesn't respect this preference.\n\nSee, for example, http://hosting.gmodules.com/ig/gadgets/file/117695765658379330528/WordPress-dot-comRSSFeed.xml"
61d42696f4d395ee220078d5,51237,21600,This seems to happen when reloading a page after adding a gadget.
61d42696f4d395ee220078d9,51017,21600,"We'll need a way to add a 'Login' Gadget when a user's not logged in.  With the current API this is not possible (unless we use the dreaded thread-local authcontext, which I just found out doesn't work for any servlet plugin anyway) unless we pass in the username of the user currently logged in to the DashboardStateStore.  In JIRA's case, this will also be usefull to determine if a user can see a legacy portlet."
61d42696f4d395ee220078dd,50839,43200,"The directory needs to be able to display legacy portlets and allow users to add them to a dashboard.  We could probably achieve this by making the ExternalGadgetStore return domain objects, where we can return a LegacyPortlet object.  The directory would then probably need some special code to handle this..."
61d42696f4d395ee220078df,50962,43200,"There may be gadgets that should not appear in the directory.  For example in JIRA the legacy-portlet gadget used to display old portlets wont work if a user adds it to his dashboard, so I don't think it should be shown in the directory."
61d42696f4d395ee220078e0,50708,21600,A gadget does not have color.  The color is an attribute of the gadgets surrounding chrome and makes no sense when considering standalone gadgets.  It should be moved to the DashboardState class as suggested in CR-AG-195.
61d42696f4d395ee220078e2,50848,21600,"We should make sure we're correctly handling different character encodings in spec XML files.\n\nSome things to test:\n\n* UTF-8 specs with non-ASCII characters\n* Specs with some other, unusual character encoding\n* Specs with an XML banner that doesn't specify an encoding and a byte-order mark\n* Specs with an XML banner, no byte-order mark\n* Specs with no XML banner and a byte-order mark\n* Specs with no banner, no byte-order mark\n\n[RFC 3023|http://www.ietf.org/rfc/rfc3023.txt] defines the expected behavior for each case.\n"
61d42696f4d395ee220078e5,51363,14400,"When you drag, the gadget just disappears.  No POST is made to the server for a layout change.  After that you can't even drag any longer."
61d42696f4d395ee220078e7,51081,7200,"There seems to be an issue with jQuery 1.3 in:\n{code}\nvar valid = function() {\n          $(validationDiv).addClass(""hidden"");\n          $(this).slideToggle(); // close the form ui\n        };\n{code}\n\nWhen $(this).slideToggle() is called it seems to error out sometimes in jQuery code.  This results in the page not reloading after you hit 'Save' when editing user prefs.  It's re-producible on https://dashboard-test.atlassian.com/.  \n\nI've only managed to re-produce it with Firefox 3 so far. Safari seems to be unaffected."
61d42696f4d395ee220078e8,50282,3600,See screenshot
61d42696f4d395ee220078e9,51186,43200,I think it will be good if we introduce a domain object (initially just id and URI) in case we ever want to attach additional meta-data to an external gadget.  It would also make implementing the store in the hostapplication simpler since currently I have to do a full tablescan to find the right entry to remove by URI.  If we have a domain object we can simply do a delete by id and don't have to scan the whole table.
61d42696f4d395ee220078ea,50542,1800,"See screenshot.  When you don't mouseover, the white chrome is showning a line at the top and bottom.  When you do mouseover, the line at the right is missing."
61d42696f4d395ee220078f0,50896,14400,Make more like Macro Browser in CONF
61d42696f4d395ee220078fe,50268,14400,Came up in a review: https://studio.atlassian.com/source/cru/CR-AG-177#c2904\n\nWe should nail this down after taking into consideration OSGi requirements.
61d42696f4d395ee2200790d,51410,3600,"Steps to Reproduce:\n1. Open the dashboard server link. \n2. Try dragging a object away from its position and drop it back to its original location.\n3. Try with JIRA issues gadget\n\nResult:\n1.  The whole gadget get reloaded again.\n\nExpected:\n1. Dragging and not dropping to a new location should not reload the whole page.\n2. Done the same scenerio with igoogle, gadget get reload when drop to a new location but not when drop back to the same location.\n"
61d42696f4d395ee22007912,50942,7200,"Turns out we don't have consistent dropdowns, so border colours will match heading bar and highlight will be subtle grey (probably)"
61d42696f4d395ee2200791e,50884,14400,Rest endpoint for this.
61d42696f4d395ee22007926,51457,21600,"A #staticResourceUrl type macro would be useful for things like pointing to locale message files (see https://studio.atlassian.com/source/browse/AG/trunk/sample-gadgets/src/main/resources/prefs/prefs.xml?r=27481 for an example where it currently uses __ATLASSIAN_BASE_URL__ and a hardcoded path), images and other non-js/css resources."
61d42696f4d395ee2200792c,51121,7200,"""The dynamic height stuff is handled in gadgets.js, which was copied from Shindig's sample container and only slightly modified. You want to look for gadgets.IfrGadgetService.prototype.setHeight. Feel free to mess around with this until it does what you need.  We have an outstanding task to merge this with atl-dashboard.js, as it's a bit of a mess right now."" - cf: CR-AG-163"
61d42696f4d395ee22007930,51036,7200,calling createShims() within the edit function doesn't seem to cut it.
61d42696f4d395ee22007932,50307,3600,Drag an item to the bottom of the screen...
61d42696f4d395ee2200793a,50973,3600,1. Click on dropdown link.\n2. Click elsewhere to close dropdown\n3. Link still has focus (evident by stylings)
61d42696f4d395ee22007948,50907,14400,"If you call setArray it will change the internal state of the gadgets prefs, but won't update the server"
61d42696f4d395ee2200794c,50364,14400,"we no longer need to escape everything in velocity files with $esc.html, thanks to the new TemplateRenderer that ""has the htmlsafe auto-escaping goodness in it"". came up in CR-AG-120"
61d42696f4d395ee2200794f,50872,43200,Keyword search title and description as published in the gadget spec XML.
61d42696f4d395ee22007951,50660,14400,Suggestion from [API/SPI review|https://studio.atlassian.com/wiki/display/AG/API+and+SPI+Review+Notes]
61d42696f4d395ee22007966,50206,3600,"If you call set on multiple preferences in gadget JavaScript code, there is a race condition that can result in only a few of the preference changes actually being saved. This is because each call to set kicks off a separate AJAX request, sending only that preference, and on the server back end it reads _all_ preferences (indeed the whole dashboard state) updates just the one preference being set, and writes the full state back. This means that concurrent requests can leave an inconsistent state.\n\nThe smallest, simplest solution is to send all pref values with each request.\n\nHowever this still doesn't guarantee that they'll all be handled in the correct order, so a more reliable solution would be to use some kind of versioning on the state to ensure that only in-order writes are accepted. This probably requires some kind of client-side queueing and sounds overly complex.\n\nProbably the best solution would be to modify the setprefs API to allow multiple preferences to be set in one call. This would require an OpenSocial spec change, and is certainly a good idea, but may take a while.\n\nPragmatically, we should just tell gadget authors ""don't set multiple preferences through setprefs"". If you're handling settings programatically, you can just store everything you need in a single hidden pref as serialized JSON.\n\nLooking at other containers, the trend may be to abandon user prefs entirely and just use OpenSocial AppData."
61d42696f4d395ee2200796a,51141,21600,There needs to be some way for admins to management (add/remove) what is in their gadget directory.
61d42696f4d395ee2200796f,51278,10800,"Steps to Reproduce:\n1. Launch Dashboard server.\n2. Delete all the gadgets from the page. Go to 2 column(aa) layout. Now add one gadget.\n3. Place the gadget in the second column.\n4. Now try to drag it from second to first column\n\nResult:\n1. The gadget get lost and dashboard give a ""error"" message.\n2. on refreshing the page is fine\n\nExpected:\n1. No loss of gadget should happen on drag and drop"
61d42696f4d395ee2200797d,50551,14400,see screenshots
61d42696f4d395ee2200797e,50908,3600,Optimise by using multiple selectors per rule.
61d42696f4d395ee22007982,50610,86400,Convert the single-project portlet from JIRA to a gadget.
61d42696f4d395ee22007983,51164,14400,The column widths change once the JIRA issues portlet has changed....
61d42696f4d395ee22007984,51317,86400,"We need to do a milestone release. That means we can't depend on any SNAPSHOT versions of artifacts. This in turn means we need to make milestone builds of SNAPSHOT dependencies, or get the appropriate people to do the same."
61d42696f4d395ee22007986,50391,1200,Everybody hates #ccc
61d42696f4d395ee22007987,51128,14400,This may resolve some UI issues. See https://studio.atlassian.com/browse/AG-96?focusedCommentId=14921&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#action_14921
61d42696f4d395ee22007988,50490,10800,Checkout jQuery 1.3b2 and the jQuery roadmap and gather data so @jnolen can assess the risks/benefits.
61d42696f4d395ee22007989,50670,3600,"there's an edit link, but no prefs in there\njust a save/cancel button. No idea if that's a front end or backend error\n\nwill investigate to determine FE or BE"
61d42696f4d395ee2200798c,50692,7200,"Steps to Reproduce:\n1. Launch Dashboard server.\n2. The page has some gadget there. Now decrease the size of the browser by dragging at lower right corner.\n\nResult:\n1. At some points user observed, the right side border of gadgets is missing. Its happening at multiple spots\n\nExpected:\n1. No gadget border loss should be there"
61d42696f4d395ee2200798d,50335,3600,The width of the border means column widths are now too wide for neat alignment.
61d42696f4d395ee22007994,50346,7200,"Assume 3 columns, with a gadget in Columns 1 and 3, but Column 2 being empty.\n\nWhen you change to a 2-column layout, the gadget in Column 3 will be correctly appended to Column 2, but it will have a dashed line around it.\n\nSee screenshot "
61d42696f4d395ee22007999,50380,28800,"The Atlassian Gadgets UI for entering list preferences isn't great: a text field where you enter pipe-delimited items. Compare the iGoogle UI: dynamic add and remove buttons, with a text field for each item. We should do something similar."
61d42696f4d395ee2200799c,50568,1200,see https://studio.atlassian.com/source/cru/CR-AG-81#c1966
61d42696f4d395ee220079a3,51462,14400,"Steps to Reproduce:\n1. Launch IFirefox 3.0 and open the dashboard test server.\n2. In two column layout where all the gadget are currently in one column only.\n3. Try to drag gadget from first column to second column and back to first column\n\nResult:\n1. The text and the placeholder boundary don't move together. When user drags the gadget back from second column to first column, the gadget placeholder boundary only moves and not the text(Drag your gadget here)\n\nExpected :\n1. The gadget placeholder and text should move together"
61d42696f4d395ee220079b8,51419,21600,"AG-144 had us turn off caching for development purposes. It needs to be re-enabled but with some kind of control for disabling it dynamically (probably a request parameter, as well as a development gadget like iGoogle's ""My Gadgets"" (or, ideally, support that gadget itself)."
61d42696f4d395ee220079cc,51366,14400,"if i try to use the menu dropdown (in the upper right corner) of a gadget that has another gadget above it in its column, then the dropdown behaves strangely and unusably. here's what happens in those cases: when i click, the dropdown only lasts a moment and then goes away. the arrow button appears in the gadget above the one clicked as well, for the moment while the dropdown is visible"
61d42696f4d395ee220079da,51308,14400,There may be a standard API for this in the gadget spec already.
61d42696f4d395ee220079db,50739,21600,"Right now there are two general ways to configure a gadget:\n\n# If it uses User Prefs to handle its configuration UI, there is an ""Edit"" item in the gadget drop-down menu that displays the User Pref form.\n# If it does not use User Prefs, the gadget must provide its own configuration UI.\n\nThe JIRA gadgets have a library that provides some consistency for type #2 gadgets (see [Configure Gadget|https://extranet.atlassian.com/display/D/Configure+Gadget], but even if this is adopted uniformly across Atlassian Gadgets, there's still the glaring inconsistency between type 1 and type 2 gadgets.\n\nWe want the ability for type 2 gadgets to declare that they should have an Edit menu item, and specify what should happen when it's clicked.\n\nThe best way to implement this would be with a custom feature. It was advised by the OpenSocial guys from Google that we should namespace custom features, so I'd suggest something like {{atlassian.dynamic-prefs}} or similar.\n\nThat feature should provide a JavaScript method to gadgets (call it something like {{atlassian.gadgets.prefs.registerEditHandler}}) that takes a callback function object as a parameter.\n\nThe feature would have to rely on {{gadgets.rpc}} to handle the communication between the container (where the Edit menu JavaScript lives) and the gadget."
61d42696f4d395ee220079e9,50235,43200,Steps to Reproduce:\n1. Launch Dashboard server.\n2. View the gadget placement in snapshot first.\n3. Move the fish gadget on top of frog gadget in the left column.\n\nResult:\n1. The fish gadget is lost and dashboard give error message(second.jpg).\n2. Now it will keep on giving error message if user try to do any drag and drop operation.\n3. Reloading the page solves the problem\n\nExpected:\n1. No error message should be there.\n2. All the gadgets should be placed properly\n
61d42696f4d395ee220079ea,50272,21600," Steps to Reproduce:\n1. Launch IFirefox 3.0 and open the dashboard test server.\n2. Click ""Add Portlets"" link.\n3. Write any URL path of the gadget you want to add.\n4. Click ""Add"" button\n\nResult:\n1. It do nothing. User is simply waiting.\n\nExpected :\n1. Proper error message should be provided\n"
61d42696f4d395ee220079ec,51332,7200,Steps to Reproduce:\n1. Launch IFirefox 3.0 and open the dashboard test server.\n2. Click on one of the gadgets drop down menu and focus on chromeless color icon\n\nResult:\n1. The color of the icon changes.\n2. Basically the no color look changes to some color\n\nExpected :\n1. The icon look and feel should n't change due to focus
61d42696f4d395ee220079f0,50438,14400,"Steps to Reproduce:\n1. Launch IE 6.0 and open the dashboard test server.\n2. Click on link ""Change Columns""\n\nResult:\n1. In the UI of column layout options, the alignment is not proper. Snapshot enclosed\n2. If user select some option and click on it, it give message ""error""\n\nExpected :\n1. No error message should be coming and UI should be proper"
61d42696f4d395ee220079f2,50935,14400,"Steps to Reproduce:\n1. Launch IE 6.0 and open teh dashboard test server.\n2. Try to access the drop down menu from the first row of gadgets. User is only able to access the drop down menu , in case the gadget is chromeless\n3. Try to access the drop down menu for other gadgets\n\nResult:\n1. Drop down menu UI is not proper. Snapshot enclosed.\n2. Trying to change the gadget color chrome is also not working.\n3. If user once click on ""Minimise"" button , he/she will not be able to expand the gadget again as drop down menu is not coming fully for minimised gadgets\n\nExpected :\n1. The drop down UI should be proper and consistent with appearence on firefox "
61d42696f4d395ee220079f3,50265,108000,"When I drag a a widget around, the title and body move so slowly that they become ""disassociated"" from each other visually.  The body ""drags"" later than the title by 10 or so pi9xels (a lot of visual lag)\n\nThe whole ""drag effect"" is very slow and sluggish.  It feels like you are missing the drag click.\n\nI am on FireFox 3 on a Mac pro (4 core) with kick arse GPU so I worry about what a 1.3Ghz PC is going to see.  \n\nCompared to my counter part in the next desk (Scott Harwood) my is really slow but his isnt.  So it may that his Mac pro is newer than mine or its an Apple OS versus Linux.  But either way requiring fast GPUs to view a web page is a bad situation.\n\nCan the dragging be made more ""efficent""?  Can we make sure we test on ""slow boxes"" and ""slow browsers"""
61d42696f4d395ee220079f8,51060,14400,See https://studio.atlassian.com/source/cru/CR-AG-27#c1333
61d42696f4d395ee220079fb,50569,21600,See iGoogle hover state
61d42696f4d395ee220079fd,50833,21600,Feedback from MCB:\n\nSee Jazz Dashboard Chromeless style for suggestions
61d42696f4d395ee22007a0d,51434,43200,"see spec at https://studio.atlassian.com/wiki/display/AG/Filtering+the+Directory+by+Category\n\n\nWe need to take this slightly further, and write a feature that allows gadgets to define multiple categories for themselves."
61d42696f4d395ee22007a29,50605,14400,see screenshot
61d42696f4d395ee22007a2a,50202,14400,See http://markmail.org/message/nu4rul67hje4fumd\n\nWe probably want some kind of blacklist/whitelist.
61d42696f4d395ee22007a2d,51207,14400,"when you drag a portlet ontop of another portlet, the bottom one's icons flash"
61d42696f4d395ee22007a39,51175,21600,"We need an SPI to be implemented by the host application for loading and saving dashboards.\n\nWe need to:\n a) define the interface that the applications must implement\n b) provide an example implementation for them to use as a guide\n\nOur sample implementation will use [SAL's|http://confluence.atlassian.com/display/SAL/Shared+Access+Layer+Documentation] plugin settings API as a very basic persistence mechanism. This is suitable for the reference implementation and perhaps for some of our products, but is probably insufficient for more complex products including JIRA. In that case, the product teams will be expected to provide their own implementation, using whatever persistence mechanism they choose."
61d42696f4d395ee22007a3b,51104,21600,This will also require a callback in the layout manager for actually adding the selected gadget.
61d42696f4d395ee22007a41,50384,64800,This means a mechanism for setting it up as well as the required endpoint for requesting a certificate
61d42696f4d395ee22007a43,51216,21600,We need some kind of notion of users in the reference app so that trusted apps can be integrated. For starters this will just be a hardcoded list of known users.
61d42696f4d395ee22007a47,324678,43200,"We make collaboration tools, and we want them to work well for you.  This means sharing information through the Services and with certain third parties.  We share information we collect about you in the ways discussed below, including in connection with possible business transfers. We are not in the business of selling information about you to advertisers or other third parties."
61d42696f4d395ee220082b3,170417,18000,"Using the REST API (PUT on /issue), you can set the ""timetracking"" field, which contains 3 fields: Original Estimate, Remaining Estimate and Time Spent. Only the first two can be provided in the PUT call for obvious reasons.\r\n\r\nHowever, if you want to update, say, the Remaining Estimate, you would think that you would just provide the ""remainingEstimate"" sub-field of the ""timetracking"" field. While this is supported, what it actually does is update _both_ the Remaining Estimate _and_ the ""Original Estimate"" fields _to the same value_! (which obviously isn't what you would expect).\r\n\r\nExample customer impacted: https://support.atlassian.com/browse/JST-223425\r\n"
61d42696f4d395ee220085c9,325206,590400,Hover over the dotted part of the field (next to the field name) and drag the field to the desired position.\r\nMove a field to a different tab by dragging it to the name of the tab and dropping it.1. Click the tab that you want to add the field to.\r\n2. Type the name of the field in the drop-down displayed at the bottom of the current fields. Field suggestions will appear as you type. \r\n3. Click Add Field to add it to the current tab.?
61d426ecf4d395ee22008814,103878,86400,The badge for the watcher count is a link that opens an inline dialog. This should have some aria roles on it to notify people that the dialog will be popping open. Could move this to use AUI Inline Dialog 2
61d426ecf4d395ee2200891b,280483,28800,"*Steps to Reproduce*\r\n\r\n# Make a valid request using OAuth 2.0 JWT to an app-centric REST endpoint (/addons, /report-accounts etc.)\r\n\r\n*Expected Results*\r\n\r\nThe request succeeds.\r\n\r\n*Actual Results*\r\n\r\nA 40x error is returned.\r\n\r\n*Workaround*\r\n\r\nUse regular JWT authentication."
